var lP=Object.defineProperty,uP=Object.defineProperties;var dP=Object.getOwnPropertyDescriptors;var uI=Object.getOwnPropertySymbols,hP=Object.getPrototypeOf,fP=Object.prototype.hasOwnProperty,pP=Object.prototype.propertyIsEnumerable,mP=Reflect.get;var dI=(t,e,n)=>e in t?lP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})fP.call(e,n)&&dI(t,n,e[n]);if(uI)for(var n of uI(e))pP.call(e,n)&&dI(t,n,e[n]);return t},ie=(t,e)=>uP(t,dP(e));var Vr=(t,e,n)=>mP(hP(t),n,e);var A=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});function xp(t,e){return Object.is(t,e)}var We=null,Ql=!1,kp=1,nn=Symbol("SIGNAL");function X(t){let e=We;return We=t,e}function Op(){return We}var Ca={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ta(t){if(Ql)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.nextProducerIndex++;if(Xl(We),e<We.producerNode.length&&We.producerNode[e]!==t&&Ia(We)){let n=We.producerNode[e];Zl(n,We.producerIndexOfThis[e])}We.producerNode[e]!==t&&(We.producerNode[e]=t,We.producerIndexOfThis[e]=Ia(We)?fI(t,We,e):0),We.producerLastReadVersion[e]=t.version}function hI(){kp++}function Fp(t){if(!(Ia(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kp)){if(!t.producerMustRecompute(t)&&!jp(t)){Pp(t);return}t.producerRecomputeValue(t),Pp(t)}}function Lp(t){if(t.liveConsumerNode===void 0)return;let e=Ql;Ql=!0;try{for(let n of t.liveConsumerNode)n.dirty||gP(n)}finally{Ql=e}}function Vp(){return We?.consumerAllowSignalWrites!==!1}function gP(t){t.dirty=!0,Lp(t),t.consumerMarkedDirty?.(t)}function Pp(t){t.dirty=!1,t.lastCleanEpoch=kp}function Jl(t){return t&&(t.nextProducerIndex=0),X(t)}function Up(t,e){if(X(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ia(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jp(t){Xl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Fp(n),r!==n.version))return!0}return!1}function Bp(t){if(Xl(t),Ia(t))for(let e=0;e<t.producerNode.length;e++)Zl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fI(t,e,n){if(pI(t),t.liveConsumerNode.length===0&&mI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Zl(t,e){if(pI(t),t.liveConsumerNode.length===1&&mI(t))for(let r=0;r<t.producerNode.length;r++)Zl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xl(i),i.producerIndexOfThis[r]=e}}function Ia(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mI(t){return t.producerNode!==void 0}function $p(t,e){let n=Object.create(yP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Fp(n),Ta(n),n.value===Yl)throw n.error;return n.value};return r[nn]=n,r}var Np=Symbol("UNSET"),Mp=Symbol("COMPUTING"),Yl=Symbol("ERRORED"),yP=ie(V({},Ca),{value:Np,dirty:!0,error:null,equal:xp,kind:"computed",producerMustRecompute(t){return t.value===Np||t.value===Mp},producerRecomputeValue(t){if(t.value===Mp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Mp;let n=Jl(t),r,i=!1;try{r=t.computation(),X(null),i=e!==Np&&e!==Yl&&r!==Yl&&t.equal(e,r)}catch(s){r=Yl,t.error=s}finally{Up(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function vP(){throw new Error}var gI=vP;function yI(t){gI(t)}function Hp(t){gI=t}var _P=null;function qp(t,e){let n=Object.create(eu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Ta(n),n.value);return r[nn]=n,r}function ba(t,e){Vp()||yI(t),t.equal(t.value,e)||(t.value=e,EP(t))}function zp(t,e){Vp()||yI(t),ba(t,e(t.value))}var eu=ie(V({},Ca),{equal:xp,value:void 0,kind:"signal"});function EP(t){t.version++,hI(),Lp(t),_P?.()}function Wp(t){let e=X(null);try{return t()}finally{X(e)}}var Gp;function Da(){return Gp}function ar(t){let e=Gp;return Gp=t,e}var tu=Symbol("NotFound");function G(t){return typeof t=="function"}function Cs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nu=Cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ci(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof nu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vI(s)}catch(o){e=e??[],o instanceof nu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ci(n,e)}remove(e){let{_finalizers:n}=this;n&&Ci(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var Kp=Ve.EMPTY;function ru(t){return t instanceof Ve||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function vI(t){G(t)?t():t.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ts={setTimeout(t,e,...n){let{delegate:r}=Ts;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ts;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iu(t){Ts.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(t);else throw t})}function Sa(){}var _I=Qp("C",void 0,void 0);function EI(t){return Qp("E",void 0,t)}function wI(t){return Qp("N",t,void 0)}function Qp(t,e,n){return{kind:t,value:e,error:n}}var Ti=null;function bs(t){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ti;if(Ti=null,n)throw r}}else t()}function II(t){fn.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=t)}var bi=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ru(e)&&e.add(this)):this.destination=DP}static create(e,n,r){return new Ds(e,n,r)}next(e){this.isStopped?Jp(wI(e),this):this._next(e)}error(e){this.isStopped?Jp(EI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jp(_I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TP=Function.prototype.bind;function Yp(t,e){return TP.call(t,e)}var Zp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){su(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){su(r)}else su(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){su(n)}}},Ds=class extends bi{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yp(e.next,s),error:e.error&&Yp(e.error,s),complete:e.complete&&Yp(e.complete,s)}):i=e}this.destination=new Zp(i)}};function su(t){fn.useDeprecatedSynchronousErrorHandling?II(t):iu(t)}function bP(t){throw t}function Jp(t,e){let{onStoppedNotification:n}=fn;n&&Ts.setTimeout(()=>n(t,e))}var DP={closed:!0,next:Sa,error:bP,complete:Sa};var Ss=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(t){return t}function Xp(...t){return em(t)}function em(t){return t.length===0?qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=AP(n)?n:new Ds(n,r,i);return bs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=CI(r),new r((i,s)=>{let o=new Ds({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ss](){return this}pipe(...n){return em(n)(this)}toPromise(n){return n=CI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function CI(t){var e;return(e=t??fn.Promise)!==null&&e!==void 0?e:Promise}function SP(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function AP(t){return t&&t instanceof bi||SP(t)&&ru(t)}function tm(t){return G(t?.lift)}function he(t){return e=>{if(tm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new nm(t,e,n,r,i)}var nm=class extends bi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function As(){return he((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Rs=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return As()(this)}};var TI=Cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ou(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TI}next(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Kp:(this.currentObservers=null,s.push(n),new Ve(()=>{this.currentObservers=null,Ci(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new ou(e,n),t})(),ou=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Kp}};var ct=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var rm={now(){return(rm.delegate||Date).now()},delegate:void 0};var au=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var Aa={setInterval(t,e,...n){let{delegate:r}=Aa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Aa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ns=class extends au{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Aa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ci(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ms.now=rm.now;var Ps=class extends Ms{constructor(e,n=Ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var im=new Ps(Ns);var cu=class extends Ns{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lu=class extends Ps{};var sm=new lu(cu);var xt=new se(t=>t.complete());function bI(t){return t&&G(t.schedule)}function DI(t){return t[t.length-1]}function uu(t){return G(DI(t))?t.pop():void 0}function Ur(t){return bI(DI(t))?t.pop():void 0}function om(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(p){o(p)}}function l(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}function RI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(x){return new Promise(function(k,$){s.push([y,x,k,$])>1||l(y,x)})},I&&(i[y]=I(i[y])))}function l(y,I){try{u(r[y](I))}catch(x){g(s[0][3],x)}}function u(y){y.value instanceof Di?Promise.resolve(y.value.v).then(f,p):g(s[0][2],y)}function f(y){l("next",y)}function p(y){l("throw",y)}function g(y,I){y(I),s.shift(),s.length&&l(s[0][0],s[0][1])}}function NI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var du=t=>t&&typeof t.length=="number"&&typeof t!="function";function hu(t){return G(t?.then)}function fu(t){return G(t[Ss])}function pu(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function mu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gu=RP();function yu(t){return G(t?.[gu])}function vu(t){return RI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Di(n.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{n.releaseLock()}})}function _u(t){return G(t?.getReader)}function qe(t){if(t instanceof se)return t;if(t!=null){if(fu(t))return NP(t);if(du(t))return MP(t);if(hu(t))return PP(t);if(pu(t))return MI(t);if(yu(t))return xP(t);if(_u(t))return kP(t)}throw mu(t)}function NP(t){return new se(e=>{let n=t[Ss]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,iu)})}function xP(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MI(t){return new se(e=>{OP(t,e).catch(n=>e.error(n))})}function kP(t){return MI(vu(t))}function OP(t,e){var n,r,i,s;return AI(this,void 0,void 0,function*(){try{for(n=NI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function kt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function jr(t,e=0){return he((n,r)=>{n.subscribe(le(r,i=>kt(r,t,()=>r.next(i),e),()=>kt(r,t,()=>r.complete(),e),i=>kt(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PI(t,e){return qe(t).pipe(Br(e),jr(e))}function xI(t,e){return qe(t).pipe(Br(e),jr(e))}function kI(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function OI(t,e){return new se(n=>{let r;return kt(n,e,()=>{r=t[gu](),kt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function Eu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{kt(n,e,()=>{let r=t[Symbol.asyncIterator]();kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FI(t,e){return Eu(vu(t),e)}function LI(t,e){if(t!=null){if(fu(t))return PI(t,e);if(du(t))return kI(t,e);if(hu(t))return xI(t,e);if(pu(t))return Eu(t,e);if(yu(t))return OI(t,e);if(_u(t))return FI(t,e)}throw mu(t)}function Oe(t,e){return e?LI(t,e):qe(t)}function W(...t){let e=Ur(t);return Oe(t,e)}function xs(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function am(t){return!!t&&(t instanceof se||G(t.lift)&&G(t.subscribe))}var cr=Cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return he((n,r)=>{let i=0;n.subscribe(le(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:FP}=Array;function LP(t,e){return FP(e)?t(...e):t(e)}function wu(t){return ee(e=>LP(t,e))}var{isArray:VP}=Array,{getPrototypeOf:UP,prototype:jP,keys:BP}=Object;function Iu(t){if(t.length===1){let e=t[0];if(VP(e))return{args:e,keys:null};if($P(e)){let n=BP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $P(t){return t&&typeof t=="object"&&UP(t)===jP}function Cu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Tu(...t){let e=Ur(t),n=uu(t),{args:r,keys:i}=Iu(t);if(r.length===0)return Oe([],e);let s=new se(HP(r,e,i?o=>Cu(i,o):qt));return n?s.pipe(wu(n)):s}function HP(t,e,n=qt){return r=>{VI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)VI(e,()=>{let u=Oe(t[l],e),f=!1;u.subscribe(le(r,p=>{s[l]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function VI(t,e,n){t?kt(n,t,e):e()}function UI(t,e,n,r,i,s,o,a){let l=[],u=0,f=0,p=!1,g=()=>{p&&!l.length&&!u&&e.complete()},y=x=>u<r?I(x):l.push(x),I=x=>{s&&e.next(x),u++;let k=!1;qe(n(x,f++)).subscribe(le(e,$=>{i?.($),s?y($):e.next($)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;l.length&&u<r;){let $=l.shift();o?kt(e,o,()=>I($)):I($)}g()}catch($){e.error($)}}))};return t.subscribe(le(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return G(e)?Ge((r,i)=>ee((s,o)=>e(r,s,i,o))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>UI(r,i,t,n)))}function jI(t=1/0){return Ge(qt,t)}function BI(){return jI(1)}function ks(...t){return BI()(Oe(t,Ur(t)))}function bu(t){return new se(e=>{qe(t()).subscribe(e)})}function cm(...t){let e=uu(t),{args:n,keys:r}=Iu(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let f=0;f<o;f++){let p=!1;qe(n[f]).subscribe(le(s,g=>{p||(p=!0,u--),a[f]=g},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(r?Cu(r,a):a),s.complete())}))}});return e?i.pipe(wu(e)):i}function zt(t,e){return he((n,r)=>{let i=0;n.subscribe(le(r,s=>t.call(e,s,i++)&&r.next(s)))})}function $r(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(le(n,void 0,void 0,o=>{s=qe(t(o,$r(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function $I(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(le(o,f=>{let p=u++;l=a?t(l,f,p):(a=!0,f),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Hr(t,e){return G(e)?Ge(t,e,1):Ge(t,1)}function qr(t){return he((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function lr(t){return t<=0?()=>xt:he((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Du(t=qP){return he((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qP(){return new cr}function zr(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ur(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,s)=>t(i,s,r)):qt,lr(1),n?qr(e):Du(()=>new cr))}function Os(t){return t<=0?()=>xt:he((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,s)=>t(i,s,r)):qt,Os(1),n?qr(e):Du(()=>new cr))}function um(t,e){return he($I(t,e,arguments.length>=2,!0))}function dm(...t){let e=Ur(t);return he((n,r)=>{(e?ks(t,n,e):ks(t,n)).subscribe(r)})}function Wt(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(le(r,l=>{i?.unsubscribe();let u=0,f=s++;qe(t(l,f)).subscribe(i=le(r,p=>r.next(e?e(l,p,f,u++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function hm(t){return he((e,n)=>{qe(t).subscribe(le(n,()=>n.complete(),Sa)),!n.closed&&e.subscribe(n)})}function lt(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(le(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):qt}var PC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(WP(e,n)),this.code=e}};function zP(t){return`NG0${Math.abs(t)}`}function WP(t,e){return`${zP(t)}${e?": "+e:""}`}var xC=Symbol("InputSignalNode#UNSET"),GP=ie(V({},eu),{transformFn:void 0,applyValueToInputSignal(t,e){ba(t,e)}});function kC(t,e){let n=Object.create(GP);n.value=t,n.transformFn=e?.transform;function r(){if(Ta(n),n.value===xC){let i=null;throw new j(-950,i)}return n.value}return r[nn]=n,r}function za(t){return{toString:t}.toString()}var Su="__parameters__";function KP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function OC(t,e,n){return za(()=>{let r=KP(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,u,f){let p=l.hasOwnProperty(Su)?l[Su]:Object.defineProperty(l,Su,{value:[]})[Su];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xa=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function QP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ot).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function HI(t,e){return t?e?`${t} ${e}`:t:e||""}var YP=Ae({__forward_ref__:Ae});function Fi(t){return t.__forward_ref__=Fi,t.toString=function(){return Ot(this())},t}function At(t){return FC(t)?t():t}function FC(t){return typeof t=="function"&&t.hasOwnProperty(YP)&&t.__forward_ref__===Fi}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function cd(t){return qI(t,VC)||qI(t,UC)}function LC(t){return cd(t)!==null}function qI(t,e){return t.hasOwnProperty(e)?t[e]:null}function JP(t){let e=t&&(t[VC]||t[UC]);return e||null}function zI(t){return t&&(t.hasOwnProperty(WI)||t.hasOwnProperty(ZP))?t[WI]:null}var VC=Ae({\u0275prov:Ae}),WI=Ae({\u0275inj:Ae}),UC=Ae({ngInjectableDef:Ae}),ZP=Ae({ngInjectorDef:Ae}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jC(t){return t&&!!t.\u0275providers}var XP=Ae({\u0275cmp:Ae}),ex=Ae({\u0275dir:Ae}),tx=Ae({\u0275pipe:Ae}),nx=Ae({\u0275mod:Ae}),Fu=Ae({\u0275fac:Ae}),Pa=Ae({__NG_ELEMENT_ID__:Ae}),GI=Ae({__NG_ENV_ID__:Ae});function js(t){return typeof t=="string"?t:t==null?"":String(t)}function rx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():js(t)}function BC(t,e){throw new j(-200,t)}function Eg(t,e){throw new j(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),Am;function $C(){return Am}function rn(t){let e=Am;return Am=t,e}function HC(t,e,n){let r=cd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Eg(t,"Injector")}var ix={},Si=ix,Rm="__NG_DI_FLAG__",Lu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?tu:Si,r)}},Vu="ngTempTokenPath",sx="ngTokenPath",ox=/\n/gm,ax="\u0275",KI="__source";function cx(t,e=re.Default){if(Da()===void 0)throw new j(-203,!1);if(Da()===null)return HC(t,void 0,e);{let n=Da(),r;return n instanceof Lu?r=n.injector:r=n,r.get(t,e&re.Optional?null:void 0,e)}}function q(t,e=re.Default){return($C()||cx)(At(t),e)}function P(t,e=re.Default){return q(t,ld(e))}function ld(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nm(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],l=lx(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function qC(t,e){return t[Rm]=e,t.prototype[Rm]=e,t}function lx(t){return t[Rm]}function ux(t,e,n,r){let i=t[Vu];throw e[KI]&&i.unshift(e[KI]),t.message=dx(`
`+t.message,i,n,r),t[sx]=i,t[Vu]=null,t}function dx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ax?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ox,`
  `)}`}var et=qC(OC("Optional"),8);var hx=qC(OC("SkipSelf"),4);function Bs(t,e){let n=t.hasOwnProperty(Fu);return n?t[Fu]:null}function wg(t,e){t.forEach(n=>Array.isArray(n)?wg(n,e):e(n))}function zC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function px(t,e,n){let r=Wa(t,e);return r>=0?t[r|1]=n:(r=~r,fx(t,r,e,n)),r}function fm(t,e){let n=Wa(t,e);if(n>=0)return t[n|1]}function Wa(t,e){return mx(t,e,1)}function mx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ri={},sn=[],ka=new U(""),WC=new U("",-1),GC=new U(""),ju=class{get(e,n=Si){if(n===Si){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}};function KC(t,e){let n=t[nx]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function $s(t){return t[XP]||null}function gx(t){return t[ex]||null}function yx(t){return t[tx]||null}function Kt(t){return{\u0275providers:t}}function vx(...t){return{\u0275providers:QC(!0,t),\u0275fromNgModule:!0}}function QC(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return wg(e,o=>{let a=o;Mm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YC(i,s),n}function YC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ig(i,s=>{e(s,r)})}}function Mm(t,e,n,r){if(t=At(t),!t)return!1;let i=null,s=zI(t),o=!s&&$s(t);if(!s&&!o){let l=t.ngModule;if(s=zI(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)Mm(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{wg(s.imports,f=>{Mm(f,e,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&YC(u,e)}if(!a){let u=Bs(i)||(()=>new i);e({provide:i,useFactory:u,deps:sn},i),e({provide:GC,useValue:i,multi:!0},i),e({provide:ka,useValue:()=>q(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let u=t;Ig(l,f=>{e(f,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Ig(t,e){for(let n of t)jC(n)&&(n=n.\u0275providers),Array.isArray(n)?Ig(n,e):e(n)}var _x=Ae({provide:String,useValue:Ae});function JC(t){return t!==null&&typeof t=="object"&&_x in t}function Ex(t){return!!(t&&t.useExisting)}function wx(t){return!!(t&&t.useFactory)}function Hs(t){return typeof t=="function"}function Ix(t){return!!t.useClass}var ud=new U(""),Mu={},QI={},pm;function Cg(){return pm===void 0&&(pm=new ju),pm}var ut=class{},Oa=class extends ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xm(e,o=>this.processProvider(o)),this.records.set(WC,Fs(void 0,this)),i.has("environment")&&this.records.set(ut,Fs(void 0,this));let s=this.records.get(ud);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(GC,sn,re.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?tu:Si,r)}destroy(){Na(this),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return Na(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Na(this);let n=ar(this),r=rn(void 0),i;try{return e()}finally{ar(n),rn(r)}}get(e,n=Si,r=re.Default){if(Na(this),e.hasOwnProperty(GI))return e[GI](this);r=ld(r);let i,s=ar(this),o=rn(void 0);try{if(!(r&re.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=Sx(e)&&cd(e);u&&this.injectableDefInScope(u)?l=Fs(Pm(e),Mu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&re.Self?Cg():this.parent;return n=r&re.Optional&&n===Si?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vu]=a[Vu]||[]).unshift(Ot(e)),s)throw a;return ux(a,e,"R3InjectorError",this.source)}else throw a}finally{rn(o),ar(s)}}resolveInjectorInitializers(){let e=X(null),n=ar(this),r=rn(void 0),i;try{let s=this.get(ka,sn,re.Self);for(let o of s)o()}finally{ar(n),rn(r),X(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=At(e);let n=Hs(e)?e:At(e&&e.provide),r=Tx(e);if(!Hs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fs(void 0,Mu,!0),i.factory=()=>Nm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=X(null);try{return n.value===QI?BC(Ot(e)):n.value===Mu&&(n.value=QI,n.value=n.factory()),typeof n.value=="object"&&n.value&&Dx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pm(t){let e=cd(t),n=e!==null?e.factory:Bs(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return Cx(t);throw new j(204,!1)}function Cx(t){if(t.length>0)throw new j(204,!1);let n=JP(t);return n!==null?()=>n.factory(t):()=>new t}function Tx(t){if(JC(t))return Fs(void 0,t.useValue);{let e=ZC(t);return Fs(e,Mu)}}function ZC(t,e,n){let r;if(Hs(t)){let i=At(t);return Bs(i)||Pm(i)}else if(JC(t))r=()=>At(t.useValue);else if(wx(t))r=()=>t.useFactory(...Nm(t.deps||[]));else if(Ex(t))r=()=>q(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(bx(t))r=()=>new i(...Nm(t.deps));else return Bs(i)||Pm(i)}return r}function Na(t){if(t.destroyed)throw new j(205,!1)}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bx(t){return!!t.deps}function Dx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Sx(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function xm(t,e){for(let n of t)Array.isArray(n)?xm(n,e):n&&jC(n)?xm(n.\u0275providers,e):e(n)}function dt(t,e){let n;t instanceof Oa?(Na(t),n=t):n=new Lu(t);let r,i=ar(n),s=rn(void 0);try{return e()}finally{ar(i),rn(s)}}function XC(){return $C()!==void 0||Da()!=null}function e0(t){if(!XC())throw new j(-203,!1)}function Ax(t){return typeof t=="function"}var mr=0,oe=1,Q=2,Nt=3,mn=4,yn=5,Fa=6,Bu=7,Qe=8,qs=9,dr=10,Ye=11,La=12,YI=13,Xs=14,gn=15,zs=16,Ls=17,Ws=18,dd=19,t0=20,Wr=21,mm=22,$u=23,on=24,gm=25,Gt=26,n0=1;var Ni=7,Hu=8,qu=9,Rt=10;function Gr(t){return Array.isArray(t)&&typeof t[n0]=="object"}function gr(t){return Array.isArray(t)&&t[n0]===!0}function r0(t){return(t.flags&4)!==0}function eo(t){return t.componentOffset>-1}function Tg(t){return(t.flags&1)===1}function An(t){return!!t.template}function zu(t){return(t[Q]&512)!==0}function Ga(t){return(t[Q]&256)===256}var km=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function i0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Kr=(()=>{let t=()=>s0;return t.ngInherit=!0,t})();function s0(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nx),Rx}function Rx(){let t=a0(this),e=t?.current;if(e){let n=t.previous;if(n===Ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nx(t,e,n,r,i){let s=this.declaredInputs[r],o=a0(t)||Mx(t,{previous:Ri,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new km(u&&u.currentValue,n,l===Ri),i0(t,e,i,n)}var o0="__ngSimpleChanges__";function a0(t){return t[o0]||null}function Mx(t,e){return t[o0]=e}var JI=null;var Me=function(t,e=null,n){JI?.(t,e,n)},c0="svg",Px="math";function Rn(t){for(;Array.isArray(t);)t=t[mr];return t}function l0(t,e){return Rn(e[t])}function xn(t,e){return Rn(e[t.index])}function bg(t,e){return t.data[e]}function xx(t,e){return t[e]}function Nn(t,e){let n=e[t];return Gr(n)?n:n[mr]}function Dg(t){return(t[Q]&128)===128}function kx(t){return gr(t[Nt])}function Gs(t,e){return e==null?null:t[e]}function u0(t){t[Ls]=0}function d0(t){t[Q]&1024||(t[Q]|=1024,Dg(t)&&fd(t))}function Ox(t,e){for(;t>0;)e=e[Xs],t--;return e}function hd(t){return!!(t[Q]&9216||t[on]?.dirty)}function Om(t){t[dr].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),hd(t)&&fd(t)}function fd(t){t[dr].changeDetectionScheduler?.notify(0);let e=Mi(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Dg(e)));)e=Mi(e)}function h0(t,e){if(Ga(t))throw new j(911,!1);t[Wr]===null&&(t[Wr]=[]),t[Wr].push(e)}function Fx(t,e){if(t[Wr]===null)return;let n=t[Wr].indexOf(e);n!==-1&&t[Wr].splice(n,1)}function Mi(t){let e=t[Nt];return gr(e)?e[Nt]:e}function f0(t){return t[Bu]??=[]}function p0(t){return t.cleanup??=[]}var te={lFrame:C0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fm=!1;function Lx(){return te.lFrame.elementDepthCount}function Vx(){te.lFrame.elementDepthCount++}function Ux(){te.lFrame.elementDepthCount--}function m0(){return te.bindingsEnabled}function jx(){return te.skipHydrationRootTNode!==null}function Bx(t){return te.skipHydrationRootTNode===t}function $x(){te.skipHydrationRootTNode=null}function Ce(){return te.lFrame.lView}function Ft(){return te.lFrame.tView}function pe(t){return te.lFrame.contextLView=t,t[Qe]}function me(t){return te.lFrame.contextLView=null,t}function Qt(){let t=g0();for(;t!==null&&t.type===64;)t=t.parent;return t}function g0(){return te.lFrame.currentTNode}function Hx(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ka(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function y0(){return te.lFrame.isParent}function qx(){te.lFrame.isParent=!1}function zx(){return te.lFrame.contextLView}function v0(){return Fm}function ZI(t){let e=Fm;return Fm=t,e}function Wx(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gx(){return te.lFrame.bindingIndex}function Kx(t){return te.lFrame.bindingIndex=t}function to(){return te.lFrame.bindingIndex++}function _0(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Qx(){return te.lFrame.inI18n}function Yx(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Lm(e)}function Jx(){return te.lFrame.currentDirectiveIndex}function Lm(t){te.lFrame.currentDirectiveIndex=t}function Zx(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function E0(t){te.lFrame.currentQueryIndex=t}function Xx(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function w0(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=Xx(s),i===null||(s=s[Xs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=I0();return r.currentTNode=e,r.lView=t,!0}function Sg(t){let e=I0(),n=t[oe];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function I0(){let t=te.lFrame,e=t===null?null:t.child;return e===null?C0(t):e}function C0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function T0(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var b0=T0;function Ag(){let t=T0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ek(t){return(te.lFrame.contextLView=Ox(t,te.lFrame.contextLView))[Qe]}function Qr(){return te.lFrame.selectedIndex}function Pi(t){te.lFrame.selectedIndex=t}function Rg(){let t=te.lFrame;return bg(t.tView,t.selectedIndex)}function Qa(){te.lFrame.currentNamespace=c0}function tk(){return te.lFrame.currentNamespace}var D0=!0;function Ng(){return D0}function Mg(t){D0=t}function nk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=s0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function S0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Pu(t,e,n){A0(t,e,3,n)}function xu(t,e,n,r){(t[Q]&3)===n&&A0(t,e,n,r)}function ym(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function A0(t,e,n,r){let i=r!==void 0?t[Ls]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Ls]+=65536),(a<s||s==-1)&&(rk(t,n,e,l),t[Ls]=(t[Ls]&4294901760)+l+2),l++}function XI(t,e){Me(4,t,e);let n=X(null);try{e.call(t)}finally{X(n),Me(5,t,e)}}function rk(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[Ls]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,XI(a,s)):XI(a,s)}var Us=-1,xi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function ik(t){return(t.flags&8)!==0}function sk(t){return(t.flags&16)!==0}function ok(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ak(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function R0(t){return t===3||t===4||t===6}function ak(t){return t.charCodeAt(0)===64}function Va(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?eC(t,n,i,null,e[++r]):eC(t,n,i,null,null))}}return t}function eC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function N0(t){return t!==Us}function Wu(t){return t&32767}function ck(t){return t>>16}function Gu(t,e){let n=ck(t),r=e;for(;n>0;)r=r[Xs],n--;return r}var Vm=!0;function tC(t){let e=Vm;return Vm=t,e}var lk=256,M0=lk-1,P0=5,uk=0,Sn={};function dk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pa)&&(r=n[Pa]),r==null&&(r=n[Pa]=uk++);let i=r&M0,s=1<<i;e.data[t+(i>>P0)]|=s}function Ku(t,e){let n=x0(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,vm(r.data,t),vm(e,null),vm(r.blueprint,null));let i=Pg(t,e),s=t.injectorIndex;if(N0(i)){let o=Wu(i),a=Gu(i,e),l=a[oe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function vm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function x0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=V0(i),r===null)return Us;if(n++,i=i[Xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Us}function Um(t,e,n){dk(t,e,n)}function hk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(R0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function k0(t,e,n){if(n&re.Optional||t!==void 0)return t;Eg(e,"NodeInjector")}function O0(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),(n&(re.Self|re.Host))===0){let i=t[qs],s=rn(void 0);try{return i?i.get(e,r,n&re.Optional):HC(e,r,n&re.Optional)}finally{rn(s)}}return k0(r,e,n)}function F0(t,e,n,r=re.Default,i){if(t!==null){if(e[Q]&2048&&!(r&re.Self)){let o=yk(t,e,n,r,Sn);if(o!==Sn)return o}let s=L0(t,e,n,r,Sn);if(s!==Sn)return s}return O0(e,n,r,i)}function L0(t,e,n,r,i){let s=mk(n);if(typeof s=="function"){if(!w0(e,t,r))return r&re.Host?k0(i,n,r):O0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Eg(n);else return o}finally{b0()}}else if(typeof s=="number"){let o=null,a=x0(t,e),l=Us,u=r&re.Host?e[gn][yn]:null;for((a===-1||r&re.SkipSelf)&&(l=a===-1?Pg(t,e):e[a+8],l===Us||!rC(r,!1)?a=-1:(o=e[oe],a=Wu(l),e=Gu(l,e)));a!==-1;){let f=e[oe];if(nC(s,a,f.data)){let p=fk(a,e,n,o,r,u);if(p!==Sn)return p}l=e[a+8],l!==Us&&rC(r,e[oe].data[a+8]===u)&&nC(s,a,e)?(o=f,a=Wu(l),e=Gu(l,e)):a=-1}}return i}function fk(t,e,n,r,i,s){let o=e[oe],a=o.data[t+8],l=r==null?eo(a)&&Vm:r!=o&&(a.type&3)!==0,u=i&re.Host&&s===a,f=pk(a,o,n,l,u);return f!==null?Qu(e,o,f,a):Sn}function pk(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,u=t.directiveEnd,f=s>>20,p=r?a:a+f,g=i?a+f:u;for(let y=p;y<g;y++){let I=o[y];if(y<l&&n===I||y>=l&&I.type===n)return y}if(i){let y=o[l];if(y&&An(y)&&y.type===n)return l}return null}function Qu(t,e,n,r){let i=t[n],s=e.data;if(i instanceof xi){let o=i;o.resolving&&BC(rx(s[n]));let a=tC(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?rn(o.injectImpl):null,f=w0(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&nk(n,s[n],e)}finally{u!==null&&rn(u),tC(a),o.resolving=!1,b0()}}return i}function mk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pa)?t[Pa]:void 0;return typeof e=="number"?e>=0?e&M0:gk:e}function nC(t,e,n){let r=1<<t;return!!(n[e+(t>>P0)]&r)}function rC(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Ai=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return F0(this._tNode,this._lView,e,ld(r),n)}};function gk(){return new Ai(Qt(),Ce())}function no(t){return za(()=>{let e=t.prototype.constructor,n=e[Fu]||jm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fu]||jm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function jm(t){return FC(t)?()=>{let e=jm(At(t));return e&&e()}:Bs(t)}function yk(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!zu(o);){let a=L0(s,o,n,r|re.Self,Sn);if(a!==Sn)return a;let l=s.parent;if(!l){let u=o[t0];if(u){let f=u.get(n,Sn,r);if(f!==Sn)return f}l=V0(o),o=o[Xs]}s=l}return i}function V0(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[yn]:null}function xg(t){return hk(Qt(),t)}function iC(t,e=null,n=null,r){let i=U0(t,e,n,r);return i.resolveInjectorInitializers(),i}function U0(t,e=null,n=null,r,i=new Set){let s=[n||sn,vx(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new Oa(s,e||Cg(),r||null,i)}var Je=class t{static THROW_IF_NOT_FOUND=Si;static NULL=new ju;static create(e,n){if(Array.isArray(e))return iC({name:""},n,e,"");{let r=e.name??"";return iC({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>q(WC)});static __NG_ELEMENT_ID__=-1};var vk=new U("");vk.__NG_ELEMENT_ID__=t=>{let e=Qt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new j(204,!1)};var j0=!1,Ya=(()=>{class t{static __NG_ELEMENT_ID__=_k;static __NG_ENV_ID__=n=>n}return t})(),Bm=class extends Ya{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return h0(this._lView,e),()=>Fx(this._lView,e)}};function _k(){return new Bm(Ce())}var Ks=class{},kg=new U("",{providedIn:"root",factory:()=>!1});var B0=new U(""),$0=new U(""),kn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),pd=(()=>{class t{internalPendingTasks=P(kn);scheduler=P(Ks);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return A(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),$m=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,XC()&&(this.destroyRef=P(Ya,{optional:!0})??void 0,this.pendingTasks=P(kn,{optional:!0})??void 0)}emit(e){let n=X(null);try{super.next(e)}finally{X(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=$m;function Yu(...t){}function H0(t){let e,n;function r(){t=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function sC(t){return queueMicrotask(()=>t()),()=>{t=Yu}}var Og="isAngularZone",Ju=Og+"_ID",Ek=0,Ee=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=j0}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Ck(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Og)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wk,Yu,Yu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wk={};function Fg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ik(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){H0(()=>{t.callbackScheduled=!1,Hm(t),t.isCheckStableRunning=!0,Fg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Hm(t)}function Ck(t){let e=()=>{Ik(t)},n=Ek++;t._inner=t._inner.fork({name:"angular",properties:{[Og]:!0,[Ju]:n,[Ju+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(Tk(l))return r.invokeTask(s,o,a,l);try{return oC(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aC(t)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return oC(t),r.invoke(s,o,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!bk(l)&&e(),aC(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hm(t),Fg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aC(t){t._nesting--,Fg(t)}var qm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Tk(t){return q0(t,"__ignore_ng_zone__")}function bk(t){return q0(t,"__scheduler_tick__")}function q0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var hr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Dk=new U("",{providedIn:"root",factory:()=>{let t=P(Ee),e=P(hr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function cC(t,e){return kC(t,e)}function Sk(t){return kC(xC,t)}var z0=(cC.required=Sk,cC);function Ak(){return md(Qt(),Ce())}function md(t,e){return new Li(xn(t,e))}var Li=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ak}return t})();function Rk(t){return typeof t=="function"&&t[nn]!==void 0}function On(t,e){let n=qp(t,e?.equal),r=n[nn];return n.set=i=>ba(r,i),n.update=i=>zp(r,i),n.asReadonly=Nk.bind(n),n}function Nk(){let t=this[nn];if(t.readonlyFn===void 0){let e=()=>this();e[nn]=t,t.readonlyFn=e}return t.readonlyFn}function W0(t){return Rk(t)&&typeof t.set=="function"}function G0(t){return(t.flags&128)===128}var K0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(K0||{}),Q0=new Map,Mk=0;function Pk(){return Mk++}function xk(t){Q0.set(t[dd],t)}function zm(t){Q0.delete(t[dd])}var lC="__ngContext__";function Ja(t,e){Gr(e)?(t[lC]=e[dd],xk(e)):t[lC]=e}function Y0(t){return Z0(t[La])}function J0(t){return Z0(t[mn])}function Z0(t){for(;t!==null&&!gr(t);)t=t[mn];return t}var Wm;function X0(t){Wm=t}function kk(){if(Wm!==void 0)return Wm;if(typeof document<"u")return document;throw new j(210,!1)}var Lg=new U("",{providedIn:"root",factory:()=>Ok}),Ok="ng",Vg=new U(""),yr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Ug=new U("",{providedIn:"root",factory:()=>kk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fk="h",Lk="b";var eT=!1,Vk=new U("",{providedIn:"root",factory:()=>eT});var tT=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(tT||{}),gd=new U(""),uC=new Set;function Za(t){uC.has(t)||(uC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Uk=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var jk=()=>null;function nT(t,e,n=!1){return jk(t,e,n)}function rT(t,e){let n=t.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];E0(s),a.contentQueries(2,e[o],o)}}}finally{X(r)}}}function Gm(t,e,n){E0(0);let r=X(null);try{e(t,n)}finally{X(r)}}function iT(t,e,n){if(r0(e)){let r=X(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{X(r)}}}var Mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mn||{}),Au;function Bk(){if(Au===void 0&&(Au=null,xa.trustedTypes))try{Au=xa.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Au}function $k(t){return Bk()?.createScriptURL(t)||t}var Ru;function Hk(){if(Ru===void 0&&(Ru=null,xa.trustedTypes))try{Ru=xa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ru}function dC(t){return Hk()?.createScriptURL(t)||t}var Zu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PC})`}};function jg(t){return t instanceof Zu?t.changingThisBreaksApplicationSecurity:t}function sT(t,e){let n=qk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${PC})`)}return n===e}function qk(t){return t instanceof Zu&&t.getTypeName()||null}var zk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wk(t){return t=String(t),t.match(zk)?t:"unsafe:"+t}var Bg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bg||{});function Xa(t){let e=aT();return e?e.sanitize(Bg.URL,t)||"":sT(t,"URL")?jg(t):Wk(js(t))}function Gk(t){let e=aT();if(e)return dC(e.sanitize(Bg.RESOURCE_URL,t)||"");if(sT(t,"ResourceURL"))return dC(jg(t));throw new j(904,!1)}function ec(t){return $k(t[0])}function Kk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Gk:Xa}function oT(t,e,n){return Kk(e,n)(t)}function aT(){let t=Ce();return t&&t[dr].sanitizer}function cT(t){return t instanceof Function?t():t}function Qk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var lT="ng-template";function Yk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Qk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if($g(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function $g(t){return t.type===4&&t.value!==lT}function Jk(t,e,n){let r=t.type===4&&!n?lT:t.value;return e===r}function Zk(t,e,n){let r=4,i=t.attrs,s=i!==null?t1(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!pn(r)&&!pn(l))return!1;if(o&&pn(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!Jk(t,l,n)||l===""&&e.length===1){if(pn(r))return!1;o=!0}}else if(r&8){if(i===null||!Yk(t,i,l,n)){if(pn(r))return!1;o=!0}}else{let u=e[++a],f=Xk(l,i,$g(t),n);if(f===-1){if(pn(r))return!1;o=!0;continue}if(u!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&u!==p){if(pn(r))return!1;o=!0}}}}return pn(r)||o}function pn(t){return(t&1)===0}function Xk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return n1(e,t)}function e1(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zk(t,e[r],n))return!0;return!1}function t1(t){for(let e=0;e<t.length;e++){let n=t[e];if(R0(n))return e}return t.length}function n1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hC(t,e){return t?":not("+e.trim()+")":e}function r1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!pn(o)&&(e+=hC(s,i),i=""),r=o,s=s||!pn(r);n++}return i!==""&&(e+=hC(s,i)),e}function i1(t){return t.map(r1).join(",")}function s1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!pn(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var Fn={};function o1(t,e){return t.createText(e)}function a1(t,e,n){t.setValue(e,n)}function uT(t,e,n){return t.createElement(e,n)}function Xu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dT(t,e,n){t.appendChild(e,n)}function fC(t,e,n,r,i){r!==null?Xu(t,e,n,r,i):dT(t,e,n)}function c1(t,e,n){t.removeChild(null,e,n)}function l1(t,e,n){t.setAttribute(e,"style",n)}function u1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ok(t,e,r),i!==null&&u1(t,e,i),s!==null&&l1(t,e,s)}function Hg(t,e,n,r,i,s,o,a,l,u,f){let p=Gt+r,g=p+i,y=d1(p,g),I=typeof u=="function"?u():u;return y[oe]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1,ssrId:f}}function d1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function h1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qg(t,e,n,r,i,s,o,a,l,u,f){let p=e.blueprint.slice();return p[mr]=i,p[Q]=r|4|128|8|64|1024,(u!==null||t&&t[Q]&2048)&&(p[Q]|=2048),u0(p),p[Nt]=p[Xs]=t,p[Qe]=n,p[dr]=o||t&&t[dr],p[Ye]=a||t&&t[Ye],p[qs]=l||t&&t[qs]||null,p[yn]=s,p[dd]=Pk(),p[Fa]=f,p[t0]=u,p[gn]=e.type==2?t[gn]:p,p}function f1(t,e,n){let r=xn(e,t),i=h1(n),s=t[dr].rendererFactory,o=zg(t,qg(t,i,null,fT(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function fT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function pT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zg(t,e){return t[La]?t[YI][mn]=e:t[La]=e,t[YI]=e,e}function O(t=1){mT(Ft(),Ce(),Qr()+t,!1)}function mT(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Pu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xu(e,s,0,n)}Pi(n)}var yd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yd||{});function Km(t,e,n,r){let i=X(null);try{let[s,o,a]=t.inputs[n],l=null;(o&yd.SignalBased)!==0&&(l=e[s][nn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):i0(e,l,s,r)}finally{X(i)}}function gT(t,e,n,r,i){let s=Qr(),o=r&2;try{Pi(-1),o&&e.length>Gt&&mT(t,e,Gt,!1),Me(o?2:0,i),n(r,i)}finally{Pi(s),Me(o?3:1,i)}}function Wg(t,e,n){_1(t,e,n),(n.flags&64)===64&&E1(t,e,n)}function yT(t,e,n=xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function p1(t,e,n,r){let s=r.get(Vk,eT)||n===Mn.ShadowDom,o=t.selectRootElement(e,s);return m1(o),o}function m1(t){g1(t)}var g1=()=>null;function y1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vT(t,e,n,r,i,s,o,a){if(!a&&Gg(e,t,n,r,i)){eo(e)&&v1(n,e.index);return}if(e.type&3){let l=xn(e,n);r=y1(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function v1(t,e){let n=Nn(e,t);n[Q]&16||(n[Q]|=64)}function _1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;eo(n)&&f1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ku(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],l=Qu(e,t,o,n);if(Ja(l,e),s!==null&&T1(e,o-r,l,a,n,s),An(a)){let u=Nn(n.index,e);u[Qe]=Qu(e,t,o,n)}}}function E1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Jx();try{Pi(s);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];Lm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&w1(l,u)}}finally{Pi(-1),Lm(o)}}function w1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _T(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];e1(e,s.selectors,!1)&&(r??=[],An(s)?r.unshift(s):r.push(s))}return r}function I1(t,e,n,r,i,s){let o=xn(t,e);C1(e[Ye],o,s,t.value,n,r,i)}function C1(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?js(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function T1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],u=o[a+1];Km(r,n,l,u)}}function b1(t,e){let n=t[qs],r=n?n.get(hr,null):null;r&&r.handleError(e)}function Gg(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],f=o[l+1],p=e.data[u];Km(p,n[u],f,i),a=!0}if(s)for(let l of s){let u=n[l],f=e.data[l];Km(f,u,r,i),a=!0}return a}function D1(t,e){let n=Nn(e,t),r=n[oe];S1(r,n);let i=n[mr];i!==null&&n[Fa]===null&&(n[Fa]=nT(i,n[qs])),Me(18),Kg(r,n,n[Qe]),Me(19,n[Qe])}function S1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kg(t,e,n){Sg(e);try{let r=t.viewQuery;r!==null&&Gm(1,r,n);let i=t.template;i!==null&&gT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ws]?.finishViewCreation(t),t.staticContentQueries&&rT(t,e),t.staticViewQueries&&Gm(2,t.viewQuery,n);let s=t.components;s!==null&&A1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Ag()}}function A1(t,e){for(let n=0;n<e.length;n++)D1(t,e[n])}function vd(t,e,n,r){let i=X(null);try{let s=e.tView,a=t[Q]&4096?4096:16,l=qg(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[zs]=u;let f=t[Ws];return f!==null&&(l[Ws]=f.createEmbeddedView(s)),Kg(s,l,n),l}finally{X(i)}}function Ua(t,e){return!e||e.firstChild===null||G0(t)}var R1;function Qg(t,e){return R1(t,e)}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fr||{});function ET(t){return(t.flags&32)===32}function Vs(t,e,n,r,i){if(r!=null){let s,o=!1;gr(r)?s=r:Gr(r)&&(o=!0,r=r[mr]);let a=Rn(r);t===0&&n!==null?i==null?dT(e,n,a):Xu(e,n,a,i||null,!0):t===1&&n!==null?Xu(e,n,a,i||null,!0):t===2?c1(e,a,o):t===3&&e.destroyNode(a),s!=null&&B1(e,t,s,n,i)}}function N1(t,e){wT(t,e),e[mr]=null,e[yn]=null}function M1(t,e,n,r,i,s){r[mr]=i,r[yn]=e,Ed(t,r,n,1,i,s)}function wT(t,e){e[dr].changeDetectionScheduler?.notify(9),Ed(t,e,e[Ye],2,null,null)}function P1(t){let e=t[La];if(!e)return _m(t[oe],t);for(;e;){let n=null;if(Gr(e))n=e[La];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[mn]&&e!==t;)Gr(e)&&_m(e[oe],e),e=e[Nt];e===null&&(e=t),Gr(e)&&_m(e[oe],e),n=e&&e[mn]}e=n}}function Yg(t,e){let n=t[qu],r=n.indexOf(e);n.splice(r,1)}function _d(t,e){if(Ga(e))return;let n=e[Ye];n.destroyNode&&Ed(t,e,n,3,null,null),P1(e)}function _m(t,e){if(Ga(e))return;let n=X(null);try{e[Q]&=-129,e[Q]|=256,e[on]&&Bp(e[on]),k1(t,e),x1(t,e),e[oe].type===1&&e[Ye].destroy();let r=e[zs];if(r!==null&&gr(e[Nt])){r!==e[Nt]&&Yg(r,e);let i=e[Ws];i!==null&&i.detachView(t)}zm(e)}finally{X(n)}}function x1(t,e){let n=t.cleanup,r=e[Bu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[Bu]=null);let i=e[Wr];if(i!==null){e[Wr]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[$u];if(s!==null){e[$u]=null;for(let o of s)o.destroy()}}function k1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Me(4,a,l);try{l.call(a)}finally{Me(5,a,l)}}else{Me(4,i,s);try{s.call(i)}finally{Me(5,i,s)}}}}}function O1(t,e,n){return F1(t,e.parent,n)}function F1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mr];if(eo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return xn(r,n)}function L1(t,e,n){return U1(t,e,n)}function V1(t,e,n){return t.type&40?xn(t,n):null}var U1=V1,pC;function Jg(t,e,n,r){let i=O1(t,r,e),s=e[Ye],o=r.parent||e[yn],a=L1(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)fC(s,i,n[l],a,!1);else fC(s,i,n,a,!1);pC!==void 0&&pC(s,r,e,n,i)}function Ma(t,e){if(e!==null){let n=e.type;if(n&3)return xn(e,t);if(n&4)return Qm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ma(t,r);{let i=t[e.index];return gr(i)?Qm(-1,i):Rn(i)}}else{if(n&128)return Ma(t,e.next);if(n&32)return Qg(e,t)()||Rn(t[e.index]);{let r=IT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(t[gn]);return Ma(i,r)}else return Ma(t,e.next)}}}return null}function IT(t,e){if(e!==null){let r=t[gn][yn],i=e.projection;return r.projection[i]}return null}function Qm(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return Ma(r,i)}return e[Ni]}function Zg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Ja(Rn(a),r),n.flags|=2),!ET(n))if(l&8)Zg(t,e,n.child,r,i,s,!1),Vs(e,t,i,a,s);else if(l&32){let u=Qg(n,r),f;for(;f=u();)Vs(e,t,i,f,s);Vs(e,t,i,a,s)}else l&16?j1(t,e,r,n,i,s):Vs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ed(t,e,n,r,i,s){Zg(n,r,t.firstChild,e,i,s,!1)}function j1(t,e,n,r,i,s){let o=n[gn],l=o[yn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];Vs(e,t,i,f,s)}else{let u=l,f=o[Nt];G0(r)&&(u.flags|=128),Zg(t,e,u,f,i,s,!0)}}function B1(t,e,n,r,i){let s=n[Ni],o=Rn(n);s!==o&&Vs(e,t,r,s,i);for(let a=Rt;a<n.length;a++){let l=n[a];Ed(l[oe],l,t,e,r,s)}}function $1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fr.Important),t.setStyle(n,r,i,s))}}function ed(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Rn(s)),gr(s)&&H1(s,r);let o=n.type;if(o&8)ed(t,e,n.child,r);else if(o&32){let a=Qg(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=IT(e,n);if(Array.isArray(a))r.push(...a);else{let l=Mi(e[gn]);ed(l[oe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function H1(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&ed(r[oe],r,i,e)}t[Ni]!==t[mr]&&e.push(t[Ni])}function CT(t){if(t[gm]!==null){for(let e of t[gm])e.impl.addSequence(e);t[gm].length=0}}var TT=[];function q1(t){return t[on]??z1(t)}function z1(t){let e=TT.pop()??Object.create(G1);return e.lView=t,e}function W1(t){t.lView[on]!==t&&(t.lView=null,TT.push(t))}var G1=ie(V({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{fd(t.lView)},consumerOnSignalRead(){this.lView[on]=this}});function K1(t){let e=t[on]??Object.create(Q1);return e.lView=t,e}var Q1=ie(V({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Mi(t.lView);for(;e&&!bT(e[oe]);)e=Mi(e);e&&d0(e)},consumerOnSignalRead(){this.lView[on]=this}});function bT(t){return t.type!==2}function DT(t){if(t[$u]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[$u])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var Y1=100;function ST(t,e=!0,n=0){let i=t[dr].rendererFactory,s=!1;s||i.begin?.();try{J1(t,n)}catch(o){throw e&&b1(t,o),o}finally{s||i.end?.()}}function J1(t,e){let n=v0();try{ZI(!0),Ym(t,e);let r=0;for(;hd(t);){if(r===Y1)throw new j(103,!1);r++,Ym(t,1)}}finally{ZI(n)}}function Z1(t,e,n,r){if(Ga(e))return;let i=e[Q],s=!1,o=!1;Sg(e);let a=!0,l=null,u=null;s||(bT(t)?(u=q1(e),l=Jl(u)):Op()===null?(a=!1,u=K1(e),l=Jl(u)):e[on]&&(Bp(e[on]),e[on]=null));try{u0(e),Kx(t.bindingStartIndex),n!==null&&gT(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let y=t.preOrderCheckHooks;y!==null&&Pu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&xu(e,y,0,null),ym(e,0)}if(o||X1(e),DT(e),AT(e,0),t.contentQueries!==null&&rT(t,e),!s)if(f){let y=t.contentCheckHooks;y!==null&&Pu(e,y)}else{let y=t.contentHooks;y!==null&&xu(e,y,1),ym(e,1)}tO(t,e);let p=t.components;p!==null&&NT(e,p,0);let g=t.viewQuery;if(g!==null&&Gm(2,g,r),!s)if(f){let y=t.viewCheckHooks;y!==null&&Pu(e,y)}else{let y=t.viewHooks;y!==null&&xu(e,y,2),ym(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mm]){for(let y of e[mm])y();e[mm]=null}s||(CT(e),e[Q]&=-73)}catch(f){throw s||fd(e),f}finally{u!==null&&(Up(u,l),a&&W1(u)),Ag()}}function AT(t,e){for(let n=Y0(t);n!==null;n=J0(n))for(let r=Rt;r<n.length;r++){let i=n[r];RT(i,e)}}function X1(t){for(let e=Y0(t);e!==null;e=J0(e)){if(!(e[Q]&2))continue;let n=e[qu];for(let r=0;r<n.length;r++){let i=n[r];d0(i)}}}function eO(t,e,n){Me(18);let r=Nn(e,t);RT(r,n),Me(19,r[Qe])}function RT(t,e){Dg(t)&&Ym(t,e)}function Ym(t,e){let r=t[oe],i=t[Q],s=t[on],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&jp(s)),o||=!1,s&&(s.dirty=!1),t[Q]&=-9217,o)Z1(r,t,r.template,t[Qe]);else if(i&8192){DT(t),AT(t,1);let a=r.components;a!==null&&NT(t,a,1),CT(t)}}function NT(t,e,n){for(let r=0;r<e.length;r++)eO(t,e[r],n)}function tO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Pi(~i);else{let s=i,o=n[++r],a=n[++r];Yx(o,s);let l=e[s];Me(24,l),a(2,l),Me(25,l)}}}finally{Pi(-1)}}function Xg(t,e){let n=v0()?64:1088;for(t[dr].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Mi(t);if(zu(t)&&!r)return t;t=r}return null}function MT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function PT(t,e){let n=Rt+e;if(n<t.length)return t[n]}function wd(t,e,n,r=!0){let i=e[oe];if(nO(i,e,t,n),r){let o=Qm(n,t),a=e[Ye],l=a.parentNode(t[Ni]);l!==null&&M1(i,t[yn],a,e,l,o)}let s=e[Fa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xT(t,e){let n=ja(t,e);return n!==void 0&&_d(n[oe],n),n}function ja(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[zs];i!==null&&i!==t&&Yg(i,r),e>0&&(t[n-1][mn]=r[mn]);let s=Uu(t,Rt+e);N1(r[oe],r);let o=s[Ws];o!==null&&o.detachView(s[oe]),r[Nt]=null,r[mn]=null,r[Q]&=-129}return r}function nO(t,e,n,r){let i=Rt+r,s=n.length;r>0&&(n[i-1][mn]=e),r<s-Rt?(e[mn]=n[i],zC(n,Rt+r,e)):(n.push(e),e[mn]=null),e[Nt]=n;let o=e[zs];o!==null&&n!==o&&kT(o,e);let a=e[Ws];a!==null&&a.insertView(t),Om(e),e[Q]|=128}function kT(t,e){let n=t[qu],r=e[Nt];if(Gr(r))t[Q]|=2;else{let i=r[Nt][gn];e[gn]!==i&&(t[Q]|=2)}n===null?t[qu]=[e]:n.push(e)}var Ba=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[oe];return ed(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return Ga(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(gr(e)){let n=e[Hu],r=n?n.indexOf(this):-1;r>-1&&(ja(e,r),Uu(n,r))}this._attachedToViewContainer=!1}_d(this._lView[oe],this._lView)}onDestroy(e){h0(this._lView,e)}markForCheck(){Xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Om(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,ST(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zu(this._lView),n=this._lView[zs];n!==null&&!e&&Yg(n,this._lView),wT(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=zu(this._lView),r=this._lView[zs];r!==null&&!n&&kT(r,this._lView),Om(this._lView)}};var Id=(()=>{class t{static __NG_ELEMENT_ID__=sO}return t})(),rO=Id,iO=class extends rO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=vd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ba(i)}};function sO(){return OT(Qt(),Ce())}function OT(t,e){return t.type&4?new iO(e,t,md(t,e)):null}function ey(t,e,n,r,i){let s=t.data[e];if(s===null)s=oO(t,e,n,r,i),Qx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Hx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ka(s,!0),s}function oO(t,e,n,r,i){let s=g0(),o=y0(),a=o?s:s&&s.parent,l=t.data[e]=cO(t,a,n,e,r,i);return aO(t,l,s,o),l}function aO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function cO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return jx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var i7=new RegExp(`^(\\d+)*(${Lk}|${Fk})*(.*)`);var lO=()=>null;function $a(t,e){return lO(t,e)}var uO=class{},FT=class{},Jm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ot(e)}.`)}},Cd=class{static NULL=new Jm},Qs=class{},ro=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>dO()}return t})();function dO(){let t=Ce(),e=Qt(),n=Nn(e.index,t);return(Gr(n)?n:t)[Ye]}var hO=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var Em={},Zm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ld(r);let i=this.injector.get(e,Em,r);return i!==Em||n===Em?i:this.parentInjector.get(e,n,r)}};function mC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=HI(i,a);else if(s==2){let l=a,u=e[++o];r=HI(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function K(t,e=re.Default){let n=Ce();if(n===null)return q(t,e);let r=Qt();return F0(r,n,At(t),e)}function LT(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a,l=null,u=null,f=pO(o);f===null?a=o:[a,l,u]=f,yO(t,e,n,a,s,l,u)}s!==null&&r!==null&&fO(n,r,s)}function fO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}function pO(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let a=t[o];if(o===0&&An(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,mO(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,s]):null}function mO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function gO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yO(t,e,n,r,i,s,o){let a=r.length,l=!1;for(let g=0;g<a;g++){let y=r[g];!l&&An(y)&&(l=!0,gO(t,n,g)),Um(Ku(n,e),t,y.type)}CO(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let u=!1,f=!1,p=pT(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=Va(n.mergedAttrs,y.hostAttrs),_O(t,n,e,p,y),IO(p,y,i),o!==null&&o.has(y)){let[x,k]=o.get(y);n.directiveToIndex.set(y.type,[p,x+n.directiveStart,k+n.directiveStart])}else(s===null||!s.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let I=y.type.prototype;!u&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!f&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}vO(t,n,s)}function vO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))gC(0,e,i,r),gC(1,e,i,r),vC(e,r,!1);else{let s=n.get(i);yC(0,e,s,r),yC(1,e,s,r),vC(e,r,!0)}}}function gC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),VT(e,s)}}function yC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),VT(e,o)}}function VT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function vC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||$g(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let f of u)if(f===e){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let f=0;f<u.length;f+=2)if(u[f]===e){o??=[],o.push(u[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function _O(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Bs(i.type,!0)),o=new xi(s,An(i),K);t.blueprint[r]=o,n[r]=o,EO(t,e,r,pT(t,n,i.hostVars,Fn),i)}function EO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;wO(o)!=a&&o.push(a),o.push(n,r,s)}}function wO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;An(e)&&(n[""]=t)}}function CO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UT(t,e,n,r,i,s,o,a){let l=e.consts,u=Gs(l,o),f=ey(e,t,2,r,u);return s&&LT(e,n,f,Gs(l,a),i),f.mergedAttrs=Va(f.mergedAttrs,f.attrs),f.attrs!==null&&mC(f,f.attrs,!1),f.mergedAttrs!==null&&mC(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function jT(t,e){S0(t,e),r0(e)&&t.queries.elementEnd(e)}var td=class extends Cd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$s(e);return new Ha(n,this.ngModule)}};function TO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&yd.SignalBased)!==0};return i&&(s.transform=i),s})}function bO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function DO(t,e,n){let r=e instanceof ut?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Zm(n,r):n}function SO(t){let e=t.get(Qs,null);if(e===null)throw new j(407,!1);let n=t.get(hO,null),r=t.get(Ks,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function AO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return uT(e,n,n==="svg"?c0:n==="math"?Px:null)}var Ha=class extends FT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=TO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=i1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Me(22);let s=X(null);try{let o=this.componentDef,a=r?["ng-version","19.2.8"]:s1(this.componentDef.selectors[0]),l=Hg(0,null,null,1,0,null,null,null,null,[a],null),u=DO(o,i||this.ngModule,e),f=SO(u),p=f.rendererFactory.createRenderer(null,o),g=r?p1(p,r,o.encapsulation,u):AO(o,p),y=qg(null,l,null,512|fT(o),null,null,f,p,u,null,nT(g,u,!0));y[Gt]=g,Sg(y);let I=null;try{let x=UT(Gt,l,y,"#host",()=>[this.componentDef],!0,0);g&&(hT(p,g,x),Ja(g,y)),Wg(l,y,x),iT(l,x,y),jT(l,x),n!==void 0&&RO(x,this.ngContentSelectors,n),I=Nn(x.index,y),y[Qe]=I[Qe],Kg(l,y,null)}catch(x){throw I!==null&&zm(I),zm(y),x}finally{Me(23),Ag()}return new Xm(this.componentType,y)}finally{X(s)}}},Xm=class extends uO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=bg(n[oe],Gt),this.location=md(this._tNode,n),this.instance=Nn(this._tNode.index,n)[Qe],this.hostView=this.changeDetectorRef=new Ba(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=Gg(r,i[oe],i,e,n);this.previousInputValues.set(e,n);let o=Nn(r.index,i);Xg(o,1)}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function RO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var io=(()=>{class t{static __NG_ELEMENT_ID__=NO}return t})();function NO(){let t=Qt();return PO(t,Ce())}var MO=io,BT=class extends MO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pg(this._hostTNode,this._hostLView);if(N0(e)){let n=Gu(e,this._hostLView),r=Wu(e),i=n[oe].data[r+8];return new Ai(i,n)}else return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_C(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=$a(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ua(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Ax(e),a;if(o)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,s=I.environmentInjector||I.ngModuleRef}let l=o?e:new Ha($s(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let x=(o?u:this.parentInjector).get(ut,null);x&&(s=x)}let f=$s(l.componentType??{}),p=$a(this._lContainer,f?.id??null),g=p?.firstChild??null,y=l.create(u,i,g,s);return this.insertImpl(y.hostView,a,Ua(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(kx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Nt],u=new BT(l,l[yn],l[Nt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return wd(o,i,s,r),e.attachToViewContainerRef(),zC(wm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_C(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);r&&(Uu(wm(this._lContainer),n),_d(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);return r&&Uu(wm(this._lContainer),n)!=null?new Ba(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _C(t){return t[Hu]}function wm(t){return t[Hu]||(t[Hu]=[])}function PO(t,e){let n,r=e[t.index];return gr(r)?n=r:(n=MT(r,e,null,t),e[t.index]=n,zg(e,n)),kO(n,e,t,r),new BT(n,t,e)}function xO(t,e){let n=t[Ye],r=n.createComment(""),i=xn(e,t),s=n.parentNode(i);return Xu(n,s,r,n.nextSibling(i),!1),r}var kO=LO,OO=()=>!1;function FO(t,e,n){return OO(t,e,n)}function LO(t,e,n,r){if(t[Ni])return;let i;n.type&8?i=Rn(r):i=xO(e,n),t[Ni]=i}var Ys=class{},ty=class{};var eg=class extends Ys{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new td(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=KC(e);this._bootstrapComponents=cT(s.bootstrap),this._r3Injector=U0(e,n,[{provide:Ys,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tg=class extends ty{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new eg(this.moduleType,e,[])}};var nd=class extends Ys{injector;componentFactoryResolver=new td(this);instance=null;constructor(e){super();let n=new Oa([...e.providers,{provide:Ys,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],e.parent||Cg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Td(t,e,n=null){return new nd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var VO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=QC(!1,n.type),i=r.length>0?Td([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(q(ut))})}return t})();function ne(t){return za(()=>{let e=$T(t),n=ie(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===K0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(VO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mn.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Za("NgStandalone"),HT(n);let r=t.dependencies;return n.directiveDefs=EC(r,!1),n.pipeDefs=EC(r,!0),n.id=HO(n),n})}function UO(t){return $s(t)||gx(t)}function jO(t){return t!==null}function vr(t){return za(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BO(t,e){if(t==null)return Ri;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=yd.None,l=null),n[s]=[r,a,l],e[s]=o}return n}function $O(t){if(t==null)return Ri;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function tt(t){return za(()=>{let e=$T(t);return HT(e),e})}function $T(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ri,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BO(t.inputs,e),outputs:$O(t.outputs),debugInfo:null}}function HT(t){t.features?.forEach(e=>e(t))}function EC(t,e){if(!t)return null;let n=e?yx:UO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jO)}function HO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qO(t){return Object.getPrototypeOf(t.prototype).constructor}function _r(t){let e=qO(t.type),n=!0,r=[t];for(;e;){let i;if(An(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Im(t.inputs),o.declaredInputs=Im(t.declaredInputs),o.outputs=Im(t.outputs);let a=i.hostBindings;a&&QO(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&GO(t,l),u&&KO(t,u),zO(t,i),QP(t.outputs,i.outputs),An(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===_r&&(n=!1)}}e=Object.getPrototypeOf(e)}WO(r)}function zO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function WO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,n=Va(n,i.hostAttrs))}}function Im(t){return t===Ri?{}:t===sn?[]:t}function GO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function KO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function QO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function qT(t){return JO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function YO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function JO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ZO(t,e,n){return t[e]=n}function Pn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XO(t,e,n,r){let i=Pn(t,e,n);return Pn(t,e+1,r)||i}function eF(t,e,n,r,i,s,o,a,l){let u=e.consts,f=ey(e,t,4,o||null,a||null);m0()&&LT(e,n,f,Gs(u,l),_T),f.mergedAttrs=Va(f.mergedAttrs,f.attrs),S0(e,f);let p=f.tView=Hg(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function ng(t,e,n,r,i,s,o,a,l,u){let f=n+Gt,p=e.firstCreatePass?eF(f,e,t,r,i,s,o,a,l):e.data[f];Ka(p,!1);let g=tF(e,t,p,n);Ng()&&Jg(e,t,g,p),Ja(g,t);let y=MT(g,t,g,p);return t[f]=y,zg(t,y),FO(y,p,t),Tg(p)&&Wg(e,t,p),l!=null&&yT(t,p,u),p}function Yt(t,e,n,r,i,s,o,a){let l=Ce(),u=Ft(),f=Gs(u.consts,s);return ng(l,u,t,e,n,r,i,f,o,a),Yt}var tF=nF;function nF(t,e,n,r){return Mg(!0),e[Ye].createComment("")}var zT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var WT=new U("");var rF=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new rg})}return t})(),rg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Vi(t){return!!t&&typeof t.then=="function"}function GT(t){return!!t&&typeof t.subscribe=="function"}var iF=new U("");var KT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(iF,{optional:!0})??[];injector=P(Je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=dt(this.injector,i);if(Vi(s))n.push(s);else if(GT(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ny=new U("");function sF(){Hp(()=>{throw new j(600,!1)})}function oF(t){return t.isBoundToModule}var aF=10;var ki=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Dk);afterRenderManager=P(Uk);zonelessEnabled=P(kg);rootEffectScheduler=P(rF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new He;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(kn).hasPendingTasks.pipe(ee(n=>!n));constructor(){P(gd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Je.NULL){Me(10);let s=n instanceof FT;if(!this._injector.get(KT).done){let y="";throw new j(405,y)}let a;s?a=n:a=this._injector.get(Cd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=oF(a)?void 0:this._injector.get(Ys),u=r||a.selector,f=a.create(i,[],u,l),p=f.location.nativeElement,g=f.injector.get(WT,null);return g?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),ku(this.components,f),g?.unregisterApplication(p)}),this._loadComponent(f),Me(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(tT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,X(n),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Qs,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<aF;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)cF(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>hd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ny,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ku(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cF(t,e,n,r){if(!n&&!hd(t))return;ST(t,e,n&&!r?0:1)}function Ui(t,e,n,r){let i=Ce(),s=to();if(Pn(i,s,e)){let o=Ft(),a=Rg();I1(a,i,t,e,n,r)}return Ui}function lF(t,e,n,r){return Pn(t,to(),n)?e+js(n)+r:Fn}function uF(t,e,n,r,i,s){let o=Gx(),a=XO(t,o,n,i);return _0(2),a?e+js(n)+r+js(i)+s:Fn}function Nu(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function dF(t){return(t&2)==2}function hF(t,e){return t&131071|e<<17}function ig(t){return t|2}function Js(t){return(t&131068)>>2}function Cm(t,e){return t&-131069|e<<2}function fF(t){return(t&1)===1}function sg(t){return t|1}function pF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Oi(o),l=Js(o);t[r]=n;let u=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Wa(p,f)>0)&&(u=!0)}else f=n;if(i)if(l!==0){let g=Oi(t[a+1]);t[r+1]=Nu(g,a),g!==0&&(t[g+1]=Cm(t[g+1],r)),t[a+1]=hF(t[a+1],r)}else t[r+1]=Nu(a,0),a!==0&&(t[a+1]=Cm(t[a+1],r)),a=r;else t[r+1]=Nu(l,0),a===0?a=r:t[l+1]=Cm(t[l+1],r),l=r;u&&(t[r+1]=ig(t[r+1])),wC(t,f,r,!0),wC(t,f,r,!1),mF(e,f,t,r,s),o=Nu(a,l),s?e.classBindings=o:e.styleBindings=o}function mF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Wa(s,e)>=0&&(n[r+1]=sg(n[r+1]))}function wC(t,e,n,r){let i=t[n+1],s=e===null,o=r?Oi(i):Js(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],u=t[o+1];gF(l,e)&&(a=!0,t[o+1]=r?sg(u):ig(u)),o=r?Oi(u):Js(u)}a&&(t[n+1]=r?ig(i):sg(i))}function gF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wa(t,e)>=0:!1}function Fe(t,e,n){let r=Ce(),i=to();if(Pn(r,i,e)){let s=Ft(),o=Rg();vT(s,o,r,t,e,r[Ye],n,!1)}return Fe}function IC(t,e,n,r,i){Gg(e,t,n,i?"class":"style",r)}function bd(t,e){return yF(t,e,null,!0),bd}function yF(t,e,n,r){let i=Ce(),s=Ft(),o=_0(2);if(s.firstUpdatePass&&_F(s,t,o,r),e!==Fn&&Pn(i,o,e)){let a=s.data[Qr()];TF(s,a,i,i[Ye],t,i[o+1]=bF(e,n),r,o)}}function vF(t,e){return e>=t.expandoStartIndex}function _F(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Qr()],o=vF(t,n);DF(s,r)&&e===null&&!o&&(e=!1),e=EF(i,s,e,r),pF(i,s,e,n,o,r)}}function EF(t,e,n,r){let i=Zx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Tm(null,t,e,n,r),n=qa(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Tm(i,t,e,n,r),s===null){let l=wF(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Tm(null,t,e,l[1],r),l=qa(l,e.attrs,r),IF(t,e,r,l))}else s=CF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function wF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Js(r)!==0)return t[Oi(r)]}function IF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Oi(i)]=r}function CF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=qa(r,o,n)}return qa(r,e.attrs,n)}function Tm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=qa(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),px(t,o,n?!0:e[++s]))}return t===void 0?null:t}function TF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],f=fF(u)?CC(l,e,n,i,Js(u),o):void 0;if(!rd(f)){rd(s)||dF(u)&&(s=CC(l,null,n,i,a,o));let p=l0(Qr(),n);$1(r,o,p,i,s)}}function CC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),f=u?l[1]:l,p=f===null,g=n[i+1];g===Fn&&(g=p?sn:void 0);let y=p?fm(g,r):f===r?g:void 0;if(u&&!rd(y)&&(y=fm(l,r)),rd(y)&&(a=y,o))return a;let I=t[i+1];i=o?Oi(I):Js(I)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=fm(l,r))}return a}function rd(t){return t!==void 0}function bF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(jg(t)))),t}function DF(t,e){return(t.flags&(e?8:16))!==0}var og=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function bm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function SF(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let u=t.at(s),f=e[s],p=bm(s,u,s,f,n);if(p!==0){p<0&&t.updateValue(s,f),s++;continue}let g=t.at(o),y=e[l],I=bm(o,g,l,y,n);if(I!==0){I<0&&t.updateValue(o,y),o--,l--;continue}let x=n(s,u),k=n(o,g),$=n(s,f);if(Object.is($,k)){let be=n(l,y);Object.is(be,x)?(t.swap(s,o),t.updateValue(o,y),l--,o--):t.move(o,s),t.updateValue(s,f),s++;continue}if(r??=new id,i??=bC(t,s,o,n),ag(t,r,s,$))t.updateValue(s,f),s++,o++;else if(i.has($))r.set(x,t.detach(s)),o--;else{let be=t.create(s,e[s]);t.attach(s,be),s++,o++}}for(;s<=l;)TC(t,r,n,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&s<=o;){let f=t.at(s),p=u.value,g=bm(s,f,s,p,n);if(g!==0)g<0&&t.updateValue(s,p),s++,u=l.next();else{r??=new id,i??=bC(t,s,o,n);let y=n(s,p);if(ag(t,r,s,y))t.updateValue(s,p),s++,o++,u=l.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,u=l.next();else{let I=n(s,f);r.set(I,t.detach(s)),o--}}}for(;!u.done;)TC(t,r,n,t.length,u.value),u=l.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(l=>{t.destroy(l)})}function ag(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function TC(t,e,n,r,i){if(ag(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function bC(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var id=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function QT(t,e){Za("NgControlFlow");let n=Ce(),r=to(),i=n[r]!==Fn?n[r]:-1,s=i!==-1?sd(n,Gt+i):void 0,o=0;if(Pn(n,r,t)){let a=X(null);try{if(s!==void 0&&xT(s,o),t!==-1){let l=Gt+t,u=sd(n,l),f=dg(n[oe],l),p=$a(u,f.tView.ssrId),g=vd(n,f,e,{dehydratedView:p});wd(u,g,o,Ua(f,p))}}finally{X(a)}}else if(s!==void 0){let a=PT(s,o);a!==void 0&&(a[Qe]=e)}}var cg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Rt}};var lg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function It(t,e,n,r,i,s,o,a,l,u,f,p,g){Za("NgControlFlow");let y=Ce(),I=Ft(),x=l!==void 0,k=Ce(),$=a?o.bind(k[gn][Qe]):o,be=new lg(x,$);k[Gt+t]=be,ng(y,I,t+1,e,n,r,i,Gs(I.consts,s)),x&&ng(y,I,t+2,l,u,f,p,Gs(I.consts,g))}var ug=class extends og{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Rt}at(e){return this.getLView(e)[Qe].$implicit}attach(e,n){let r=n[Fa];this.needsIndexUpdate||=e!==this.length,wd(this.lContainer,n,e,Ua(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,AF(this.lContainer,e)}create(e,n){let r=$a(this.lContainer,this.templateTNode.tView.ssrId),i=vd(this.hostLView,this.templateTNode,new cg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){_d(e[oe],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Qe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Qe].$index=e}getLView(e){return RF(this.lContainer,e)}};function Ct(t){let e=X(null),n=Qr();try{let r=Ce(),i=r[oe],s=r[n],o=n+1,a=sd(r,o);if(s.liveCollection===void 0){let u=dg(i,o);s.liveCollection=new ug(a,r,u)}else s.liveCollection.reset();let l=s.liveCollection;if(SF(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=to(),f=l.length===0;if(Pn(r,u,f)){let p=n+2,g=sd(r,p);if(f){let y=dg(i,p),I=$a(g,y.tView.ssrId),x=vd(r,y,void 0,{dehydratedView:I});wd(g,x,0,Ua(y,I))}else xT(g,0)}}}finally{X(e)}}function sd(t,e){return t[e]}function AF(t,e){return ja(t,e)}function RF(t,e){return PT(t,e)}function dg(t,e){return bg(t,e)}function b(t,e,n,r){let i=Ce(),s=Ft(),o=Gt+t,a=i[Ye],l=s.firstCreatePass?UT(o,s,i,e,_T,m0(),n,r):s.data[o],u=NF(s,i,l,a,e,t);i[o]=u;let f=Tg(l);return Ka(l,!0),hT(a,u,l),!ET(l)&&Ng()&&Jg(s,i,u,l),(Lx()===0||f)&&Ja(u,i),Vx(),f&&(Wg(s,i,l),iT(s,l,i)),r!==null&&yT(i,l),b}function w(){let t=Qt();y0()?qx():(t=t.parent,Ka(t,!1));let e=t;Bx(e)&&$x(),Ux();let n=Ft();return n.firstCreatePass&&jT(n,e),e.classesWithoutHost!=null&&ik(e)&&IC(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sk(e)&&IC(n,e,Ce(),e.stylesWithoutHost,!1),w}function H(t,e,n,r){return b(t,e,n,r),w(),H}var NF=(t,e,n,r,i,s)=>(Mg(!0),uT(r,i,tk()));function Re(){return Ce()}var od="en-US";var MF=od;function PF(t){typeof t=="string"&&(MF=t.toLowerCase().replace(/_/g,"-"))}function DC(t,e,n){return function r(i){if(i===Function)return n;let s=eo(t)?Nn(t.index,e):e;Xg(s,5);let o=e[Qe],a=SC(e,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=SC(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function SC(t,e,n,r){let i=X(null);try{return Me(6,e,n),n(r)!==!1}catch(s){return xF(t,s),!1}finally{Me(7,e,n),X(i)}}function xF(t,e){let n=t[qs],r=n?n.get(hr,null):null;r&&r.handleError(e)}function AC(t,e,n,r,i,s){let o=e[n],a=e[oe],u=a.data[n].outputs[r],f=o[u],p=a.firstCreatePass?p0(a):null,g=f0(e),y=f.subscribe(s),I=g.length;g.push(s,y),p&&p.push(i,t.index,I,-(I+1))}var kF=(t,e,n)=>{};function de(t,e,n,r){let i=Ce(),s=Ft(),o=Qt();return YT(s,i,i[Ye],o,t,e,r),de}function OF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Bu],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function YT(t,e,n,r,i,s,o){let a=Tg(r),u=t.firstCreatePass?p0(t):null,f=f0(e),p=!0;if(r.type&3||o){let g=xn(r,e),y=o?o(g):g,I=f.length,x=o?$=>o(Rn($[r.index])):r.index,k=null;if(!o&&a&&(k=OF(t,e,i,r.index)),k!==null){let $=k.__ngLastListenerFn__||k;$.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,p=!1}else{s=DC(r,e,s),kF(y,i,s);let $=n.listen(y,i,s);f.push(s,$),u&&u.push(i,x,I,I+1)}}else s=DC(r,e,s);if(p){let g=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let I=0;I<y.length;I+=2){let x=y[I],k=y[I+1];AC(r,e,x,k,i,s)}if(g&&g.length)for(let I of g)AC(r,e,I,i,i,s)}}function ke(t=1){return ek(t)}function Ue(t){let e=zx();return xx(e,Gt+t)}function N(t,e=""){let n=Ce(),r=Ft(),i=t+Gt,s=r.firstCreatePass?ey(r,i,1,e,null):r.data[i],o=FF(r,n,s,e,t);n[i]=o,Ng()&&Jg(r,n,o,s),Ka(s,!1)}var FF=(t,e,n,r,i)=>(Mg(!0),o1(e[Ye],r));function we(t){return Te("",t,""),we}function Te(t,e,n){let r=Ce(),i=lF(r,t,e,n);return i!==Fn&&JT(r,Qr(),i),Te}function Ze(t,e,n,r,i){let s=Ce(),o=uF(s,t,e,n,r,i);return o!==Fn&&JT(s,Qr(),o),Ze}function JT(t,e,n){let r=l0(e,t);a1(t[Ye],r,n)}function Ln(t,e,n){W0(e)&&(e=e());let r=Ce(),i=to();if(Pn(r,i,e)){let s=Ft(),o=Rg();vT(s,o,r,t,e,r[Ye],n,!1)}return Ln}function Er(t,e){let n=W0(t);return n&&t.set(e),n}function Vn(t,e){let n=Ce(),r=Ft(),i=Qt();return YT(r,n,n[Ye],i,t,e),Vn}function LF(t,e,n){let r=Ft();if(r.firstCreatePass){let i=An(t);hg(n,r.data,r.blueprint,i,!0),hg(e,r.data,r.blueprint,i,!1)}}function hg(t,e,n,r,i){if(t=At(t),Array.isArray(t))for(let s=0;s<t.length;s++)hg(t[s],e,n,r,i);else{let s=Ft(),o=Ce(),a=Qt(),l=Hs(t)?t:At(t.provide),u=ZC(t),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Hs(t)||!t.multi){let y=new xi(u,i,K),I=Sm(l,e,i?f:f+g,p);I===-1?(Um(Ku(a,o),s,l),Dm(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[I]=y,o[I]=y)}else{let y=Sm(l,e,f+g,p),I=Sm(l,e,f,f+g),x=y>=0&&n[y],k=I>=0&&n[I];if(i&&!k||!i&&!x){Um(Ku(a,o),s,l);let $=jF(i?UF:VF,n.length,i,r,u);!i&&k&&(n[I].providerFactory=$),Dm(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push($),o.push($)}else{let $=ZT(n[i?I:y],u,!i&&r);Dm(s,t,y>-1?y:I,$)}!i&&r&&k&&n[I].componentProviders++}}}function Dm(t,e,n,r){let i=Hs(e),s=Ix(e);if(i||s){let l=(s?At(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(n);f===-1?u.push(n,[r,l]):u[f+1].push(r,l)}else u.push(n,l)}}}function ZT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VF(t,e,n,r){return fg(this.multi,[])}function UF(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Qu(n,n[oe],this.providerFactory.index,r);s=a.slice(0,o),fg(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],fg(i,s);return s}function fg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function jF(t,e,n,r,i){let s=new xi(t,n,K);return s.multi=[],s.index=e,s.componentProviders=0,ZT(s,i,r&&!n),s}function tc(t,e=[]){return n=>{n.providersResolver=(r,i)=>LF(r,i?i(t):t,e)}}function Yr(t,e,n,r){return $F(Ce(),Wx(),t,e,n,r)}function BF(t,e){let n=t[e];return n===Fn?void 0:n}function $F(t,e,n,r,i,s){let o=e+n;return Pn(t,o,i)?ZO(t,o+1,s?r.call(s,i):r(i)):BF(t,o+1)}function XT(t,e){return OT(t,e)}var Zs=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eb=new Zs("19.2.8"),pg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tb=(()=>{class t{compileModuleSync(n){return new tg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=KC(n),s=cT(i.declarations).reduce((o,a)=>{let l=$s(a);return l&&o.push(new Ha(l)),o},[]);return new pg(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var HF=(()=>{class t{zone=P(Ee);changeDetectionScheduler=P(Ks);applicationRef=P(ki);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qF=new U("",{factory:()=>!1});function nb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(ie(V({},ib()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:ka,multi:!0,useFactory:()=>{let r=P(HF,{optional:!0});return()=>r.initialize()}},{provide:ka,multi:!0,useFactory:()=>{let r=P(zF);return()=>{r.initialize()}}},e===!0?{provide:B0,useValue:!0}:[],{provide:$0,useValue:n??j0}]}function rb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=nb({ngZoneFactory:()=>{let i=ib(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Za("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Kt([{provide:qF,useValue:!0},{provide:kg,useValue:!1},r])}function ib(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zF=(()=>{class t{subscription=new Ve;initialized=!1;zone=P(Ee);pendingTasks=P(kn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var WF=(()=>{class t{appRef=P(ki);taskService=P(kn);ngZone=P(Ee);zonelessEnabled=P(kg);tracing=P(gd,{optional:!0});disableScheduling=P(B0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ju):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P($0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?sC:H0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ju+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GF(){return typeof $localize<"u"&&$localize.locale||od}var ry=new U("",{providedIn:"root",factory:()=>P(ry,re.Optional|re.SkipSelf)||GF()});var mg=new U(""),KF=new U("");function Ra(t){return!t.moduleRef}function QF(t){let e=Ra(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{Ra(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(hr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ra(t)){let s=()=>e.destroy(),o=t.platformInjector.get(mg);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(mg);o.add(s),t.moduleRef.onDestroy(()=>{ku(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return JF(r,n,()=>{let s=e.get(KT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(ry,od);if(PF(o||od),!e.get(KF,!0))return Ra(t)?e.get(ki):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ra(t)){let l=e.get(ki);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return YF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function YF(t,e){let n=t.injector.get(ki);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function JF(t,e,n){try{let r=n();return Vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ou=null;function ZF(t=[],e){return Je.create({name:e,providers:[{provide:ud,useValue:"platform"},{provide:mg,useValue:new Set([()=>Ou=null])},...t]})}function XF(t=[]){if(Ou)return Ou;let e=ZF(t);return Ou=e,sF(),eL(e),e}function eL(t){let e=t.get(Vg,null);dt(t,()=>{e?.forEach(n=>n())})}function iy(){return!1}var so=(()=>{class t{static __NG_ELEMENT_ID__=tL}return t})();function tL(t){return nL(Qt(),Ce(),(t&16)===16)}function nL(t,e,n){if(eo(t)&&!n){let r=Nn(t.index,e);return new Ba(r,r)}else if(t.type&175){let r=e[gn];return new Ba(r,e)}return null}var gg=class{constructor(){}supports(e){return qT(e)}create(e){return new yg(e)}},rL=(t,e)=>e,yg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||rL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<RC(r,i,s)?n:r,a=RC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,f=l-i;if(u!=f){for(let g=0;g<u;g++){let y=g<s.length?s[g]:s[g]=0,I=y+g;f<=I&&I<u&&(s[g]=y+1)}let p=o.previousIndex;s[p]=f-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!qT(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,YO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new vg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},_g=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ad=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new _g,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function NC(){return new sy([new gg])}var sy=(()=>{class t{factories;static \u0275prov=B({token:t,providedIn:"root",factory:NC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NC()),deps:[[t,new hx,new et]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function sb(t){Me(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=XF(r),s=[nb({}),{provide:Ks,useExisting:WF},...n||[]],o=new nd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return QF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Me(9)}}function ji(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Un(t){return Wp(t)}function oo(t,e){return $p(t,e?.equal)}var MC=class{[nn];constructor(e){this[nn]=e}destroy(){this[nn].destroy()}};var nt=new U("");var cb=null;function an(){return cb}function oy(t){cb??=t}var nc=class{},ay=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(lb),providedIn:"platform"})}return t})();var lb=(()=>{class t extends ay{_location;_history;_doc=P(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ub(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function ob(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Jr(t){return t&&t[0]!=="?"?`?${t}`:t}var ao=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(hb),providedIn:"root"})}return t})(),db=new U(""),hb=(()=>{class t extends ao{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ub(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(ay),q(db,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),co=(()=>{class t{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=oL(ob(ab(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Jr(r))}normalize(n){return t.stripTrailingSlash(sL(this._basePath,ab(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Jr;static joinWithSlash=ub;static stripTrailingSlash=ob;static \u0275fac=function(r){return new(r||t)(q(ao))};static \u0275prov=B({token:t,factory:()=>iL(),providedIn:"root"})}return t})();function iL(){return new co(q(ao))}function sL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ab(t){return t.replace(/\/index.html$/,"")}function oL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Dd=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ad=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Dd(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),fb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);fb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(K(io),K(Id),K(sy))};static \u0275dir=tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function fb(t,e){t.context.$implicit=e.item}var Bi=(()=>{class t{_viewContainer;_context=new Sd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(K(io),K(Id))};static \u0275dir=tt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Sd=class{$implicit=null;ngIf=null};function pb(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}var cn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vr({type:t});static \u0275inj=pr({})}return t})();function rc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var cy="browser",mb="server";function Rd(t){return t===mb}var $i=class{};var xd=new U(""),hy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q(xd),q(Ee))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),ic=class{_doc;constructor(e){this._doc=e}manager},Md="ng-app-id";function gb(t){for(let e of t)e.remove()}function yb(t,e){let n=e.createElement("style");return n.textContent=t,n}function aL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Md}="${e}"],link[${Md}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Md),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function uy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var fy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Rd(s),aL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,yb);r?.forEach(i=>this.addUsage(i,this.external,uy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(gb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])gb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,yb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,uy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Md,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q(nt),q(Lg),q(Ug,8),q(yr))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},py=/%COMP%/g;var _b="%COMP%",cL=`_nghost-${_b}`,lL=`_ngcontent-${_b}`,uL=!0,dL=new U("",{providedIn:"root",factory:()=>uL});function hL(t){return lL.replace(py,t)}function fL(t){return cL.replace(py,t)}function Eb(t,e){return e.map(n=>n.replace(py,t))}var my=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,l,u=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=f,this.platformIsServer=Rd(a),this.defaultRenderer=new sc(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mn.ShadowDom&&(r=ie(V({},r),{encapsulation:Mn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Pd?i.applyToHost(n):i instanceof oc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Mn.Emulated:s=new Pd(l,u,r,this.appId,f,o,a,p,g);break;case Mn.ShadowDom:return new dy(l,u,n,r,o,a,this.nonce,p,g);default:s=new oc(l,u,r,f,o,a,p,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(hy),q(fy),q(Lg),q(dL),q(nt),q(yr),q(Ee),q(Ug),q(gd,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),sc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ly[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ly[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ly[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(n,r,i&fr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=an().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dy=class extends sc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,a,l,u){super(e,s,o,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Eb(i.id,f);for(let g of f){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=uy(g,s);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oc=class extends sc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,l,u){super(e,s,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=u?Eb(u,f):f,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Pd=class extends oc{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,l,u){let f=i+"-"+r.id;super(e,n,r,s,o,a,l,u,f),this.contentAttr=hL(f),this.hostAttr=fL(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var kd=class t extends nc{supportsDOMEvents=!0;static makeCurrent(){oy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pL();return n==null?null:mL(n)}resetBaseElement(){ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rc(document.cookie,e)}},ac=null;function pL(){return ac=ac||document.querySelector("base"),ac?ac.getAttribute("href"):null}function mL(t){return new URL(t,document.baseURI).pathname}var gL=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ib=(()=>{class t extends ic{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(q(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),wb=["alt","control","meta","shift"],yL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Cb=(()=>{class t extends ic{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wb.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=yL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wb.forEach(o=>{if(o!==i){let a=vL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function gy(t,e){return sb(V({rootComponent:t},_L(e)))}function _L(t){return{appProviders:[...TL,...t?.providers??[]],platformProviders:CL}}function EL(){kd.makeCurrent()}function wL(){return new hr}function IL(){return X0(document),document}var CL=[{provide:yr,useValue:cy},{provide:Vg,useValue:EL,multi:!0},{provide:nt,useFactory:IL}];var TL=[{provide:ud,useValue:"root"},{provide:hr,useFactory:wL},{provide:xd,useClass:Ib,multi:!0,deps:[nt]},{provide:xd,useClass:Cb,multi:!0,deps:[nt]},my,fy,hy,{provide:Qs,useExisting:my},{provide:$i,useClass:gL},[]];var uo=class{},cc=class{},Zr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Fd=class{encodeKey(e){return Tb(e)}encodeValue(e){return Tb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var DL=/%(\d[a-f0-9])/gi,SL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tb(t){return encodeURIComponent(t).replace(DL,(e,n)=>SL[n]??e)}function Od(t){return`${t}`}var wr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Fd,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=bL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Od):[Od(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Od(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Od(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ld=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function AL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Db(t){return typeof Blob<"u"&&t instanceof Blob}function Sb(t){return typeof FormData<"u"&&t instanceof FormData}function RL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ab="Content-Type",Rb="Accept",Mb="X-Request-URL",Pb="text/plain",xb="application/json",NL=`${xb}, ${Pb}, */*`,lo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let s;if(AL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zr,this.context??=new Ld,!this.params)this.params=new wr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bb(this.body)||Db(this.body)||Sb(this.body)||RL(this.body)?this.body:this.body instanceof wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Sb(this.body)?null:Db(this.body)?this.body.type||null:bb(this.body)?null:typeof this.body=="string"?Pb:this.body instanceof wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xb:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),f)),new t(n,r,o,{params:f,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Hi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hi||{}),ho=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Zr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Vd=class t extends ho{constructor(e={}){super(e)}type=Hi.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lc=class t extends ho{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Hi.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uc=class extends ho{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ML=200,PL=204;function yy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var fo=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof lo)s=n;else{let l;i.headers instanceof Zr?l=i.headers:l=new Zr(i.headers);let u;i.params&&(i.params instanceof wr?u=i.params:u=new wr({fromObject:i.params})),s=new lo(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(Hr(l=>this.handler.handle(l)));if(n instanceof lo||i.observe==="events")return o;let a=o.pipe(zt(l=>l instanceof lc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new j(2806,!1);return l.body}));case"blob":return a.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new j(2807,!1);return l.body}));case"text":return a.pipe(ee(l=>{if(l.body!==null&&typeof l.body!="string")throw new j(2808,!1);return l.body}));case"json":default:return a.pipe(ee(l=>l.body))}case"response":return a;default:throw new j(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new wr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,yy(i,r))}post(n,r,i={}){return this.request("POST",n,yy(i,r))}put(n,r,i={}){return this.request("PUT",n,yy(i,r))}static \u0275fac=function(r){return new(r||t)(q(uo))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var xL=new U("");function kb(t,e){return e(t)}function kL(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function OL(t,e,n){return(r,i)=>dt(n,()=>e(r,s=>t(s,i)))}var Ob=new U(""),_y=new U(""),Fb=new U(""),Ey=new U("",{providedIn:"root",factory:()=>!0});function FL(){let t=null;return(e,n)=>{t===null&&(t=(P(Ob,{optional:!0})??[]).reduceRight(kL,kb));let r=P(kn);if(P(Ey)){let s=r.add();return t(e,n).pipe(zr(()=>r.remove(s)))}else return t(e,n)}}var Ud=(()=>{class t extends uo{backend;injector;chain=null;pendingTasks=P(kn);contributeToStability=P(Ey);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_y),...this.injector.get(Fb,[])]));this.chain=r.reduceRight((i,s)=>OL(i,s,this.injector),kb)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(zr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(q(cc),q(ut))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var LL=/^\)\]\}',?\n/,VL=RegExp(`^${Mb}:`,"m");function UL(t){return"responseURL"in t&&t.responseURL?t.responseURL:VL.test(t.getAllResponseHeaders())?t.getResponseHeader(Mb):null}var vy=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Oe(r.\u0275loadImpl()):W(null)).pipe(Wt(()=>new se(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((x,k)=>o.setRequestHeader(x,k.join(","))),n.headers.has(Rb)||o.setRequestHeader(Rb,NL),!n.headers.has(Ab)){let x=n.detectContentTypeHeader();x!==null&&o.setRequestHeader(Ab,x)}if(n.responseType){let x=n.responseType.toLowerCase();o.responseType=x!=="json"?x:"text"}let a=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let x=o.statusText||"OK",k=new Zr(o.getAllResponseHeaders()),$=UL(o)||n.url;return l=new Vd({headers:k,status:o.status,statusText:x,url:$}),l},f=()=>{let{headers:x,status:k,statusText:$,url:be}=u(),Z=null;k!==PL&&(Z=typeof o.response>"u"?o.responseText:o.response),k===0&&(k=Z?ML:0);let ot=k>=200&&k<300;if(n.responseType==="json"&&typeof Z=="string"){let rr=Z;Z=Z.replace(LL,"");try{Z=Z!==""?JSON.parse(Z):null}catch(yt){Z=rr,ot&&(ot=!1,Z={error:yt,text:Z})}}ot?(s.next(new lc({body:Z,headers:x,status:k,statusText:$,url:be||void 0})),s.complete()):s.error(new uc({error:Z,headers:x,status:k,statusText:$,url:be||void 0}))},p=x=>{let{url:k}=u(),$=new uc({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});s.error($)},g=!1,y=x=>{g||(s.next(u()),g=!0);let k={type:Hi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),n.responseType==="text"&&o.responseText&&(k.partialText=o.responseText),s.next(k)},I=x=>{let k={type:Hi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),s.next(k)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",I)),o.send(a),s.next({type:Hi.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||t)(q($i))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Lb=new U(""),jL="XSRF-TOKEN",BL=new U("",{providedIn:"root",factory:()=>jL}),$L="X-XSRF-TOKEN",HL=new U("",{providedIn:"root",factory:()=>$L}),dc=class{},qL=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=rc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(q(nt),q(yr),q(BL))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function zL(t,e){let n=t.url.toLowerCase();if(!P(Lb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(dc).getToken(),i=P(HL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var wy=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(wy||{});function WL(t,e){return{\u0275kind:t,\u0275providers:e}}function Iy(...t){let e=[fo,vy,Ud,{provide:uo,useExisting:Ud},{provide:cc,useFactory:()=>P(xL,{optional:!0})??P(vy)},{provide:_y,useValue:zL,multi:!0},{provide:Lb,useValue:!0},{provide:dc,useClass:qL}];for(let n of t)e.push(...n.\u0275providers);return Kt(e)}var Nb=new U("");function Cy(){return WL(wy.LegacyInterceptors,[{provide:Nb,useFactory:FL},{provide:_y,useExisting:Nb,multi:!0}])}var Ub=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y="primary",bc=Symbol("RouteTitle"),Ay=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wi(t){return new Ay(t)}function Gb(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function KL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}function jn(t,e){let n=t?Ry(t):void 0,r=e?Ry(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Kb(t[i],e[i]))return!1;return!0}function Ry(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Qb(t){return t.length>0?t[t.length-1]:null}function ti(t){return am(t)?t:Vi(t)?Oe(Promise.resolve(t)):W(t)}var QL={exact:Jb,subset:Zb},Yb={exact:YL,subset:JL,ignored:()=>!0};function jb(t,e,n){return QL[n.paths](t.root,e.root,n.matrixParams)&&Yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YL(t,e){return jn(t,e)}function Jb(t,e,n){if(!qi(t.segments,e.segments)||!$d(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Jb(t.children[r],e.children[r],n))return!1;return!0}function JL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kb(t[n],e[n]))}function Zb(t,e,n){return Xb(t,e,e.segments,n)}function Xb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qi(i,n)||e.hasChildren()||!$d(i,n,r))}else if(t.segments.length===n.length){if(!qi(t.segments,n)||!$d(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Zb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!qi(t.segments,i)||!$d(t.segments,i,r)||!t.children[Y]?!1:Xb(t.children[Y],e,s,r)}}function $d(t,e,n){return e.every((r,i)=>Yb[n](t[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return eV.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}},Xr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return tD(this)}};function ZL(t,e){return qi(t,e)&&t.every((n,r)=>jn(n.parameters,e[r].parameters))}function qi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function XL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}var Dc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new Gi,providedIn:"root"})}return t})(),Gi=class{parse(e){let n=new My(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,r=rV(e.queryParams),i=typeof e.fragment=="string"?`#${tV(e.fragment)}`:"";return`${n}${r}${i}`}},eV=new Gi;function Hd(t){return t.segments.map(e=>tD(e)).join("/")}function hc(t,e){if(!t.hasChildren())return Hd(t);if(e){let n=t.children[Y]?hc(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Y&&r.push(`${i}:${hc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=XL(t,(r,i)=>i===Y?[hc(t.children[Y],!1)]:[`${i}:${hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${Hd(t)}/${n[0]}`:`${Hd(t)}/(${n.join("//")})`}}function eD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(t){return eD(t).replace(/%3B/gi,";")}function tV(t){return encodeURI(t)}function Ny(t){return eD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(t){return decodeURIComponent(t)}function Bb(t){return qd(t.replace(/\+/g,"%20"))}function tD(t){return`${Ny(t.path)}${nV(t.parameters)}`}function nV(t){return Object.entries(t).map(([e,n])=>`;${Ny(e)}=${Ny(n)}`).join("")}function rV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jd(n)}=${jd(i)}`).join("&"):`${jd(n)}=${jd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var iV=/^[^\/()?;#]+/;function Ty(t){let e=t.match(iV);return e?e[0]:""}var sV=/^[^\/()?;=#]+/;function oV(t){let e=t.match(sV);return e?e[0]:""}var aV=/^[^=?&#]+/;function cV(t){let e=t.match(aV);return e?e[0]:""}var lV=/^[^&#]+/;function uV(t){let e=t.match(lV);return e?e[0]:""}var My=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new Ie(e,n)),r}parseSegment(){let e=Ty(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Xr(qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ty(this.remaining);i&&(r=i,this.capture(r))}e[qd(n)]=qd(r)}parseQueryParam(e){let n=cV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=uV(this.remaining);o&&(r=o,this.capture(r))}let i=Bb(n),s=Bb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ty(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Y]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function nD(t){return t.segments.length>0?new Ie([],{[Y]:t}):t}function rD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=rD(i);if(r===Y&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return dV(n)}function dV(t){if(t.numberOfChildren===1&&t.children[Y]){let e=t.children[Y];return new Ie(t.segments.concat(e.segments),e.children)}return t}function ei(t){return t instanceof $n}function iD(t,e,n=null,r=null){let i=sD(t);return oD(i,e,n,r)}function sD(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let a=new Ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=nD(r);return e??i}function oD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return by(i,i,i,n,r);let s=hV(e);if(s.toRoot())return by(i,i,new Ie([],{}),n,r);let o=fV(s,i,t),a=o.processChildren?pc(o.segmentGroup,o.index,s.commands):cD(o.segmentGroup,o.index,s.commands);return by(i,o.segmentGroup,a,n,r)}function Wd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function gc(t){return typeof t=="object"&&t!=null&&t.outlets}function by(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=n:o=aD(t,e,n);let a=nD(rD(o));return new $n(a,s,i)}function aD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=aD(s,e,n)}),new Ie(t.segments,r)}var Gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wd(r[0]))throw new j(4003,!1);let i=r.find(gc);if(i&&i!==Qb(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Gd(n,e,r)}var go=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fV(t,e,n){if(t.isAbsolute)return new go(e,!0,0);if(!n)return new go(e,!1,NaN);if(n.parent===null)return new go(n,!0,0);let r=Wd(t.commands[0])?0:1,i=n.segments.length-1+r;return pV(n,i,t.numberOfDoubleDots)}function pV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new go(r,!1,i-s)}function mV(t){return gc(t[0])?t[0].outlets:{[Y]:t}}function cD(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return pc(t,e,n);let r=gV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new Ie(t.segments.slice(r.pathIndex),t.children),pc(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Py(t,e,n):r.match?pc(t,0,i):Py(t,e,n)}function pc(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=mV(n),i={};if(Object.keys(r).some(s=>s!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let s=pc(t.children[Y],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=cD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function gV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(gc(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Hb(l,u,o))return s;r+=2}else{if(!Hb(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Py(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(gc(s)){let l=yV(s.outlets);return new Ie(r,l)}if(i===0&&Wd(n[0])){let l=t.segments[e];r.push(new Xr(l.path,$b(n[0]))),i++;continue}let o=gc(s)?s.outlets[Y]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wd(a)?(r.push(new Xr(o,$b(a))),i+=2):(r.push(new Xr(o,{})),i++)}return new Ie(r,{})}function yV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Py(new Ie([],{}),0,r))}),e}function $b(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Hb(t,e,n){return t==n.path&&jn(e,n.parameters)}var zd="imperative",rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rt||{}),Zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ki=class extends Zt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends Zt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Lt||{}),yc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(yc||{}),Bn=class extends Zt{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends Zt{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},vo=class extends Zt{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vc=class extends Zt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class extends Zt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends Zt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yd=class extends Zt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class extends Zt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xd=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eh=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},th=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nh=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _c=class{},_o=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function vV(t,e){return t.providers&&!t._injector&&(t._injector=Td(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vn(t){return t.outlet||Y}function _V(t,e){let n=t.filter(r=>vn(r)===e);return n.push(...t.filter(r=>vn(r)!==e)),n}function Sc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ih=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Sc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Io(this.rootInjector)}},Io=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ih(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(ut))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ky(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ky(e,this._root).map(n=>n.value)}};function xy(t,e){if(t===e.value)return e;for(let n of e.children){let r=xy(t,n);if(r)return r}return null}function ky(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ky(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ec=class extends sh{snapshot;constructor(e,n){super(e),this.snapshot=n,$y(this,e)}toString(){return this.snapshot.toString()}};function lD(t){let e=EV(t),n=new ct([new Xr("",{})]),r=new ct({}),i=new ct({}),s=new ct({}),o=new ct(""),a=new Cr(n,r,s,o,i,Y,t,e.root);return a.snapshot=e.root,new Ec(new Jt(a,[]),e)}function EV(t){let e={},n={},r={},i="",s=new zi([],e,r,i,n,Y,t,null,{});return new wc("",new Jt(s,[]))}var Cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ee(u=>u[bc]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function oh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&dD(i)&&(r.resolve[bc]=i.title),r}var zi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bc]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},wc=class extends sh{url;constructor(e,n){super(n),this.url=e,$y(this,n)}toString(){return uD(this._root)}};function $y(t,e){e.value._routerState=t,e.children.forEach(n=>$y(t,n))}function uD(t){let e=t.children.length>0?` { ${t.children.map(uD).join(", ")} } `:"";return`${t.value}${e}`}function Dy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jn(e.params,n.params)||t.paramsSubject.next(n.params),KL(e.url,n.url)||t.urlSubject.next(n.url),jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Oy(t,e){let n=jn(t.params,e.params)&&ZL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Oy(t.parent,e.parent))}function dD(t){return typeof t.title=="string"||t.title===null}var hD=new U(""),Ac=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Y;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=z0(void 0);parentContexts=P(Io);location=P(io);changeDetector=P(so);inputBinder=P(uh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Fy(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kr]})}return t})(),Fy=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Cr?this.route:e===Io?this.childContexts:e===hD?this.outletData:this.parent.get(e,n)}},uh=new U("");function wV(t,e,n){let r=Ic(t,e._root,n?n._root:void 0);return new Ec(r,e)}function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=IV(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(t,a)),o}}let r=CV(e.value),i=e.children.map(s=>Ic(t,s));return new Jt(r,i)}}function IV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ic(t,r,i);return Ic(t,r)})}function CV(t){return new Cr(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var Eo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},fD="ngNavigationCancelingError";function ah(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pD(!1,Lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function pD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fD]=!0,n.cancellationCode=e,n}function TV(t){return mD(t)&&ei(t.url)}function mD(t){return!!t&&t[fD]}var bV=(t,e,n,r)=>ee(i=>(new Ly(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ly=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=mo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new rh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new th(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Dy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ch=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function DV(t,e,n){let r=t._root,i=e?e._root:null;return fc(r,i,n,[r.value])}function SV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Co(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!LC(t)?t:e.get(t):r}function fc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=mo(e);return t.children.forEach(o=>{AV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>mc(a,n.getContext(o),i)),i}function AV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=RV(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ch(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fc(t,e,a?a.children:null,r,i):fc(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yo(a.outlet.component,o))}else o&&mc(e,a,i),i.canActivateChecks.push(new ch(r)),s.component?fc(t,null,a?a.children:null,r,i):fc(t,null,n,r,i);return i}function RV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qi(t.url,e.url)||!jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oy(t,e)||!jn(t.queryParams,e.queryParams);case"paramsChange":default:return!Oy(t,e)}}function mc(t,e,n){let r=mo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?mc(o,e.children.getContext(s),n):mc(o,null,n):mc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yo(e.outlet.component,i)):n.canDeactivateChecks.push(new yo(null,i)):n.canDeactivateChecks.push(new yo(null,i))}function Rc(t){return typeof t=="function"}function NV(t){return typeof t=="boolean"}function MV(t){return t&&Rc(t.canLoad)}function PV(t){return t&&Rc(t.canActivate)}function xV(t){return t&&Rc(t.canActivateChild)}function kV(t){return t&&Rc(t.canDeactivate)}function OV(t){return t&&Rc(t.canMatch)}function gD(t){return t instanceof cr||t?.name==="EmptyError"}var Bd=Symbol("INITIAL_VALUE");function wo(){return Wt(t=>Tu(t.map(e=>e.pipe(lr(1),dm(Bd)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Bd)return Bd;if(n===!1||FV(n))return n}return!0}),zt(e=>e!==Bd),lr(1)))}function FV(t){return ei(t)||t instanceof Eo}function LV(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(ie(V({},n),{guardsResult:!0})):VV(o,r,i,t).pipe(Ge(a=>a&&NV(a)?UV(r,s,t,e):W(a)),ee(a=>ie(V({},n),{guardsResult:a})))})}function VV(t,e,n,r){return Oe(t).pipe(Ge(i=>qV(i.component,i.route,n,e,r)),ur(i=>i!==!0,!0))}function UV(t,e,n,r){return Oe(e).pipe(Hr(i=>ks(BV(i.route.parent,r),jV(i.route,r),HV(t,i.path,n),$V(t,i.route,n))),ur(i=>i!==!0,!0))}function jV(t,e){return t!==null&&e&&e(new nh(t)),W(!0)}function BV(t,e){return t!==null&&e&&e(new eh(t)),W(!0)}function $V(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>bu(()=>{let o=Sc(e)??n,a=Co(s,o),l=PV(a)?a.canActivate(e,t):dt(o,()=>a(e,t));return ti(l).pipe(ur())}));return W(i).pipe(wo())}function HV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>SV(o)).filter(o=>o!==null).map(o=>bu(()=>{let a=o.guards.map(l=>{let u=Sc(o.node)??n,f=Co(l,u),p=xV(f)?f.canActivateChild(r,t):dt(u,()=>f(r,t));return ti(p).pipe(ur())});return W(a).pipe(wo())}));return W(s).pipe(wo())}function qV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let l=Sc(e)??i,u=Co(a,l),f=kV(u)?u.canDeactivate(t,e,n,r):dt(l,()=>u(t,e,n,r));return ti(f).pipe(ur())});return W(o).pipe(wo())}function zV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=Co(o,t),l=MV(a)?a.canLoad(e,n):dt(t,()=>a(e,n));return ti(l)});return W(s).pipe(wo(),yD(r))}function yD(t){return Xp(lt(e=>{if(typeof e!="boolean")throw ah(t,e)}),ee(e=>e===!0))}function WV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=Co(o,t),l=OV(a)?a.canMatch(e,n):dt(t,()=>a(e,n));return ti(l)});return W(s).pipe(wo(),yD(r))}var Cc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function po(t){return xs(new Cc(t))}function GV(t){return xs(new j(4e3,!1))}function KV(t){return xs(pD(!1,Lt.GuardRejected))}var Vy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Y])return GV(`${e.redirectTo}`);i=i.children[Y]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:f,url:p,outlet:g,params:y,data:I,title:x}=i,k=dt(s,()=>a({params:y,data:I,queryParams:l,fragment:u,routeConfig:f,url:p,outlet:g,title:x}));if(k instanceof $n)throw new Tc(k);n=k}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Tc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new $n(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Uy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QV(t,e,n,r,i){let s=vD(t,e,n);return s.matched?(r=vV(e,r),WV(r,e,n,i).pipe(ee(o=>o===!0?s:V({},Uy)))):W(s)}function vD(t,e,n){if(e.path==="**")return YV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},Uy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Gb)(n,t,e);if(!i)return V({},Uy);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function YV(t){return{matched:!0,parameters:t.length>0?Qb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qb(t,e,n,r){return n.length>0&&XV(t,n,r)?{segmentGroup:new Ie(e,ZV(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&e2(t,n,r)?{segmentGroup:new Ie(t.segments,JV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function JV(t,e,n,r){let i={};for(let s of n)if(dh(t,e,s)&&!r[vn(s)]){let o=new Ie([],{});i[vn(s)]=o}return V(V({},r),i)}function ZV(t,e){let n={};n[Y]=e;for(let r of t)if(r.path===""&&vn(r)!==Y){let i=new Ie([],{});n[vn(r)]=i}return n}function XV(t,e,n){return n.some(r=>dh(t,e,r)&&vn(r)!==Y)}function e2(t,e,n){return n.some(r=>dh(t,e,r))}function dh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function t2(t,e,n){return e.length===0&&!t.children[n]}var jy=class{};function n2(t,e,n,r,i,s,o="emptyOnly"){return new By(t,e,n,r,i,o,s).recognize()}var r2=31,By=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Vy(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=qb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),s=new wc("",i),o=iD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new zi([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Y,n).pipe(ee(r=>({children:r,rootSnapshot:n})),$r(r=>{if(r instanceof Tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof Jt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Oe(s).pipe(Hr(o=>{let a=r.children[o],l=_V(n,o);return this.processSegmentGroup(e,l,a,o,i)}),um((o,a)=>(o.push(...a),o)),qr(null),lm(),Ge(o=>{if(o===null)return po(r);let a=_D(o);return i2(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return Oe(n).pipe(Hr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe($r(u=>{if(u instanceof Cc)return W(null);throw u}))),ur(l=>!!l),$r(l=>{if(gD(l))return t2(r,i,s)?W(new jy):po(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return vn(r)!==o&&(o===Y||!dh(i,s,r))?po(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):po(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=vD(n,i,s);if(!l)return po(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r2&&(this.allowRedirects=!1));let y=new zi(s,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,zb(i),vn(i),i.component??i._loadedComponent??null,i,Wb(i)),I=oh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Ge(k=>this.processSegment(e,r,n,k.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=QV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Wt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:u})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=l,I=new zi(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,zb(r),vn(r),r.component??r._loadedComponent??null,r,Wb(r)),x=oh(I,o,this.paramsInheritanceStrategy);I.params=Object.freeze(x.params),I.data=Object.freeze(x.data);let{segmentGroup:k,slicedSegments:$}=qb(n,g,y,u);if($.length===0&&k.hasChildren())return this.processChildren(f,u,k,I).pipe(ee(Z=>new Jt(I,Z)));if(u.length===0&&$.length===0)return W(new Jt(I,[]));let be=vn(r)===s;return this.processSegment(f,u,k,$,be?Y:s,!0,I).pipe(ee(Z=>new Jt(I,Z instanceof Jt?[Z]:[])))}))):po(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):zV(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):KV(n))):W({routes:[],injector:e})}};function i2(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}function s2(t){let e=t.value.routeConfig;return e&&e.path===""}function _D(t){let e=[],n=new Set;for(let r of t){if(!s2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_D(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function zb(t){return t.data||{}}function Wb(t){return t.resolve||{}}function o2(t,e,n,r,i,s){return Ge(o=>n2(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:l})=>ie(V({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function a2(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of ED(l))o.add(u);let a=0;return Oe(o).pipe(Hr(l=>s.has(l)?c2(l,r,t,e):(l.data=oh(l,l.parent,t).resolve,W(void 0))),lt(()=>a++),Os(1),Ge(l=>a===o.size?W(n):xt))})}function ED(t){let e=t.children.map(n=>ED(n)).flat();return[t,...e]}function c2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!dD(i)&&(s[bc]=i.title),l2(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=oh(t,t.parent,n).resolve,null)))}function l2(t,e,n,r){let i=Ry(t);if(i.length===0)return W({});let s={};return Oe(i).pipe(Ge(o=>u2(t[o],e,n,r).pipe(ur(),lt(a=>{if(a instanceof Eo)throw ah(new Gi,a);s[o]=a}))),Os(1),ee(()=>s),$r(o=>gD(o)?xt:xs(o)))}function u2(t,e,n,r){let i=Sc(e)??r,s=Co(t,i),o=s.resolve?s.resolve(e,n):dt(i,()=>s(e,n));return ti(o)}function Sy(t){return Wt(e=>{let n=t(e);return n?Oe(n).pipe(ee(()=>e)):W(e)})}var Hy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Y);return r}getResolvedTitleForRoute(n){return n.data[bc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(wD),providedIn:"root"})}return t})(),wD=(()=>{class t extends Hy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(Ub))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nc=new U("",{providedIn:"root",factory:()=>({})}),qy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ne({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&H(0,"router-outlet")},dependencies:[Ac],encapsulation:2})}return t})();function zy(t){let e=t.children&&t.children.map(zy),n=e?ie(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=qy),n}var Mc=new U(""),ID=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(tb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ti(n.loadComponent()).pipe(ee(TD),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),zr(()=>{this.componentLoaders.delete(n)})),i=new Rs(r,()=>new He).pipe(As());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=CD(r,this.compiler,n,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(r)})),o=new Rs(s,()=>new He).pipe(As());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function CD(t,e,n,r){return ti(t.loadChildren()).pipe(ee(TD),Ge(i=>i instanceof ty||Array.isArray(i)?W(i):Oe(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Mc,[],{optional:!0,self:!0}).flat()),{routes:o.map(zy),injector:s}}))}function d2(t){return t&&typeof t=="object"&&"default"in t}function TD(t){return d2(t)?t.default:t}var hh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(h2),providedIn:"root"})}return t})(),h2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bD=new U("");var DD=new U(""),SD=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new He;transitionAbortSubject=new He;configLoader=P(ID);environmentInjector=P(ut);destroyRef=P(Ya);urlSerializer=P(Dc);rootContexts=P(Io);location=P(co);inputBindingEnabled=P(uh,{optional:!0})!==null;titleStrategy=P(Hy);options=P(Nc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(hh);createViewTransition=P(bD,{optional:!0});navigationErrorHandler=P(DD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Zd(i)),r=i=>this.events.next(new Xd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ie(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new ct(null),this.transitions.pipe(zt(r=>r!==null),Wt(r=>{let i=!1,s=!1;return W(r).pipe(Wt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),xt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.rawUrl),u,yc.IgnoredSameUrlNavigation)),o.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(Wt(u=>(this.events.next(new Ki(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?xt:Promise.resolve(u))),o2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ie(V({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let f=new vc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:f,source:p,restoredState:g,extras:y}=o,I=new Ki(u,this.urlSerializer.serialize(f),p,g);this.events.next(I);let x=lD(this.rootComponentType).snapshot;return this.currentTransition=r=ie(V({},o),{targetSnapshot:x,urlAfterRedirects:f,extras:ie(V({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,W(r)}else{let u="";return this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),u,yc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),xt}}),lt(o=>{let a=new Kd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ee(o=>(this.currentTransition=r=ie(V({},o),{guards:DV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),LV(this.environmentInjector,o=>this.events.next(o)),lt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw ah(this.urlSerializer,o.guardsResult);let a=new Qd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),zt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Lt.GuardRejected),!1)),Sy(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(lt(a=>{let l=new Yd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Wt(a=>{let l=!1;return W(a).pipe(a2(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Lt.NoDataFromResolver)}}))}),lt(a=>{let l=new Jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Sy(o=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(lt(f=>{l.component=f}),ee(()=>{})));for(let f of l.children)u.push(...a(f));return u};return Tu(a(o.targetSnapshot.root)).pipe(qr(null),lr(1))}),Sy(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?Oe(l).pipe(ee(()=>r)):W(r)}),ee(o=>{let a=wV(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ie(V({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),lt(()=>{this.events.next(new _c)}),bV(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),lr(1),lt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hm(this.transitionAbortSubject.pipe(lt(o=>{throw o}))),zr(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$r(o=>{if(this.destroyed)return r.resolve(!1),xt;if(s=!0,mD(o))this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),TV(o)?this.events.next(new _o(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new vo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Eo){let{message:u,cancellationCode:f}=ah(this.urlSerializer,l);this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,f)),this.events.next(new _o(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return xt}))}))}cancelNavigationTransition(n,r,i){let s=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function f2(t){return t!==zd}var AD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(p2),providedIn:"root"})}return t})(),lh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},p2=(()=>{class t extends lh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=no(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RD=(()=>{class t{urlSerializer=P(Dc);options=P(Nc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(co);urlHandlingStrategy=P(hh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof $n?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=lD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(m2),providedIn:"root"})}return t})(),m2=(()=>{class t extends RD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ki?this.updateStateMemento():n instanceof Ir?this.commitTransition(r):n instanceof vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _c?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bn&&(n.code===Lt.GuardRejected||n.code===Lt.NoDataFromResolver)?this.restoreHistory(r):n instanceof vo?this.restoreHistory(r,!0):n instanceof Hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,l=V(V({},o),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=V(V({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=no(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wy(t,e){t.events.pipe(zt(n=>n instanceof Hn||n instanceof Bn||n instanceof vo||n instanceof Ir),ee(n=>n instanceof Hn||n instanceof Ir?0:(n instanceof Bn?n.code===Lt.Redirect||n.code===Lt.SupersededByNewNavigation:!1)?2:1),zt(n=>n!==2),lr(1)).subscribe(()=>{e()})}var g2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(zT);stateManager=P(RD);options=P(Nc,{optional:!0})||{};pendingTasks=P(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(SD);urlSerializer=P(Dc);location=P(co);urlHandlingStrategy=P(hh);_events=new He;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(AD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Mc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(uh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Bn&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hn)this.navigated=!0;else if(r instanceof _o){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||f2(i.source)},o);this.scheduleNavigation(a,zd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=V({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=sD(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return oD(p,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ei(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,zd,null,r)}navigate(n,r={skipLocationChange:!1}){return v2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},g2):r===!1?i=V({},y2):i=r,ei(n))return jb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return jb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,g)=>{a=p,l=g});let f=this.pendingTasks.add();return Wy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function v2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function _2(t){return!(t instanceof _c)&&!(t instanceof _o)}var Vt=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new He;constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ei(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:oT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(K(Qi),K(Cr),xg("tabindex"),K(ro),K(Li),K(ao))};static \u0275dir=tt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ui("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ji],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ji],replaceUrl:[2,"replaceUrl","replaceUrl",ji],routerLink:"routerLink"},features:[Kr]})}return t})();var w2=new U("");function Gy(t,...e){return Kt([{provide:Mc,multi:!0,useValue:t},[],{provide:Cr,useFactory:I2,deps:[Qi]},{provide:ny,multi:!0,useFactory:C2},e.map(n=>n.\u0275providers)])}function I2(t){return t.routerState.root}function C2(){let t=P(Je);return e=>{let n=t.get(ki);if(e!==n.components[0])return;let r=t.get(Qi),i=t.get(T2);t.get(b2)===1&&r.initialNavigation(),t.get(D2,null,re.Optional)?.setUpPreloading(),t.get(w2,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T2=new U("",{factory:()=>new He}),b2=new U("",{providedIn:"root",factory:()=>1});var D2=new U("");var VD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(K(ro),K(Li))};static \u0275dir=tt({type:t})}return t})(),A2=(()=>{class t extends VD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=no(t)))(i||t)}})();static \u0275dir=tt({type:t,features:[_r]})}return t})(),UD=new U("");var R2={provide:UD,useExisting:Fi(()=>So),multi:!0};function N2(){let t=an()?an().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var M2=new U(""),So=(()=>{class t extends VD{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!N2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(K(ro),K(Li),K(M2,8))};static \u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[tc([R2]),_r]})}return t})();function P2(t){return t==null||x2(t)===0}function x2(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Jy=new U(""),jD=new U("");function k2(t){return P2(t.value)?{required:!0}:null}function ND(t){return null}function BD(t){return t!=null}function $D(t){return Vi(t)?Oe(t):t}function HD(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function qD(t,e){return e.map(n=>n(t))}function O2(t){return!t.validate}function zD(t){return t.map(e=>O2(e)?e:n=>e.validate(n))}function F2(t){if(!t)return null;let e=t.filter(BD);return e.length==0?null:function(n){return HD(qD(n,e))}}function Zy(t){return t!=null?F2(zD(t)):null}function L2(t){if(!t)return null;let e=t.filter(BD);return e.length==0?null:function(n){let r=qD(n,e).map($D);return cm(r).pipe(ee(HD))}}function Xy(t){return t!=null?L2(zD(t)):null}function MD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function V2(t){return t._rawValidators}function U2(t){return t._rawAsyncValidators}function Ky(t){return t?Array.isArray(t)?t:[t]:[]}function ph(t,e){return Array.isArray(t)?t.includes(e):t===e}function PD(t,e){let n=Ky(e);return Ky(t).forEach(i=>{ph(n,i)||n.push(i)}),n}function xD(t,e){return Ky(e).filter(n=>!ph(t,n))}var mh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Do=class extends mh{name;get formDirective(){return null}get path(){return null}},Lc=class extends mh{_parent=null;name=null;valueAccessor=null},gh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},j2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SJ=ie(V({},j2),{"[class.ng-submitted]":"isSubmitted"}),Eh=(()=>{class t extends gh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(K(Lc,2))};static \u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_r]})}return t})(),wh=(()=>{class t extends gh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(K(Do,10))};static \u0275dir=tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_r]})}return t})();var Pc="VALID",fh="INVALID",To="PENDING",xc="DISABLED",ni=class{},yh=class extends ni{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Oc=class extends ni{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Fc=class extends ni{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},bo=class extends ni{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Qy=class extends ni{source;constructor(e){super(),this.source=e}},Yy=class extends ni{source;constructor(e){super(),this.source=e}};function WD(t){return(Ih(t)?t.validators:t)||null}function B2(t){return Array.isArray(t)?Zy(t):t||null}function GD(t,e){return(Ih(e)?e.asyncValidators:t)||null}function $2(t){return Array.isArray(t)?Xy(t):t||null}function Ih(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function H2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function q2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var vh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(e){Un(()=>this.statusReactive.set(e))}_status=oo(()=>this.statusReactive());statusReactive=On(void 0);get valid(){return this.status===Pc}get invalid(){return this.status===fh}get pending(){return this.status==To}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}errors;get pristine(){return Un(this.pristineReactive)}set pristine(e){Un(()=>this.pristineReactive.set(e))}_pristine=oo(()=>this.pristineReactive());pristineReactive=On(!0);get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(e){Un(()=>this.touchedReactive.set(e))}_touched=oo(()=>this.touchedReactive());touchedReactive=On(!1);get untouched(){return!this.touched}_events=new He;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xD(e,this._rawAsyncValidators))}hasValidator(e){return ph(this._rawValidators,e)}hasAsyncValidator(e){return ph(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Fc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Fc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=To;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(i=>{i.disable(ie(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yh(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this._forEachChild(r=>{r.enable(ie(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===To)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yh(this.value,n)),this._events.next(new bo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=To,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=$D(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?fh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(To)?To:this._anyControlsHaveStatus(fh)?fh:Pc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Oc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Fc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ih(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=B2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$2(this._rawAsyncValidators)}},_h=class extends vh{constructor(e,n,r){super(WD(n),GD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){q2(this,!0,e),Object.keys(e).forEach(r=>{H2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ev=new U("",{providedIn:"root",factory:()=>tv}),tv="always";function z2(t,e){return[...e.path,t]}function KD(t,e,n=tv){QD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),G2(t,e),Q2(t,e),K2(t,e),W2(t,e)}function kD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function QD(t,e){let n=V2(t);e.validator!==null?t.setValidators(MD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=U2(t);e.asyncValidator!==null?t.setAsyncValidators(MD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();kD(e._rawValidators,i),kD(e._rawAsyncValidators,i)}function G2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&YD(t,e)})}function K2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&YD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function YD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Q2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Y2(t,e){t==null,QD(t,e)}function J2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Z2(t){return Object.getPrototypeOf(t.constructor)===A2}function X2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===So?n=s:Z2(s)?r=s:i=s}),i||r||n||null}var tU={provide:Do,useExisting:Fi(()=>Vc)},kc=Promise.resolve(),Vc=(()=>{class t extends Do{callSetDisabledState;get submitted(){return Un(this.submittedReactive)}_submitted=oo(()=>this.submittedReactive());submittedReactive=On(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new _h({},Zy(n),Xy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){kc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),KD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){kc.then(()=>{let r=this._findContainer(n.path),i=new _h({});Y2(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){kc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),X2(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Qy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Yy(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(K(Jy,10),K(jD,10),K(ev,8))};static \u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&de("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[tc([tU]),_r]})}return t})();function OD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nU=class extends vh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(WD(n),GD(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ih(n)&&(n.nonNullable||n.initialValueIsDefault)&&(FD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rU={provide:Lc,useExisting:Fi(()=>Uc)},LD=Promise.resolve(),Uc=(()=>{class t extends Lc{_changeDetectorRef;callSetDisabledState;control=new nU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=eU(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),J2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){LD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ji(r);LD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?z2(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(K(Do,9),K(Jy,10),K(jD,10),K(UD,10),K(so,8),K(ev,8))};static \u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tc([rU]),_r,Kr]})}return t})();var Ch=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var iU=(()=>{class t{_validator=ND;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ND,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=tt({type:t,features:[Kr]})}return t})();var sU={provide:Jy,useExisting:Fi(()=>nv),multi:!0};var nv=(()=>{class t extends iU{required;inputName="required";normalizeInput=ji;createValidator=n=>k2;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=no(t)))(i||t)}})();static \u0275dir=tt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ui("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[tc([sU]),_r]})}return t})();var oU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vr({type:t});static \u0275inj=pr({})}return t})();var Ao=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ev,useValue:n.callSetDisabledState??tv}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vr({type:t});static \u0275inj=pr({imports:[oU]})}return t})();var ZD=()=>{};var iv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var F=function(t,e){if(!t)throw Yi(e)},Yi=function(t){return new Error("Firebase Database ("+iv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var eS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Mo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(g=64)),r.push(n[f],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new sv;let g=s<<2|a>>4;if(r.push(g),u!==64){let y=a<<4&240|u>>2;if(r.push(y),p!==64){let I=u<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},av=function(t){let e=eS(t);return Mo.encodeByteArray(e,!0)},jc=function(t){return av(t).replace(/\./g,"")},Ro=function(t){try{return Mo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tS(t){return nS(void 0,t)}function nS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!cU(n)||(t[n]=nS(t[n],e[n]));return t}function cU(t){return t!=="__proto__"}function cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lU=()=>cv().__FIREBASE_DEFAULTS__,uU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ro(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return ZD()||lU()||uU()||dU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uv=t=>{var e,n;return(n=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bh=t=>{let e=uv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dv=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config},hv=t=>{var e;return(e=lv())===null||e===void 0?void 0:e[`_${t}`]};var _n=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Dh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),""].join(".")}function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Sh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){let t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qn(){return iv.NODE_CLIENT===!0||iv.NODE_ADMIN===!0}function $c(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hU="FirebaseError",Xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xt(i,a,r)}};function fU(t,e){return t.replace(pU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pU=/\{\$([^}]+)}/g;function No(t){return JSON.parse(t)}function ze(t){return JSON.stringify(t)}var aS=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=No(Ro(s[0])||""),n=No(Ro(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var cS=function(t){let e=aS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lS=function(t){let e=aS(t).claims;return typeof e=="object"&&e.admin===!0};function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ji(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ln(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(XD(s)&&XD(o)){if(!ln(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function XD(t){return t!==null&&typeof t=="object"}function Zi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Th=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=a^s&(o^a),f=1518500249):(u=s^o^a,f=1859775393):p<60?(u=s&o|a&(s|o),f=2400959708):(u=s^o^a,f=3395469782);let g=(i<<5|i>>>27)+u+l+f+r[p]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function uS(t,e){let n=new ov(t,e);return n.subscribe.bind(n)}var ov=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rv),i.error===void 0&&(i.error=rv),i.complete===void 0&&(i.complete=rv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rv(){}function Ah(t,e){return`${t} failed: ${e} argument `}var dS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,F(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zc=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var PJ=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Rh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _n;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yU(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gU(t){return t===Xi?void 0:t}function yU(t){return t.instantiationMode==="EAGER"}var Wc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Rh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vU=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),_U={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},EU=ge.INFO,wU={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},IU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=wU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},un=class{constructor(e){this.name=e,this._logLevel=EU,this._logHandler=IU,this._userLogHandler=null,vU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var CU=(t,e)=>e.some(n=>t instanceof n),hS,fS;function TU(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bU(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pS=new WeakMap,pv=new WeakMap,mS=new WeakMap,fv=new WeakMap,gv=new WeakMap;function DU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pS.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function SU(t){if(pv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pv.set(t,e)}var mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gS(t){mv=t(mv)}function AU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Nh(this),e,...n);return mS.set(r,e.sort?e.sort():[e]),Wn(r)}:bU().includes(t)?function(...e){return t.apply(Nh(this),e),Wn(pS.get(this))}:function(...e){return Wn(t.apply(Nh(this),e))}}function RU(t){return typeof t=="function"?AU(t):(t instanceof IDBTransaction&&SU(t),CU(t,TU())?new Proxy(t,mv):t)}function Wn(t){if(t instanceof IDBRequest)return DU(t);if(fv.has(t))return fv.get(t);let e=RU(t);return e!==t&&(fv.set(t,e),gv.set(e,t)),e}var Nh=t=>gv.get(t);function vS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Wn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wn(o.result),l.oldVersion,l.newVersion,Wn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var NU=["get","getKey","getAll","getAllKeys","count"],MU=["put","add","delete","clear"],yv=new Map;function yS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=MU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NU.includes(n)))return;let s=function(o,...a){return A(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&l.done]))[0]})};return yv.set(e,s),s}gS(t=>ie(V({},t),{get:(e,n,r)=>yS(e,n)||t.get(e,n,r),has:(e,n)=>!!yS(e,n)||t.has(e,n)}));var _v=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PU(t){let e=t.getComponent();return e?.type==="VERSION"}var Ev="@firebase/app",_S="0.11.5";var Tr=new un("@firebase/app"),xU="@firebase/app-compat",kU="@firebase/analytics-compat",OU="@firebase/analytics",FU="@firebase/app-check-compat",LU="@firebase/app-check",VU="@firebase/auth",UU="@firebase/auth-compat",jU="@firebase/database",BU="@firebase/data-connect",$U="@firebase/database-compat",HU="@firebase/functions",qU="@firebase/functions-compat",zU="@firebase/installations",WU="@firebase/installations-compat",GU="@firebase/messaging",KU="@firebase/messaging-compat",QU="@firebase/performance",YU="@firebase/performance-compat",JU="@firebase/remote-config",ZU="@firebase/remote-config-compat",XU="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/vertexai",rj="@firebase/firestore-compat",ij="firebase",sj="11.6.1";var wv="[DEFAULT]",oj={[Ev]:"fire-core",[xU]:"fire-core-compat",[OU]:"fire-analytics",[kU]:"fire-analytics-compat",[LU]:"fire-app-check",[FU]:"fire-app-check-compat",[VU]:"fire-auth",[UU]:"fire-auth-compat",[jU]:"fire-rtdb",[BU]:"fire-data-connect",[$U]:"fire-rtdb-compat",[HU]:"fire-fn",[qU]:"fire-fn-compat",[zU]:"fire-iid",[WU]:"fire-iid-compat",[GU]:"fire-fcm",[KU]:"fire-fcm-compat",[QU]:"fire-perf",[YU]:"fire-perf-compat",[JU]:"fire-rc",[ZU]:"fire-rc-compat",[XU]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[rj]:"fire-fst-compat",[nj]:"fire-vertex","fire-js":"fire-js",[ij]:"fire-js-all"};var Gc=new Map,aj=new Map,Iv=new Map;function ES(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){let e=t.name;if(Iv.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(let n of Gc.values())ES(n,t);for(let n of aj.values())ES(n,t);return!0}function ii(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tt(t){return t==null?!1:t.settings!==void 0}var cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new En("app","Firebase",cj);var Cv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};var Gn=sj;function Dv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=dv()),!n)throw ri.create("no-options");let s=Gc.get(i);if(s){if(ln(n,s.options)&&ln(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}let o=new Wc(i);for(let l of Iv.values())o.addComponent(l);let a=new Cv(n,r,o);return Gc.set(i,a),a}function br(t=wv){let e=Gc.get(t);if(!e&&t===wv&&dv())return Dv();if(!e)throw ri.create("no-app",{appName:t});return e}function Mh(){return Array.from(Gc.values())}function Ne(t,e,n){var r;let i=(r=oj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}en(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lj="firebase-heartbeat-database",uj=1,Kc="firebase-heartbeat-store",vv=null;function TS(){return vv||(vv=vS(lj,uj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),vv}function dj(t){return A(this,null,function*(){try{let n=(yield TS()).transaction(Kc),r=yield n.objectStore(Kc).get(bS(t));return yield n.done,r}catch(e){if(e instanceof Xt)Tr.warn(e.message);else{let n=ri.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}})}function wS(t,e){return A(this,null,function*(){try{let r=(yield TS()).transaction(Kc,"readwrite");yield r.objectStore(Kc).put(e,bS(t)),yield r.done}catch(n){if(n instanceof Xt)Tr.warn(n.message);else{let r=ri.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}})}function bS(t){return`${t.name}!${t.options.appId}`}var hj=1024,fj=30,Tv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>fj){let o=mj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=IS(),{heartbeatsToSend:r,unsentEntries:i}=pj(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tr.warn(n),""}})}};function IS(){return new Date().toISOString().substring(0,10)}function pj(t,e=hj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var bv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return $c()?oS().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CS(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}function mj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function gj(t){en(new pt("platform-logger",e=>new _v(e),"PRIVATE")),en(new pt("heartbeat",e=>new Tv(e),"PRIVATE")),Ne(Ev,_S,t),Ne(Ev,_S,"esm2017"),Ne("fire-js","")}gj("");var yj="firebase",vj="11.6.1";Ne(yj,vj,"app");function Sv(t){t===void 0&&(e0(Sv),t=P(Je));let e=t.get(pd);return n=>new se(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=n.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Kn=new Zs("ANGULARFIRE2_VERSION");function ts(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var si=(t,e)=>{let n=e?[e]:Mh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ko=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ko||{}),DS=iy()&&typeof Zone<"u"?ko.WARN:ko.SILENT;var Ph=class{zone;delegate;constructor(e,n=sm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},Qn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(Ee);this.outsideAngular=n.runOutsideAngular(()=>new Ph(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ph(typeof Zone>"u"?void 0:Zone.current,im))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SS=!1;function _j(t,e){!SS&&(DS>ko.SILENT||iy())&&(SS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),DS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Ej(t){let e=P(Ee,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function es(t){let e=P(Ee,{optional:!0});return e?e.run(()=>t()):t()}var wj=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),dt(n,()=>es(()=>t.apply(void 0,r)))),Ut=(t,e,n)=>(n||=e?ko.WARN:ko.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=P(Qn),o=P(pd),a=P(ut)}catch{return _j(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=es(()=>o.add())),i[u]=wj(i[u],r,a));let l=Ej(()=>t.apply(this,i));return e?l instanceof se?l.pipe(Br(s.outsideAngular),jr(s.insideAngular),Sv(a)):l instanceof Promise?es(()=>new Promise((u,f)=>{o.run(()=>l).then(p=>dt(a,()=>es(()=>u(p))),p=>dt(a,()=>es(()=>f(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:es(()=>l):l instanceof se?l.pipe(Br(s.outsideAngular),jr(s.insideAngular)):es(()=>l)});var wn=class{constructor(e){return e}},Dr=class{constructor(){return Mh()}};function Ij(t){return t&&t.length===1?t[0]:new wn(br())}var Av=new U("angularfire2._apps"),Cj={provide:wn,useFactory:Ij,deps:[[new et,Av]]},Tj={provide:Dr,deps:[[new et,Av]]};function bj(t){return(e,n)=>{let r=n.get(yr);Ne("angularfire",Kn.full,"core"),Ne("angularfire",Kn.full,"app"),Ne("angular",eb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new wn(i)}}function AS(t,...e){return Kt([Cj,Tj,{provide:Av,useFactory:bj(t),multi:!0,deps:[Ee,Je,Qn,...e]}])}var RS=Ut(Dv,!0);var Dj=new Map,Sj={activated:!1,tokenObservers:[]},Aj={initialized:!1,enabled:!1};function In(t){return Dj.get(t)||Object.assign({},Sj)}function xS(){return Aj}var Rj="https://content-firebaseappcheck.googleapis.com/v1";var Nj="exchangeDebugToken",NS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},LZ=24*60*60*1e3;var Mv=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new _n,this.pending.promise.catch(n=>{}),yield Mj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _n,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Mj(t){return new Promise(e=>{setTimeout(e,t)})}var Pj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new En("appCheck","AppCheck",Pj);function kS(t){if(!In(t).activated)throw oi.create("use-before-activation",{appName:t.name})}function OS(r,i){return A(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(y){throw oi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw oi.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(y){throw oi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(f[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function FS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Rj}/projects/${n}/apps/${r}:${Nj}?key=${i}`,body:{debug_token:e}}}var xj="firebase-app-check-database",kj=1,Pv="firebase-app-check-store";var xh=null;function Oj(){return xh||(xh=new Promise((t,e)=>{try{let n=indexedDB.open(xj,kj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Pv,{keyPath:"compositeKey"})}}}catch(n){e(oi.create("storage-open",{originalErrorMessage:n?.message}))}}),xh)}function Fj(t,e){return Lj(Vj(t),e)}function Lj(t,e){return A(this,null,function*(){let r=(yield Oj()).transaction(Pv,"readwrite"),s=r.objectStore(Pv).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(oi.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function Vj(t){return`${t.options.appId}-${t.name}`}var Qc=new un("@firebase/app-check");function Rv(t,e){return $c()?Fj(t,e).catch(n=>{Qc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function LS(){return xS().enabled}function VS(){return A(this,null,function*(){let t=xS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Uj={error:"UNKNOWN_ERROR"};function jj(t){return Mo.encodeString(JSON.stringify(t),!1)}function xv(t,e=!1,n=!1){return A(this,null,function*(){let r=t.app;kS(r);let i=In(r),s=i.token,o;if(s&&!Yc(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(Yc(u)?s=u:yield Rv(r,void 0))}if(!e&&s&&Yc(s))return{token:s.token};let a=!1;if(LS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OS(FS(r,yield VS()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Rv(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Qc.warn(u.message):n&&Qc.error(u),Nv(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield In(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Qc.warn(u.message):n&&Qc.error(u),o=u}let l;return s?o?Yc(s)?l={token:s.token,internalError:o}:l=Nv(o):(l={token:s.token},i.token=s,yield Rv(r,s)):l=Nv(o),a&&qj(r,l),l})}function Bj(t){return A(this,null,function*(){let e=t.app;kS(e);let{provider:n}=In(e);if(LS()){let r=yield VS(),{token:i}=yield OS(FS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function $j(t,e,n,r){let{app:i}=t,s=In(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Yc(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),MS(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MS(t))}function US(t,e){let n=In(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function MS(t){let{app:e}=t,n=In(e),r=n.tokenRefresher;r||(r=Hj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Hj(t){let{app:e}=t;return new Mv(()=>A(this,null,function*(){let n=In(e),r;if(n.token?r=yield xv(t,!0):r=yield xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=In(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},NS.RETRIAL_MIN_WAIT,NS.RETRIAL_MAX_WAIT)}function qj(t,e){let n=In(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Yc(t){return t.expireTimeMillis-Date.now()>0}function Nv(t){return{token:jj(Uj),error:t}}var kv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=In(this.app);for(let n of e)US(this.app,n.next);return Promise.resolve()}};function zj(t,e){return new kv(t,e)}function Wj(t){return{getToken:e=>xv(t,e),getLimitedUseToken:()=>Bj(t),addTokenListener:e=>$j(t,"INTERNAL",e),removeTokenListener:e=>US(t.app,e)}}var Gj="@firebase/app-check",Kj="0.8.13";var Qj="app-check",PS="app-check-internal";function Yj(){en(new pt(Qj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return zj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(PS).initialize()})),en(new pt(PS,t=>{let e=t.getProvider("app-check").getImmediate();return Wj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ne(Gj,Kj)}Yj();var Jj="app-check";var ai=class{constructor(){return si(Jj)}};var Zj=["localhost","0.0.0.0","127.0.0.1"],YZ=typeof window<"u"&&Zj.includes(window.location.hostname);function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nA=tA,rA=new En("auth","Firebase",tA());var Uh=new un("@firebase/auth");function Xj(t,...e){Uh.logLevel<=ge.WARN&&Uh.warn(`Auth (${Gn}): ${t}`,...e)}function Oh(t,...e){Uh.logLevel<=ge.ERROR&&Uh.error(`Auth (${Gn}): ${t}`,...e)}function Jn(t,...e){throw s_(t,...e)}function ns(t,...e){return s_(t,...e)}function iA(t,e,n){let r=Object.assign(Object.assign({},nA()),{[e]:n});return new En("auth","Firebase",r).create(e,{appName:t.name})}function Rr(t){return iA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rA.create(t,...e)}function z(t,e,...n){if(!t)throw s_(e,...n)}function Sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Oh(e),new Error(e)}function ui(t,e){t||Sr(e)}function Vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eB(){return jS()==="http:"||jS()==="https:"}function jS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eB()||iS()||"connection"in navigator)?navigator.onLine:!0}function nB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=Bc()||Sh()}get(){return tB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function o_(t,e){ui(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var jh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sB=new rs(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hi(s,o,a,l){return A(this,arguments,function*(t,e,n,r,i={}){return sA(t,i,()=>A(this,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let p=Zi(Object.assign({key:t.config.apiKey},f)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},u);return rS()||(y.referrerPolicy="no-referrer"),jh.fetch()(yield oA(t,t.config.apiHost,n,p),y)}))})}function sA(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rB),e);try{let i=new Uv(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw kh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw kh(t,"user-disabled",o);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iA(t,f,u);Jn(t,f)}}catch(i){if(i instanceof Xt)throw i;Jn(t,"network-request-failed",{message:String(i)})}})}function sl(s,o,a,l){return A(this,arguments,function*(t,e,n,r,i={}){let u=yield hi(t,e,n,r,i);return"mfaPendingCredential"in u&&Jn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function oA(t,e,n,r){return A(this,null,function*(){let i=`${e}${n}?${r}`,s=t,o=s.config.emulator?o_(t.config,i):`${t.config.apiScheme}://${i}`;return iB.includes(n)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function oB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Uv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),sB.get())})}};function kh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ns(t,e,r);return i.customData._tokenResponse=n,i}function BS(t){return t!==void 0&&t.enterprise!==void 0}var jv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function aB(t,e){return A(this,null,function*(){return hi(t,"GET","/v2/recaptchaConfig",di(t,e))})}function cB(t,e){return A(this,null,function*(){return hi(t,"POST","/v1/accounts:delete",e)})}function Bh(t,e){return A(this,null,function*(){return hi(t,"POST","/v1/accounts:lookup",e)})}function Zc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function a_(t,e=!1){return A(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=c_(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zc(Ov(i.auth_time)),issuedAtTime:Zc(Ov(i.iat)),expirationTime:Zc(Ov(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ov(t){return Number(t)*1e3}function c_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ro(n);return i?JSON.parse(i):(Oh("Failed to decode base64 JWT payload"),null)}catch(i){return Oh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $S(t){let e=c_(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function el(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Xt&&lB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function lB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Bv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $h(t){return A(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield el(t,Bh(n,{idToken:r}));z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aA(s.providerUserInfo):[],a=uB(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,f=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tl(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function l_(t){return A(this,null,function*(){let e=ft(t);yield $h(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aA(t){return t.map(e=>{var{providerId:n}=e,r=om(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dB(t,e){return A(this,null,function*(){let n=yield sA(t,{},()=>A(this,null,function*(){let r=Zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yield oA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hB(t,e){return A(this,null,function*(){return hi(t,"POST","/v2/accounts:revokeToken",di(t,e))})}var Xc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=$S(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return A(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield dB(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sr("not implemented")}};function ci(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var li=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield el(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return a_(this,e)}reload(){return l_(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield $h(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(Tt(this.auth.app))return Promise.reject(Rr(this.auth));let e=yield this.getIdToken();return yield el(this,cB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,$=(u=n.createdAt)!==null&&u!==void 0?u:void 0,be=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:ot,isAnonymous:rr,providerData:yt,stsTokenManager:S}=n;z(Z&&S,e,"internal-error");let v=Xc.fromJSON(this.name,S);z(typeof Z=="string",e,"internal-error"),ci(p,e.name),ci(g,e.name),z(typeof ot=="boolean",e,"internal-error"),z(typeof rr=="boolean",e,"internal-error"),ci(y,e.name),ci(I,e.name),ci(x,e.name),ci(k,e.name),ci($,e.name),ci(be,e.name);let E=new t({uid:Z,auth:e,email:g,emailVerified:ot,displayName:p,isAnonymous:rr,photoURL:I,phoneNumber:y,tenantId:x,stsTokenManager:v,createdAt:$,lastLoginAt:be});return yt&&Array.isArray(yt)&&(E.providerData=yt.map(C=>Object.assign({},C))),k&&(E._redirectEventId=k),E}static _fromIdTokenResponse(e,n,r=!1){return A(this,null,function*(){let i=new Xc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $h(s),s})}static _fromGetAccountInfoResponse(e,n,r){return A(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?aA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Xc;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var HS=new Map;function Ar(t){ui(t instanceof Function,"Expected a class definition");let e=HS.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HS.set(t,e),e)}var fB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,r){return A(this,null,function*(){this.storage[n]=r})}_get(n){return A(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),$v=fB;function Fh(t,e,n){return`firebase:${t}:${e}:${n}`}var Hh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Fh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Bh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(this,null,function*(){if(!n.length)return new t(Ar($v),e,r);let i=(yield Promise.all(n.map(u=>A(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ar($v),o=Fh(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let f=yield u._get(o);if(f){let p;if(typeof f=="string"){let g=yield Bh(e,{idToken:f}).catch(()=>{});if(!g)break;p=yield li._fromGetAccountInfoResponse(e,g,f)}else p=li._fromJSON(e,f);u!==s&&(a=p),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>A(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function qS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(lA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cA(t=ht()){return/firefox\//i.test(t)}function lA(t=ht()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(t=ht()){return/crios\//i.test(t)}function dA(t=ht()){return/iemobile/i.test(t)}function hA(t=ht()){return/android/i.test(t)}function fA(t=ht()){return/blackberry/i.test(t)}function pA(t=ht()){return/webos/i.test(t)}function u_(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pB(t=ht()){var e;return u_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mB(){return sS()&&document.documentMode===10}function mA(t=ht()){return u_(t)||hA(t)||pA(t)||fA(t)||/windows phone/i.test(t)||dA(t)}function gA(t,e=[]){let n;switch(t){case"Browser":n=qS(ht());break;case"Worker":n=`${qS(ht())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${r}`}var Hv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gB(n){return A(this,arguments,function*(t,e={}){return hi(t,"GET","/v2/passwordPolicy",di(t,e))})}var yB=6,qv=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var zv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qh(this),this.idTokenSubscription=new qh(this),this.beforeStateQueue=new Hv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Hh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let n=yield Bh(this,{idToken:e}),r=yield li._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;if(Tt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nB()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(Tt(this.app))return Promise.reject(Rr(this));let n=e?ft(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return Tt(this.app)?Promise.reject(Rr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tt(this.app)?Promise.reject(Rr(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(Ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield gB(this),n=new qv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ar(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield Hh.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return A(this,null,function*(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Xj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ss(t){return ft(t)}var qh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Jh={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vB(t){Jh=t}function yA(t){return Jh.loadJS(t)}function _B(){return Jh.recaptchaEnterpriseScript}function EB(){return Jh.gapiScript}function vA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Wv=class{constructor(){this.enterprise=new Gv}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Gv=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var wB="recaptcha-enterprise",_A="NO_RECAPTCHA",Kv=class{constructor(e){this.type=wB,this.auth=ss(e)}verify(e="verify",n=!1){return A(this,null,function*(){function r(s){return A(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>A(this,null,function*(){aB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new jv(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;BS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(_A)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wv().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&BS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_B();l.length!==0&&(l+=a),yA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function Jc(t,e,n,r=!1,i=!1){return A(this,null,function*(){let s=new Kv(t),o;if(i)o=_A;else try{o=yield s.verify(n)}catch{o=yield s.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Qv(t,e,n,r,i){return A(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Jc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>A(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Jc(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Jc(t,e,n);return r(t,a).catch(l=>A(this,null,function*(){var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let f=yield Jc(t,e,n,!1,!0);return r(t,f)}return Promise.reject(l)}))}else{let a=yield Jc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function d_(t,e){let n=ii(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ln(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function IB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function h_(t,e,n){let r=ss(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=EA(e),{host:o,port:a}=CB(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(ln(u,r.config.emulator)&&ln(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,i||TB()}function EA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CB(t){let e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:zS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:zS(o)}}}function zS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function TB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}};function bB(t,e){return A(this,null,function*(){return hi(t,"POST","/v1/accounts:signUp",e)})}function DB(t,e){return A(this,null,function*(){return sl(t,"POST","/v1/accounts:signInWithPassword",di(t,e))})}function SB(t,e){return A(this,null,function*(){return sl(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}function AB(t,e){return A(this,null,function*(){return sl(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}var rl=class t extends nl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return A(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,n,"signInWithPassword",DB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SB(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}})}_linkToIdToken(e,n){return A(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,r,"signUpPassword",bB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return AB(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Fv(t,e){return A(this,null,function*(){return sl(t,"POST","/v1/accounts:signInWithIdp",di(t,e))})}function RB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NB(t){let e=Po(xo(t)).link,n=e?Po(xo(e)).deep_link_id:null,r=Po(xo(t)).deep_link_id;return(r?Po(xo(r)).link:null)||r||n||e||t}var zh=class t{constructor(e){var n,r,i,s,o,a;let l=Po(xo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=RB((i=l.mode)!==null&&i!==void 0?i:null);z(u&&f&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=NB(e);try{return new t(n)}catch{return null}}};var wA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=zh.parseLink(r);return z(i,"argument-error"),rl._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Wh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Yv=class extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function MB(t,e){return A(this,null,function*(){return sl(t,"POST","/v1/accounts:signUp",di(t,e))})}var Oo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return A(this,null,function*(){let s=yield li._fromIdTokenResponse(e,r,i),o=WS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return A(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=WS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function WS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Jv=class t extends Xt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jv._fromErrorAndOperation(t,s,e,r):s})}function PB(t,e,n=!1){return A(this,null,function*(){let r=yield el(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Oo._forOperation(t,"link",r)})}function xB(t,e,n=!1){return A(this,null,function*(){let{auth:r}=t;if(Tt(r.app))return Promise.reject(Rr(r));let i="reauthenticate";try{let s=yield el(t,IA(r,i,e,t),n);z(s.idToken,r,"internal-error");let o=c_(s.idToken);z(o,r,"internal-error");let{sub:a}=o;return z(t.uid===a,r,"user-mismatch"),Oo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}})}function CA(t,e,n=!1){return A(this,null,function*(){if(Tt(t.app))return Promise.reject(Rr(t));let r="signIn",i=yield IA(t,r,e),s=yield Oo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function f_(t,e){return A(this,null,function*(){return CA(ss(t),e)})}function TA(t){return A(this,null,function*(){let e=ss(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function p_(t,e,n){return A(this,null,function*(){if(Tt(t.app))return Promise.reject(Rr(t));let r=ss(t),o=yield Qv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MB,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TA(t),l}),a=yield Oo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function m_(t,e,n){return Tt(t.app)?Promise.reject(Rr(t)):f_(ft(t),wA.credential(e,n)).catch(r=>A(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&TA(t),r}))}function g_(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function y_(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var Gh="__sak";var Kh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kB=1e3,OB=10,FB=(()=>{class t extends Kh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);mB()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,OB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},kB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return A(this,null,function*(){yield Vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return A(this,null,function*(){let r=yield Vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return A(this,null,function*(){yield Vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),bA=FB;var LB=(()=>{class t extends Kh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),v_=LB;function VB(t){return Promise.all(t.map(e=>A(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var UB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return A(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(f=>A(this,null,function*(){return f(r.origin,o)})),u=yield VB(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function DA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Zv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return A(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let u=DA("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Yn(){return window}function jB(t){Yn().location.href=t}function SA(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}function BB(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $B(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HB(){return SA()?self:null}var AA="firebaseLocalStorageDb",qB=1,Qh="firebaseLocalStorage",RA="fbase_key",is=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Zh(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function zB(){let t=indexedDB.deleteDatabase(AA);return new is(t).toPromise()}function Xv(){let t=indexedDB.open(AA,qB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Qh,{keyPath:RA})}catch(i){n(i)}}),t.addEventListener("success",()=>A(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),yield zB(),e(yield Xv()))}))})}function GS(t,e,n){return A(this,null,function*(){let r=Zh(t,!0).put({[RA]:e,value:n});return new is(r).toPromise()})}function WB(t,e){return A(this,null,function*(){let n=Zh(t,!1).get(e),r=yield new is(n).toPromise();return r===void 0?null:r.value})}function KS(t,e){let n=Zh(t,!0).delete(e);return new is(n).toPromise()}var GB=800,KB=3,QB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield Xv(),this.db)})}_withRetries(n){return A(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>KB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return SA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=UB._getInstance(HB()),this.receiver._subscribe("keyChanged",(n,r)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var n,r;if(this.activeServiceWorker=yield BB(),!this.activeServiceWorker)return;this.sender=new Zv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$B()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Xv();return yield GS(n,Gh,"1"),yield KS(n,Gh),!0}catch{}return!1})}_withPendingWrite(n){return A(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>GS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return A(this,null,function*(){let r=yield this._withRetries(i=>WB(i,n));return this.localCache[n]=r,r})}_remove(n){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>KS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return A(this,null,function*(){let n=yield this._withRetries(s=>{let o=Zh(s,!1).getAll();return new is(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),NA=QB;var iX=vA("rcb"),sX=new rs(3e4,6e4);function YB(t,e){return e?Ar(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var il=class extends nl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function JB(t){return CA(t.auth,new il(t),t.bypassAuthState)}function ZB(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),xB(n,new il(t),t.bypassAuthState)}function XB(t){return A(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),PB(n,new il(t),t.bypassAuthState)})}var e_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JB;case"linkViaPopup":case"linkViaRedirect":return XB;case"reauthViaPopup":case"reauthViaRedirect":return ZB;default:Jn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oX=new rs(2e3,1e4);var e$="pendingRedirect",Lh=new Map,t_=class t extends e_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return A(this,null,function*(){let e=Lh.get(this.auth._key());if(!e){try{let r=(yield t$(this.resolver,this.auth))?yield Vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return Vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function t$(t,e){return A(this,null,function*(){let n=i$(e),r=r$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function n$(t,e){Lh.set(t._key(),e)}function r$(t){return Ar(t._redirectPersistence)}function i$(t){return Fh(e$,t.config.apiKey,t.name)}function s$(t,e,n=!1){return A(this,null,function*(){if(Tt(t.app))return Promise.reject(Rr(t));let r=ss(t),i=YB(r,e),o=yield new t_(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var o$=10*60*1e3,n_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o$&&this.cachedEventUids.clear(),this.cachedEventUids.has(QS(e))}saveEventToCache(e){this.cachedEventUids.add(QS(e)),this.lastProcessedEventTime=Date.now()}};function QS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function a$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(t);default:return!1}}function c$(n){return A(this,arguments,function*(t,e={}){return hi(t,"GET","/v1/projects",e)})}var l$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u$=/^https?/;function d$(t){return A(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield c$(t);for(let n of e)try{if(h$(n))return}catch{}Jn(t,"unauthorized-domain")})}function h$(t){let e=Vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!u$.test(n))return!1;if(l$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var f$=new rs(3e4,6e4);function YS(){let t=Yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p$(t){return new Promise((e,n)=>{var r,i,s;function o(){YS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YS(),n(ns(t,"network-request-failed"))},timeout:f$.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{let a=vA("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(ns(t,"network-request-failed"))},yA(`${EB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vh=null,e})}var Vh=null;function m$(t){return Vh=Vh||p$(t),Vh}var g$=new rs(5e3,15e3),y$="__/auth/iframe",v$="emulator/auth/iframe",_$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w$(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?o_(e,v$):`https://${t.config.authDomain}/${y$}`,r={apiKey:e.apiKey,appName:t.name,v:Gn},i=E$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zi(r).slice(1)}`}function I$(t){return A(this,null,function*(){let e=yield m$(t),n=Yn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:w$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_$,dontclear:!0},r=>new Promise((i,s)=>A(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ns(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},g$.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var C$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T$=500,b$=600,D$="_blank",S$="http://localhost",Yh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function A$(t,e,n,r=T$,i=b$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},C$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ht().toLowerCase();n&&(a=uA(u)?D$:n),cA(u)&&(e=e||S$,l.scrollbars="yes");let f=Object.entries(l).reduce((g,[y,I])=>`${g}${y}=${I},`,"");if(pB(u)&&a!=="_self")return R$(e||"",a),new Yh(null);let p=window.open(e||"",a,f);z(p,t,"popup-blocked");try{p.focus()}catch{}return new Yh(p)}function R$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var N$="__/auth/handler",M$="emulator/auth/handler",P$=encodeURIComponent("fac");function JS(t,e,n,r,i,s){return A(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(e instanceof Wh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Yv){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let l=yield t._getAppCheckToken(),u=l?`#${P$}=${encodeURIComponent(l)}`:"";return`${x$(t)}?${Zi(a).slice(1)}${u}`})}function x$({config:t}){return t.emulator?o_(t,M$):`https://${t.authDomain}/${N$}`}var Lv="webStorageSupport",r_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v_,this._completeRedirectFn=s$,this._overrideRedirectResult=n$}_openPopup(e,n,r,i){return A(this,null,function*(){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield JS(e,n,r,Vv(),i);return A$(e,o,DA())})}_openRedirect(e,n,r,i){return A(this,null,function*(){yield this._originValidation(e);let s=yield JS(e,n,r,Vv(),i);return jB(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return A(this,null,function*(){let n=yield I$(e),r=new n_(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lv,{type:Lv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Lv];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||lA()||u_()}},PA=r_;var ZS="@firebase/auth",XS="1.10.1";var i_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function k$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O$(t){en(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},u=new zv(r,i,s,l);return IB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new pt("auth-internal",e=>{let n=ss(e.getProvider("auth").getImmediate());return(r=>new i_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(ZS,XS,k$(t)),Ne(ZS,XS,"esm2017")}var F$=5*60,L$=hv("authIdTokenMaxAge")||F$,eA=null,V$=t=>e=>A(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L$)return;let i=n?.token;eA!==i&&(eA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function __(t=br()){let e=ii(t,"auth");if(e.isInitialized())return e.getImmediate();let n=d_(t,{popupRedirectResolver:PA,persistence:[NA,bA,v_]}),r=hv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=V$(s.toString());y_(n,o,()=>o(n.currentUser)),g_(n,a=>o(a))}}let i=uv("auth");return i&&h_(n,`http://${i}`),n}function U$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ns("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O$("Browser");var xA="auth",os=class{constructor(e){return e}},as=class{constructor(){return si(xA)}};var E_=new U("angularfire2.auth-instances");function RH(t,e){let n=ts(xA,t,e);return n&&new os(n)}function NH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new os(r)}}var MH={provide:as,deps:[[new et,E_]]},PH={provide:os,useFactory:RH,deps:[[new et,E_],wn]};function kA(t,...e){return Ne("angularfire",Kn.full,"auth"),Kt([PH,MH,{provide:E_,useFactory:NH(t),multi:!0,deps:[Ee,Je,Qn,Dr,[new et,ai],...e]}])}var OA=Ut(p_,!0,2);var FA=Ut(__,!0);var LA=Ut(m_,!0,2);var VA="@firebase/database",UA="1.0.14";var CE="";function kH(t){CE=t}var A_=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:No(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var R_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var gR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new A_(e)}}catch{}return new R_},ls=gR("localStorage"),N_=gR("sessionStorage");var Vo=new un("@firebase/database"),OH=function(){let t=1;return function(){return t++}}(),yR=function(t){let e=dS(t),n=new Th;n.update(e);let r=n.digest();return Mo.encodeByteArray(r)},Il=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Il.apply(null,r):typeof r=="object"?e+=ze(r):e+=r,e+=" "}return e},ds=null,jA=!0,FH=function(t,e){F(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vo.logLevel=ge.VERBOSE,ds=Vo.log.bind(Vo),e&&N_.set("logging_enabled",!0)):typeof t=="function"?ds=t:(ds=null,N_.remove("logging_enabled"))},bt=function(...t){if(jA===!0&&(jA=!1,ds===null&&N_.get("logging_enabled")===!0&&FH(!0)),ds){let e=Il.apply(null,t);ds(e)}},Cl=function(t){return function(...e){bt(t,...e)}},M_=function(...t){let e="FIREBASE INTERNAL ERROR: "+Il(...t);Vo.error(e)},Nr=function(...t){let e=`FIREBASE FATAL ERROR: ${Il(...t)}`;throw Vo.error(e),new Error(e)},jt=function(...t){let e="FIREBASE WARNING: "+Il(...t);Vo.warn(e)},LH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},VH=function(t){if(qn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jo="[MIN_NAME]",hs="[MAX_NAME]",Go=function(t,e){if(t===e)return 0;if(t===jo||e===hs)return-1;if(e===jo||t===hs)return 1;{let n=BA(t),r=BA(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},UH=function(t,e){return t===e?0:t<e?-1:1},ol=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ze(e))},TE=function(t){if(typeof t!="object"||t===null)return ze(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ze(e[r]),n+=":",n+=TE(t[e[r]]);return n+="}",n},_R=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Bt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var ER=function(t){F(!vR(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let f=u.join(""),p="";for(l=0;l<64;l+=8){let g=parseInt(f.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},jH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $H(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var HH=new RegExp("^-?(0*)\\d{1,10}$"),qH=-2147483648,zH=2147483647,BA=function(t){if(HH.test(t)){let e=Number(t);if(e>=qH&&e<=zH)return e}return null},Ko=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},WH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var P_=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Tt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var x_=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}},hl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),ef="5",wR="v",IR="s",CR="r",TR="f",bR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DR="ls",SR="p",k_="ac",AR="websocket",RR="long_polling";var tf=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function GH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NR(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===AR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GH(t)&&(n.ns=t.namespace);let i=[];return Bt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var O_=class{constructor(){this.counters_={}}incrementCounter(e,n=1){zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tS(this.counters_)}};var w_={},I_={};function bE(t){let e=t.toString();return w_[e]||(w_[e]=new O_),w_[e]}function KH(t,e){let n=t.toString();return I_[n]||(I_[n]=e()),I_[n]}var F_=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ko(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var $A="start",QH="close",YH="pLPCommand",JH="pRTLPCB",MR="id",PR="pw",xR="ser",ZH="cb",XH="seg",e4="ts",t4="d",n4="dframe",kR=1870,OR=30,r4=kR-OR,i4=25e3,s4=3e4,L_=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cl(e),this.stats_=bE(n),this.urlFn=l=>(this.appCheckToken&&(l[k_]=this.appCheckToken),NR(n,RR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new F_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(s4)),VH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V_((...s)=>{let[o,a,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$A)this.id=a,this.password=l;else if(o===QH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[$A]="t",r[xR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ZH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[wR]=ef,this.transportSessionId&&(r[IR]=this.transportSessionId),this.lastSessionId&&(r[DR]=this.lastSessionId),this.applicationId&&(r[SR]=this.applicationId),this.appCheckToken&&(r[k_]=this.appCheckToken),typeof location<"u"&&location.hostname&&bR.test(location.hostname)&&(r[CR]=TR);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return qn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jH()&&!BH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=av(n),i=_R(r,r4);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(qn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[n4]="t",r[MR]=e,r[PR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},V_=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,qn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=OH(),window[YH+this.uniqueCallbackIdentifier]=e,window[JH+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){bt("frame writing exception"),a.stack&&bt(a.stack),bt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[MR]=this.myID,e[PR]=this.myPW,e[xR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OR+r.length<=kR;){let o=this.pendingSegs.shift();r=r+"&"+XH+i+"="+o.seg+"&"+e4+i+"="+o.ts+"&"+t4+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(i4)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){qn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var o4=16384,a4=45e3,nf=null;typeof MozWebSocket<"u"?nf=MozWebSocket:typeof WebSocket<"u"&&(nf=WebSocket);var al=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cl(this.connId),this.stats_=bE(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[wR]=ef,!qn()&&typeof location<"u"&&location.hostname&&bR.test(location.hostname)&&(a[CR]=TR),r&&(a[IR]=r),i&&(a[DR]=i),s&&(a[k_]=s),o&&(a[SR]=o),NR(n,AR,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let i;if(qn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${ef}/${CE}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new nf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&nf!==null&&!t.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=No(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(F(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=_R(r,o4);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(a4))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),c4=(()=>{class t{static get ALL_TRANSPORTS(){return[L_,al]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=al&&al.isAvailable(),i=r&&!al.previouslyFailed();if(n.webSocketOnly&&(r||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[al];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),l4=6e4,u4=5e3,d4=10*1024,h4=100*1024,C_="t",HA="d",f4="s",qA="r",p4="e",zA="o",WA="a",GA="n",KA="p",m4="h",U_=class{constructor(e,n,r,i,s,o,a,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cl("c:"+this.id+":"),this.transportManager_=new c4(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>h4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>d4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(C_ in e){let n=e[C_];n===WA?this.upgradeIfSecondaryHealthy_():n===qA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ol("t",e),r=ol("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:WA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ol("t",e),r=ol("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ol(C_,e);if(HA in e){let r=e[HA];if(n===m4){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===GA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===f4?this.onConnectionShutdown_(r):n===qA?this.onReset_(r):n===p4?M_("Server Error: "+r):n===zA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M_("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ef!==r&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(l4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(u4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KA,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var rf=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var sf=class{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var of=class t extends sf{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Bc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var QA=32,YA=768,De=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function _e(){return new De("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function mi(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function FR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function g4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function LR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VR(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function Xe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof De)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new De(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Mt(t,e){let n=ue(t),r=ue(e);if(n===null)return e;if(n===r)return Mt(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UR(t,e){if(mi(t)!==mi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(mi(t)>mi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var j_=class{constructor(e,n){this.errorPrefix_=n,this.parts_=LR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zc(this.parts_[r]);jR(this)}};function y4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zc(e),jR(t)}function v4(t){let e=t.parts_.pop();t.byteLength_-=zc(e),t.parts_.length>0&&(t.byteLength_-=1)}function jR(t){if(t.byteLength_>YA)throw new Error(t.errorPrefix_+"has a key path longer than "+YA+" bytes ("+t.byteLength_+").");if(t.parts_.length>QA)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QA+") or object contains a cycle "+cs(t))}function cs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var B_=class t extends sf{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}};var cl=1e3,_4=60*5*1e3,JA=30*1e3,E4=1.3,w4=3e4,I4="server_kill",ZA=3,DE=(()=>{class t extends rf{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cl,this.maxReconnectDelay_=_4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!qn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&of.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ze(o)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new _n,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),F(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let u=l.d,f=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&zn(n,"w")){let i=Ji(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||lS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=JA)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=cS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),F(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ze(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):M_("Unrecognized action received from server: "+ze(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>w4&&(this.reconnectDelay_=cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E4)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,i())},f=function(g){F(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)};this.realtime_={close:u,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[g,y]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,l=new U_(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,I=>{jt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(I4)},o))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&jt(g),u())}}})}interrupt(n){bt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){bt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Hc(this.interruptReasons_)&&(this.reconnectDelay_=cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>TE(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new De(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){bt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZA&&(this.reconnectDelay_=JA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){bt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";qn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+CE.replace(/\./g,"-")]=1,Bc()?n["framework.cordova"]=1:Sh()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=of.getInstance().currentlyOnline();return Hc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ae=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Bo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ae(jo,e),i=new ae(jo,n);return this.compare(r,i)!==0}minPost(){return ae.MIN}};var Xh,af=class extends Bo{static get __EMPTY_NODE(){return Xh}static set __EMPTY_NODE(e){Xh=e}compare(e,n){return Go(e.name,n.name)}isDefinedOn(e){throw Yi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(hs,Xh)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,Xh)}toString(){return".key"}},Uo=new af;var Lo=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Cn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??dn.EMPTY_NODE,this.right=o??dn.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return dn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),$_=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},dn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lo(this.root_,null,this.comparator_,!0,e)}};dn.EMPTY_NODE=new $_;function C4(t,e){return Go(t.name,e.name)}function SE(t,e){return Go(t,e)}var H_;function T4(t){H_=t}var BR=function(t){return typeof t=="number"?"number:"+ER(t):"string:"+t},$R=function(t){if(t.isLeafNode()){let e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zn(e,".sv"),"Priority must be a string or number.")}else F(t===H_||t.isEmpty(),"priority of unexpected type.");F(t===H_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var XA,$o=(()=>{class t{static set __childrenNodeConstructor(n){XA=n}static get __childrenNodeConstructor(){return XA}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$R(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ue(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=ue(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(F(i!==".priority"||mi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+BR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=ER(this.value_):n+=this.value_,this.lazyHash_=yR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(F(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return F(s>=0,"Unknown leaf type: "+r),F(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),HR,qR;function b4(t){HR=t}function D4(t){qR=t}var q_=class extends Bo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Go(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(hs,new $o("[PRIORITY-POST]",qR))}makePost(e,n){let r=HR(e);return new ae(n,new $o("[PRIORITY-POST]",r))}toString(){return".priority"}},je=new q_;var S4=Math.log(2),z_=class{constructor(e){let n=s=>parseInt(Math.log(s)/S4,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},cf=function(t,e,n,r){t.sort(e);let i=function(l,u){let f=u-l,p,g;if(f===0)return null;if(f===1)return p=t[l],g=n?n(p):p,new Cn(g,p.node,Cn.BLACK,null,null);{let y=parseInt(f/2,10)+l,I=i(l,y),x=i(y+1,u);return p=t[y],g=n?n(p):p,new Cn(g,p.node,Cn.BLACK,I,x)}},s=function(l){let u=null,f=null,p=t.length,g=function(I,x){let k=p-I,$=p;p-=I;let be=i(k+1,$),Z=t[k],ot=n?n(Z):Z;y(new Cn(ot,Z.node,x,null,be))},y=function(I){u?(u.left=I,u=I):(f=I,u=I)};for(let I=0;I<l.count;++I){let x=l.nextBitIsOne(),k=Math.pow(2,l.count-(I+1));x?g(k,Cn.BLACK):(g(k,Cn.BLACK),g(k,Cn.RED))}return f},o=new z_(t.length),a=s(o);return new dn(r||e,a)};var T_,Fo={},Ho=class t{static get Default(){return F(Fo&&je,"ChildrenNode.ts has not been loaded"),T_=T_||new t({".priority":Fo},{".priority":je}),T_}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Ji(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dn?n:null}hasIndex(e){return zn(this.indexSet_,e.toString())}addIndex(e,n){F(e!==Uo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ae.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=cf(r,e.getCompare()):a=Fo;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let f=Object.assign({},this.indexes_);return f[l]=a,new t(f,u)}addToIndexes(e,n){let r=qc(this.indexes_,(i,s)=>{let o=Ji(this.indexSet_,s);if(F(o,"Missing index implementation for "+s),i===Fo)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(ae.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),cf(a,o.getCompare())}else return Fo;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new ae(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=qc(this.indexes_,i=>{if(i===Fo)return i;{let s=n.get(e.name);return s?i.remove(new ae(e.name,s)):i}});return new t(r,this.indexSet_)}};var ll,J=(()=>{class t{static get EMPTY_NODE(){return ll||(ll=new t(new dn(SE),null,Ho.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$R(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ll}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ll:r}}getChild(n){let r=ue(n);return r===null?this:this.getImmediateChild(r).getChild(Pe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(F(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ae(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ll:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=ue(n);if(i===null)return r;{F(ue(n)!==".priority"||mi(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Pe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(je,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+BR(this.getPriority().val())+":"),this.forEachChild(je,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":yR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ae(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ae(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ae(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ae.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ae.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Tl?-1:0}withIndex(n){if(n===Uo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Uo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(je),s=r.getIterator(je),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Uo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),W_=class extends J{constructor(){super(new dn(SE),J.EMPTY_NODE,Ho.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}},Tl=new W_;Object.defineProperties(ae,{MIN:{value:new ae(jo,J.EMPTY_NODE)},MAX:{value:new ae(hs,Tl)}});af.__EMPTY_NODE=J.EMPTY_NODE;$o.__childrenNodeConstructor=J;T4(Tl);D4(Tl);var A4=!0;function it(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new $o(n,it(e))}if(!(t instanceof Array)&&A4){let n=[],r=!1;if(Bt(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=it(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ae(o,l)))}}),n.length===0)return J.EMPTY_NODE;let s=cf(n,C4,o=>o.name,SE);if(r){let o=cf(n,je.getCompare());return new J(s,it(e),new Ho({".priority":o},{".priority":je}))}else return new J(s,it(e),Ho.Default)}else{let n=J.EMPTY_NODE;return Bt(t,(r,i)=>{if(zn(t,r)&&r.substring(0,1)!=="."){let s=it(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(it(e))}}b4(it);var G_=class extends Bo{constructor(e){super(),this.indexPath_=e,F(!ce(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Go(e.name,n.name):s}makePost(e,n){let r=it(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(n,i)}maxPost(){let e=J.EMPTY_NODE.updateChild(this.indexPath_,Tl);return new ae(hs,e)}toString(){return LR(this.indexPath_,0).join("/")}};var K_=class extends Bo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Go(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){let r=it(e);return new ae(n,r)}toString(){return".value"}},R4=new K_;function zR(t){return{type:"value",snapshotNode:t}}function qo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function yl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function N4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var vl=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(gl(n,a)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qo(n,r)):o.trackChildChange(yl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(je,(i,s)=>{n.hasChild(i)||r.trackChildChange(gl(i,s))}),n.isLeafNode()||n.forEachChild(je,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(yl(i,s,o))}else r.trackChildChange(qo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var lf=class t{constructor(e){this.indexedFilter_=new vl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ae(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);let s=this;return n.forEachChild(je,(o,a)=>{s.matches(new ae(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Q_=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new lf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ae(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let p=this.index_.getCompare();o=(g,y)=>p(y,g)}else o=this.index_.getCompare();let a=e;F(a.numChildren()===this.limit_,"");let l=new ae(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){let p=a.getImmediateChild(n),g=i.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);let y=g==null?1:o(g,l);if(f&&!r.isEmpty()&&y>=0)return s?.trackChildChange(yl(n,r,p)),a.updateImmediateChild(n,r);{s?.trackChildChange(gl(n,p));let x=a.updateImmediateChild(n,J.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s?.trackChildChange(qo(g.name,g.node)),x.updateImmediateChild(g.name,g.node)):x}}else return r.isEmpty()?e:f&&o(u,l)>=0?(s!=null&&(s.trackChildChange(gl(u.name,u.node)),s.trackChildChange(qo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,J.EMPTY_NODE)):e}};var Y_=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jo}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function M4(t){return t.loadsAllData()?new vl(t.getIndex()):t.hasLimit()?new Q_(t):new lf(t)}function eR(t){let e={};if(t.isDefault())return e;let n;if(t.index_===je?n="$priority":t.index_===R4?n="$value":t.index_===Uo?n="$key":(F(t.index_ instanceof G_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ze(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ze(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tR(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==je&&(e.i=t.index_.toString()),e}var J_=class t extends rf{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Cl("p:rest:"),this.listens_={}}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=eR(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),Ji(this.listens_,o)===a){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",i(g,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=eR(e._queryParams),r=e._path.toString(),i=new _n;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zi(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=No(a.responseText)}catch{jt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&jt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Z_=class{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function uf(){return{value:null,children:new Map}}function WR(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=ue(e);t.children.has(r)||t.children.set(r,uf());let i=t.children.get(r);e=Pe(e),WR(i,e,n)}}function X_(t,e,n){t.value!==null?n(e,t.value):P4(t,(r,i)=>{let s=new De(e.toString()+"/"+r);X_(i,s,n)})}function P4(t,e){t.children.forEach((n,r)=>{e(r,n)})}var eE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var nR=10*1e3,x4=30*1e3,k4=5*60*1e3,tE=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eE(e);let r=nR+(x4-nR)*Math.random();dl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Bt(e,(i,s)=>{s>0&&zn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),dl(this.reportStats_.bind(this),Math.floor(Math.random()*2*k4))}};var Zn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Zn||{});function GR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function AE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function RE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var nE=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zn.ACK_USER_WRITE,this.source=GR()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new De(e));return new t(_e(),n,this.revert)}}else return F(ue(this.path)===e,"operationForChild called for unrelated child."),new t(Pe(this.path),this.affectedTree,this.revert)}};var df=class t{constructor(e,n){this.source=e,this.path=n,this.type=Zn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new t(this.source,_e()):new t(this.source,Pe(this.path))}};var zo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zn.OVERWRITE}operationForChild(e){return ce(this.path)?new t(this.source,_e(),this.snap.getImmediateChild(e)):new t(this.source,Pe(this.path),this.snap)}};var hf=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zn.MERGE}operationForChild(e){if(ce(this.path)){let n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new zo(this.source,_e(),n.value):new t(this.source,_e(),n)}else return F(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Xn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;let n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var rE=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function O4(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(N4(o.childName,o.snapshotNode))}),ul(t,i,"child_removed",e,r,n),ul(t,i,"child_added",e,r,n),ul(t,i,"child_moved",s,r,n),ul(t,i,"child_changed",e,r,n),ul(t,i,"value",e,r,n),i}function ul(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>L4(t,a,l)),o.forEach(a=>{let l=F4(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function F4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function L4(t,e,n){if(e.childName==null||n.childName==null)throw Yi("Should only compare child_ events.");let r=new ae(e.childName,e.snapshotNode),i=new ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Cf(t,e){return{eventCache:t,serverCache:e}}function fl(t,e,n,r){return Cf(new Xn(e,n,r),t.serverCache)}function KR(t,e,n,r){return Cf(t.eventCache,new Xn(e,n,r))}function ff(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var b_,V4=()=>(b_||(b_=new dn(UH)),b_),$t=class t{static fromObject(e){let n=new t(null);return Bt(e,(r,i)=>{n=n.set(new De(r),i)}),n}constructor(e,n=V4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ce(e))return null;{let r=ue(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Pe(e),n);return s!=null?{path:Xe(new De(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{let n=ue(e),r=this.children.get(n);return r!==null?r.subtree(Pe(e)):new t(null)}}set(e,n){if(ce(e))return new t(n,this.children);{let r=ue(e),s=(this.children.get(r)||new t(null)).set(Pe(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ue(e),r=this.children.get(n);if(r){let i=r.remove(Pe(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{let n=ue(e),r=this.children.get(n);return r?r.get(Pe(e)):null}}setTree(e,n){if(ce(e))return n;{let r=ue(e),s=(this.children.get(r)||new t(null)).setTree(Pe(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{let s=ue(e),o=this.children.get(s);return o?o.findOnPath_(Pe(e),Xe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);let i=ue(e),s=this.children.get(i);return s?s.foreachOnPath_(Pe(e),Xe(n,i),r):new t(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var bn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new $t(null))}};function pl(t,e,n){if(ce(e))return new bn(new $t(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Mt(i,e);return s=s.updateChild(o,n),new bn(t.writeTree_.set(i,s))}else{let i=new $t(n),s=t.writeTree_.setTree(e,i);return new bn(s)}}}function rR(t,e,n){let r=t;return Bt(n,(i,s)=>{r=pl(r,Xe(e,i),s)}),r}function iR(t,e){if(ce(e))return bn.empty();{let n=t.writeTree_.setTree(e,new $t(null));return new bn(n)}}function iE(t,e){return ps(t,e)!=null}function ps(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Mt(n.path,e)):null}function sR(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(r,i)=>{e.push(new ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ae(r,i.value))}),e}function fi(t,e){if(ce(e))return t;{let n=ps(t,e);return n!=null?new bn(new $t(n)):new bn(t.writeTree_.subtree(e))}}function sE(t){return t.writeTree_.isEmpty()}function Wo(t,e){return QR(_e(),t.writeTree_,e)}function QR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(F(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=QR(Xe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Xe(t,".priority"),r)),n}}function Tf(t,e){return XR(e,t)}function U4(t,e,n,r,i){F(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pl(t.visibleWrites,e,n)),t.lastWriteId=r}function j4(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function B4(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&$4(a,r.path)?i=!1:Tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return H4(t),!0;if(r.snap)t.visibleWrites=iR(t.visibleWrites,r.path);else{let a=r.children;Bt(a,l=>{t.visibleWrites=iR(t.visibleWrites,Xe(r.path,l))})}return!0}else return!1}function $4(t,e){if(t.snap)return Tn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Tn(Xe(t.path,n),e))return!0;return!1}function H4(t){t.visibleWrites=YR(t.allWrites,q4,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function q4(t){return t.visible}function YR(t,e,n){let r=bn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Tn(n,o)?(a=Mt(n,o),r=pl(r,a,s.snap)):Tn(o,n)&&(a=Mt(o,n),r=pl(r,_e(),s.snap.getChild(a)));else if(s.children){if(Tn(n,o))a=Mt(n,o),r=rR(r,a,s.children);else if(Tn(o,n))if(a=Mt(o,n),ce(a))r=rR(r,_e(),s.children);else{let l=Ji(s.children,ue(a));if(l){let u=l.getChild(Pe(a));r=pl(r,_e(),u)}}}else throw Yi("WriteRecord should have .snap or .children")}}return r}function JR(t,e,n,r,i){if(!r&&!i){let s=ps(t.visibleWrites,e);if(s!=null)return s;{let o=fi(t.visibleWrites,e);if(sE(o))return n;if(n==null&&!iE(o,_e()))return null;{let a=n||J.EMPTY_NODE;return Wo(o,a)}}}else{let s=fi(t.visibleWrites,e);if(!i&&sE(s))return n;if(!i&&n==null&&!iE(s,_e()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Tn(u.path,e)||Tn(e,u.path))},a=YR(t.allWrites,o,e),l=n||J.EMPTY_NODE;return Wo(a,l)}}}function z4(t,e,n){let r=J.EMPTY_NODE,i=ps(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(je,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=fi(t.visibleWrites,e);return n.forEachChild(je,(o,a)=>{let l=Wo(fi(s,new De(o)),a);r=r.updateImmediateChild(o,l)}),sR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=fi(t.visibleWrites,e);return sR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function W4(t,e,n,r,i){F(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Xe(e,n);if(iE(t.visibleWrites,s))return null;{let o=fi(t.visibleWrites,s);return sE(o)?i.getChild(n):Wo(o,i.getChild(n))}}function G4(t,e,n,r){let i=Xe(e,n),s=ps(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=fi(t.visibleWrites,i);return Wo(o,r.getNode().getImmediateChild(n))}else return null}function K4(t,e){return ps(t.visibleWrites,e)}function Q4(t,e,n,r,i,s,o){let a,l=fi(t.visibleWrites,e),u=ps(l,_e());if(u!=null)a=u;else if(n!=null)a=Wo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let f=[],p=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),y=g.getNext();for(;y&&f.length<i;)p(y,r)!==0&&f.push(y),y=g.getNext();return f}else return[]}function Y4(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function pf(t,e,n,r){return JR(t.writeTree,t.treePath,e,n,r)}function NE(t,e){return z4(t.writeTree,t.treePath,e)}function oR(t,e,n,r){return W4(t.writeTree,t.treePath,e,n,r)}function mf(t,e){return K4(t.writeTree,Xe(t.treePath,e))}function J4(t,e,n,r,i,s){return Q4(t.writeTree,t.treePath,e,n,r,i,s)}function ME(t,e,n){return G4(t.writeTree,t.treePath,e,n)}function ZR(t,e){return XR(Xe(t.treePath,e),t.writeTree)}function XR(t,e){return{treePath:t,writeTree:e}}var oE=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,yl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,gl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,qo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,yl(r,e.snapshotNode,i.oldSnap));else throw Yi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var aE=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},eN=new aE,_l=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ME(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),s=J4(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function Z4(t){return{filter:t}}function X4(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function e3(t,e,n,r,i){let s=new oE,o,a;if(n.type===Zn.OVERWRITE){let u=n;u.source.fromUser?o=cE(t,e,u.path,u.snap,r,i,s):(F(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ce(u.path),o=gf(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Zn.MERGE){let u=n;u.source.fromUser?o=n3(t,e,u.path,u.children,r,i,s):(F(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=lE(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Zn.ACK_USER_WRITE){let u=n;u.revert?o=s3(t,e,u.path,r,i,s):o=r3(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Zn.LISTEN_COMPLETE)o=i3(t,e,n.path,r,s);else throw Yi("Unknown operation type: "+n.type);let l=s.getChanges();return t3(e,o,l),{viewCache:o,changes:l}}function t3(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ff(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zR(ff(e)))}}function tN(t,e,n,r,i,s){let o=e.eventCache;if(mf(r,n)!=null)return e;{let a,l;if(ce(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=fs(e),f=u instanceof J?u:J.EMPTY_NODE,p=NE(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let u=pf(r,fs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=ue(n);if(u===".priority"){F(mi(n)===1,"Can't have a priority with additional path components");let f=o.getNode();l=e.serverCache.getNode();let p=oR(r,n,f,l);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{let f=Pe(n),p;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();let g=oR(r,n,o.getNode(),l);g!=null?p=o.getNode().getImmediateChild(u).updateChild(f,g):p=o.getNode().getImmediateChild(u)}else p=ME(r,u,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),u,p,f,i,s):a=o.getNode()}}return fl(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function gf(t,e,n,r,i,s,o,a){let l=e.serverCache,u,f=o?t.filter:t.filter.getIndexedFilter();if(ce(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){let y=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),y,null)}else{let y=ue(n);if(!l.isCompleteForPath(n)&&mi(n)>1)return e;let I=Pe(n),k=l.getNode().getImmediateChild(y).updateChild(I,r);y===".priority"?u=f.updatePriority(l.getNode(),k):u=f.updateChild(l.getNode(),y,k,I,eN,null)}let p=KR(e,u,l.isFullyInitialized()||ce(n),f.filtersNodes()),g=new _l(i,p,s);return tN(t,p,n,i,g,a)}function cE(t,e,n,r,i,s,o){let a=e.eventCache,l,u,f=new _l(i,e,s);if(ce(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fl(e,u,!0,t.filter.filtersNodes());else{let p=ue(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=fl(e,u,a.isFullyInitialized(),a.isFiltered());else{let g=Pe(n),y=a.getNode().getImmediateChild(p),I;if(ce(g))I=r;else{let x=f.getCompleteChild(p);x!=null?FR(g)===".priority"&&x.getChild(VR(g)).isEmpty()?I=x:I=x.updateChild(g,r):I=J.EMPTY_NODE}if(y.equals(I))l=e;else{let x=t.filter.updateChild(a.getNode(),p,I,g,f,o);l=fl(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function aR(t,e){return t.eventCache.isCompleteForChild(e)}function n3(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{let f=Xe(n,l);aR(e,ue(f))&&(a=cE(t,a,f,u,i,s,o))}),r.foreach((l,u)=>{let f=Xe(n,l);aR(e,ue(f))||(a=cE(t,a,f,u,i,s,o))}),a}function cR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ce(n)?u=r:u=new $t(null).setTree(n,r);let f=e.serverCache.getNode();return u.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){let y=e.serverCache.getNode().getImmediateChild(p),I=cR(t,y,g);l=gf(t,l,new De(p),I,i,s,o,a)}}),u.children.inorderTraversal((p,g)=>{let y=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!y){let I=e.serverCache.getNode().getImmediateChild(p),x=cR(t,I,g);l=gf(t,l,new De(p),x,i,s,o,a)}}),l}function r3(t,e,n,r,i,s,o){if(mf(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ce(n)){let u=new $t(null);return l.getNode().forEachChild(Uo,(f,p)=>{u=u.set(new De(f),p)}),lE(t,e,n,u,i,s,a,o)}else return e}else{let u=new $t(null);return r.foreach((f,p)=>{let g=Xe(n,f);l.isCompleteForPath(g)&&(u=u.set(f,l.getNode().getChild(g)))}),lE(t,e,n,u,i,s,a,o)}}function i3(t,e,n,r,i){let s=e.serverCache,o=KR(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return tN(t,o,n,r,eN,i)}function s3(t,e,n,r,i,s){let o;if(mf(r,n)!=null)return e;{let a=new _l(r,e,i),l=e.eventCache.getNode(),u;if(ce(n)||ue(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=pf(r,fs(e));else{let p=e.serverCache.getNode();F(p instanceof J,"serverChildren would be complete if leaf node"),f=NE(r,p)}f=f,u=t.filter.updateFullNode(l,f,s)}else{let f=ue(n),p=ME(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),p!=null?u=t.filter.updateChild(l,f,p,Pe(n),a,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,J.EMPTY_NODE,Pe(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pf(r,fs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||mf(r,_e())!=null,fl(e,u,o,t.filter.filtersNodes())}}var uE=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new vl(r.getIndex()),s=M4(r);this.processor_=Z4(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),f=new Xn(l,o.isFullyInitialized(),i.filtersNodes()),p=new Xn(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cf(p,f),this.eventGenerator_=new rE(this.query_)}get query(){return this.query_}};function o3(t){return t.viewCache_.serverCache.getNode()}function a3(t){return ff(t.viewCache_)}function c3(t,e){let n=fs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function lR(t){return t.eventRegistrations_.length===0}function l3(t,e){t.eventRegistrations_.push(e)}function uR(t,e,n){let r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function dR(t,e,n,r){e.type===Zn.MERGE&&e.source.queryId!==null&&(F(fs(t.viewCache_),"We should always have a full cache before handling merges"),F(ff(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=e3(t.processor_,i,e,n,r);return X4(t.processor_,s.viewCache),F(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,nN(t,s.changes,s.viewCache.eventCache.getNode(),null)}function u3(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(je,(s,o)=>{r.push(qo(s,o))}),n.isFullyInitialized()&&r.push(zR(n.getNode())),nN(t,r,n.getNode(),e)}function nN(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return O4(t.eventGenerator_,e,n,i)}var yf,vf=class{constructor(){this.views=new Map}};function d3(t){F(!yf,"__referenceConstructor has already been defined"),yf=t}function h3(){return F(yf,"Reference.ts has not been loaded"),yf}function f3(t){return t.views.size===0}function PE(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return F(s!=null,"SyncTree gave us an op for an invalid query."),dR(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(dR(o,e,n,r));return s}}function rN(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=pf(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=NE(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);let u=Cf(new Xn(a,l,!1),new Xn(r,i,!1));return new uE(e,u)}return o}function p3(t,e,n,r,i,s){let o=rN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),l3(o,n),u3(o,n)}function m3(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=gi(t);if(i==="default")for(let[l,u]of t.views.entries())o=o.concat(uR(u,n,r)),lR(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{let l=t.views.get(i);l&&(o=o.concat(uR(l,n,r)),lR(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!gi(t)&&s.push(new(h3())(e._repo,e._path)),{removed:s,events:o}}function iN(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pi(t,e){let n=null;for(let r of t.views.values())n=n||c3(r,e);return n}function sN(t,e){if(e._queryParams.loadsAllData())return bf(t);{let r=e._queryIdentifier;return t.views.get(r)}}function oN(t,e){return sN(t,e)!=null}function gi(t){return bf(t)!=null}function bf(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var _f;function g3(t){F(!_f,"__referenceConstructor has already been defined"),_f=t}function y3(){return F(_f,"Reference.ts has not been loaded"),_f}var v3=1,Ef=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_=Y4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function aN(t,e,n,r,i){return U4(t.pendingWriteTree_,e,n,r,i),i?Dl(t,new zo(GR(),e,n)):[]}function us(t,e,n=!1){let r=j4(t.pendingWriteTree_,e);if(B4(t.pendingWriteTree_,e)){let s=new $t(null);return r.snap!=null?s=s.set(_e(),!0):Bt(r.children,o=>{s=s.set(new De(o),!0)}),Dl(t,new nE(r.path,s,n))}else return[]}function bl(t,e,n){return Dl(t,new zo(AE(),e,n))}function _3(t,e,n){let r=$t.fromObject(n);return Dl(t,new hf(AE(),e,r))}function E3(t,e){return Dl(t,new df(AE(),e))}function w3(t,e,n){let r=kE(t,n);if(r){let i=OE(r),s=i.path,o=i.queryId,a=Mt(s,e),l=new df(RE(o),a);return FE(t,s,l)}else return[]}function cN(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||oN(o,e))){let l=m3(o,e,n,r);f3(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let u=l.removed;if(a=l.events,!i){let f=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,y)=>gi(y));if(f&&!p){let g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){let y=b3(g);for(let I=0;I<y.length;++I){let x=y[I],k=x.query,$=hN(t,x);t.listenProvider_.startListening(ml(k),El(t,k),$.hashFn,$.onComplete)}}}!p&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(ml(e),null):u.forEach(g=>{let y=t.queryToTagMap.get(Df(g));t.listenProvider_.stopListening(ml(g),y)}))}D3(t,u)}return a}function lN(t,e,n,r){let i=kE(t,r);if(i!=null){let s=OE(i),o=s.path,a=s.queryId,l=Mt(o,e),u=new zo(RE(a),l,n);return FE(t,o,u)}else return[]}function I3(t,e,n,r){let i=kE(t,r);if(i){let s=OE(i),o=s.path,a=s.queryId,l=Mt(o,e),u=$t.fromObject(n),f=new hf(RE(a),l,u);return FE(t,o,f)}else return[]}function C3(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{let I=Mt(g,i);s=s||pi(y,I),o=o||gi(y)});let a=t.syncPointTree_.get(i);a?(o=o||gi(a),s=s||pi(a,_e())):(a=new vf,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,I)=>{let x=pi(I,_e());x&&(s=s.updateImmediateChild(y,x))}));let u=oN(a,e);if(!u&&!e._queryParams.loadsAllData()){let g=Df(e);F(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");let y=S3();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}let f=Tf(t.pendingWriteTree_,i),p=p3(a,e,n,f,s,l);if(!u&&!o&&!r){let g=sN(a,e);p=p.concat(A3(t,e,g))}return p}function xE(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Mt(o,e),u=pi(a,l);if(u)return u});return JR(i,e,s,n,!0)}function T3(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{let p=Mt(u,n);r=r||pi(f,p)});let i=t.syncPointTree_.get(n);i?r=r||pi(i,_e()):(i=new vf,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new Xn(r,!0,!1):null,a=Tf(t.pendingWriteTree_,e._path),l=rN(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return a3(l)}function Dl(t,e){return uN(e,t.syncPointTree_,null,Tf(t.pendingWriteTree_,_e()))}function uN(t,e,n,r){if(ce(t.path))return dN(t,e,n,r);{let i=e.get(_e());n==null&&i!=null&&(n=pi(i,_e()));let s=[],o=ue(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let u=n?n.getImmediateChild(o):null,f=ZR(r,o);s=s.concat(uN(a,l,u,f))}return i&&(s=s.concat(PE(i,t,r,n))),s}}function dN(t,e,n,r){let i=e.get(_e());n==null&&i!=null&&(n=pi(i,_e()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,u=ZR(r,o),f=t.operationForChild(o);f&&(s=s.concat(dN(f,a,l,u)))}),i&&(s=s.concat(PE(i,t,r,n))),s}function hN(t,e){let n=e.query,r=El(t,n);return{hashFn:()=>(o3(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?w3(t,n._path,r):E3(t,n._path);{let s=$H(i,n);return cN(t,n,null,s)}}}}function El(t,e){let n=Df(e);return t.queryToTagMap.get(n)}function Df(t){return t._path.toString()+"$"+t._queryIdentifier}function kE(t,e){return t.tagToQueryMap.get(e)}function OE(t){let e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function FE(t,e,n){let r=t.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");let i=Tf(t.pendingWriteTree_,e);return PE(r,n,i,null)}function b3(t){return t.fold((e,n,r)=>{if(n&&gi(n))return[bf(n)];{let i=[];return n&&(i=iN(n)),Bt(r,(s,o)=>{i=i.concat(o)}),i}})}function ml(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(y3())(t._repo,t._path):t}function D3(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Df(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function S3(){return v3++}function A3(t,e,n){let r=e._path,i=El(t,e),s=hN(t,n),o=t.listenProvider_.startListening(ml(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)F(!gi(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((u,f,p)=>{if(!ce(u)&&f&&gi(f))return[bf(f).query];{let g=[];return f&&(g=g.concat(iN(f).map(y=>y.query))),Bt(p,(y,I)=>{g=g.concat(I)}),g}});for(let u=0;u<l.length;++u){let f=l[u];t.listenProvider_.stopListening(ml(f),El(t,f))}}return o}var dE=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},hE=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Xe(this.path_,e);return new t(this.syncTree_,n)}node(){return xE(this.syncTree_,this.path_)}},R3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hR=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return N3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return M3(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},N3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},M3=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);let i=e.node();if(F(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},P3=function(t,e,n,r){return LE(e,new hE(n,t),r)},fN=function(t,e,n){return LE(t,new dE(e),n)};function LE(t,e,n){let r=t.getPriority().val(),i=hR(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=hR(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $o(a,it(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $o(i))),o.forEachChild(je,(a,l)=>{let u=LE(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}var wl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function VE(t,e){let n=e instanceof De?e:new De(e),r=t,i=ue(n);for(;i!==null;){let s=Ji(r.node.children,i)||{children:{},childCount:0};r=new wl(i,r,s),n=Pe(n),i=ue(n)}return r}function Qo(t){return t.node.value}function pN(t,e){t.node.value=e,fE(t)}function mN(t){return t.node.childCount>0}function x3(t){return Qo(t)===void 0&&!mN(t)}function Sf(t,e){Bt(t.node.children,(n,r)=>{e(new wl(n,t,r))})}function gN(t,e,n,r){n&&!r&&e(t),Sf(t,i=>{gN(i,e,!0,r)}),n&&r&&e(t)}function k3(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sl(t){return new De(t.parent===null?t.name:Sl(t.parent)+"/"+t.name)}function fE(t){t.parent!==null&&O3(t.parent,t.name,t)}function O3(t,e,n){let r=x3(n),i=zn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fE(t))}var F3=/[\[\].#$\/\u0000-\u001F\u007F]/,L3=/[\[\].#$\u0000-\u001F\u007F]/,D_=10*1024*1024,yN=function(t){return typeof t=="string"&&t.length!==0&&!F3.test(t)},vN=function(t){return typeof t=="string"&&t.length!==0&&!L3.test(t)},V3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vN(t)};var U3=function(t,e,n,r){r&&e===void 0||UE(Ah(t,"value"),e,n)},UE=function(t,e,n){let r=n instanceof De?new j_(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+cs(r));if(typeof e=="function")throw new Error(t+"contains a function "+cs(r)+" with contents = "+e.toString());if(vR(e))throw new Error(t+"contains "+e.toString()+" "+cs(r));if(typeof e=="string"&&e.length>D_/3&&zc(e)>D_)throw new Error(t+"contains a string greater than "+D_+" utf8 bytes "+cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Bt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!yN(o)))throw new Error(t+" contains an invalid key ("+o+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);y4(r,o),UE(t,a,r),v4(r)}),i&&s)throw new Error(t+' contains ".value" child '+cs(r)+" in addition to actual children.")}};var _N=function(t,e,n,r){if(!(r&&n===void 0)&&!vN(n))throw new Error(Ah(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},j3=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_N(t,e,n,r)},B3=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$3=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!V3(n))throw new Error(Ah(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var pE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function EN(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!UR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function er(t,e,n){EN(t,n),H3(t,r=>Tn(r,e)||Tn(e,r))}function H3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(q3(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function q3(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ds&&bt("event: "+n.toString()),Ko(r)}}}var z3="repo_interrupt",W3=25,mE=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uf(),this.transactionQueueTree_=new wl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function G3(t,e,n){if(t.stats_=bE(t.repoInfo_),t.forceRestClient_||WH())t.server_=new J_(t.repoInfo_,(r,i,s,o)=>{fR(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pR(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new DE(t.repoInfo_,e,(r,i,s,o)=>{fR(t,r,i,s,o)},r=>{pR(t,r)},r=>{Q3(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=KH(t.repoInfo_,()=>new tE(t.stats_,t.server_)),t.infoData_=new Z_,t.infoSyncTree_=new Ef({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=bl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),BE(t,"connected",!1),t.serverSyncTree_=new Ef({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let u=o(a,l);er(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function K3(t){let n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jE(t){return R3({timestamp:K3(t)})}function fR(t,e,n,r,i){t.dataUpdateCount++;let s=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=qc(n,u=>it(u));o=I3(t.serverSyncTree_,s,l,i)}else{let l=it(n);o=lN(t.serverSyncTree_,s,l,i)}else if(r){let l=qc(n,u=>it(u));o=_3(t.serverSyncTree_,s,l)}else{let l=it(n);o=bl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Rf(t,s)),er(t.eventQueue_,a,o)}function pR(t,e){BE(t,"connected",e),e===!1&&Z3(t)}function Q3(t,e){Bt(e,(n,r)=>{BE(t,n,r)})}function BE(t,e,n){let r=new De("/.info/"+e),i=it(n);t.infoData_.updateSnapshot(r,i);let s=bl(t.infoSyncTree_,r,i);er(t.eventQueue_,r,s)}function wN(t){return t.nextWriteId_++}function Y3(t,e,n){let r=T3(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=it(i).withIndex(e._queryParams.getIndex());C3(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=bl(t.serverSyncTree_,e._path,s);else{let a=El(t.serverSyncTree_,e);o=lN(t.serverSyncTree_,e._path,s,a)}return er(t.eventQueue_,e._path,o),cN(t.serverSyncTree_,e,n,null,!0),s},i=>(Af(t,"get for query "+ze(e)+" failed: "+i),Promise.reject(new Error(i))))}function J3(t,e,n,r,i){Af(t,"set",{path:e.toString(),value:n,priority:r});let s=jE(t),o=it(n,r),a=xE(t.serverSyncTree_,e),l=fN(o,a,s),u=wN(t),f=aN(t.serverSyncTree_,e,l,u,!0);EN(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(g,y)=>{let I=g==="ok";I||jt("set at "+e+" failed: "+g);let x=us(t.serverSyncTree_,u,!I);er(t.eventQueue_,e,x),eq(t,i,g,y)});let p=DN(t,e);Rf(t,p),er(t.eventQueue_,p,[])}function Z3(t){Af(t,"onDisconnectEvents");let e=jE(t),n=uf();X_(t.onDisconnect_,_e(),(i,s)=>{let o=P3(i,s,t.serverSyncTree_,e);WR(n,i,o)});let r=[];X_(n,_e(),(i,s)=>{r=r.concat(bl(t.serverSyncTree_,i,s));let o=DN(t,i);Rf(t,o)}),t.onDisconnect_=uf(),er(t.eventQueue_,_e(),r)}function X3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(z3)}function Af(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bt(n,...e)}function eq(t,e,n,r){e&&Ko(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function IN(t,e,n){return xE(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function $E(t,e=t.transactionQueueTree_){if(e||Nf(t,e),Qo(e)){let n=TN(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&tq(t,Sl(e),n)}else mN(e)&&Sf(e,n=>{$E(t,n)})}function tq(t,e,n){let r=n.map(u=>u.currentWriteId),i=IN(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let f=n[u];F(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=Mt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Af(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){let p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(us(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Nf(t,VE(t.transactionQueueTree_,e)),$E(t,t.transactionQueueTree_),er(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)Ko(p[g])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{jt("transaction at "+l.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}Rf(t,e)}},o)}function Rf(t,e){let n=CN(t,e),r=Sl(n),i=TN(t,n);return nq(t,i,r),r}function nq(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],u=Mt(n,l.path),f=!1,p;if(F(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,p=l.abortReason,i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=W3)f=!0,p="maxretry",i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0));else{let g=IN(t,l.path,o);l.currentInputSnapshot=g;let y=e[a].update(g.val());if(y!==void 0){UE("transaction failed: Data returned ",y,l.path);let I=it(y);typeof y=="object"&&y!=null&&zn(y,".priority")||(I=I.updatePriority(g.getPriority()));let k=l.currentWriteId,$=jE(t),be=fN(I,g,$);l.currentOutputSnapshotRaw=I,l.currentOutputSnapshotResolved=be,l.currentWriteId=wN(t),o.splice(o.indexOf(k),1),i=i.concat(aN(t.serverSyncTree_,l.path,be,l.currentWriteId,l.applyLocally)),i=i.concat(us(t.serverSyncTree_,k,!0))}else f=!0,p="nodata",i=i.concat(us(t.serverSyncTree_,l.currentWriteId,!0))}er(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Nf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ko(r[a]);$E(t,t.transactionQueueTree_)}function CN(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);n!==null&&Qo(r)===void 0;)r=VE(r,n),e=Pe(e),n=ue(e);return r}function TN(t,e){let n=[];return bN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function bN(t,e,n){let r=Qo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sf(e,i=>{bN(t,i,n)})}function Nf(t,e){let n=Qo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,pN(e,n.length>0?n:void 0)}Sf(e,r=>{Nf(t,r)})}function DN(t,e){let n=Sl(CN(t,e)),r=VE(t.transactionQueueTree_,e);return k3(r,i=>{S_(t,i)}),S_(t,r),gN(r,i=>{S_(t,i)}),n}function S_(t,e){let n=Qo(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(F(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(F(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(us(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?pN(e,void 0):n.length=s+1,er(t.eventQueue_,Sl(e),i);for(let o=0;o<r.length;o++)Ko(r[o])}}function rq(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function iq(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jt(`Invalid query segment '${n}' in query '${t}'`)}return e}var mR=function(t,e){let n=sq(t),r=n.namespace;n.domain==="firebase.com"&&Nr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||LH();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tf(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new De(n.pathString)}},sq=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=rq(t.substring(f,p)));let g=iq(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var gE=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}},yE=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var vE=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var _E=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:FR(this._path)}get ref(){return new Mr(this._repo,this._path)}get _queryIdentifier(){let e=tR(this._queryParams),n=TE(e);return n==="{}"?"default":n}get _queryObject(){return tR(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=UR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+g4(this._path)}};var Mr=class t extends _E{constructor(e,n){super(e,n,new Y_,!1)}get parent(){let e=VR(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},wf=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new De(e),r=If(this.ref,e);return new t(this._node.getChild(n),r,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,If(this.ref,r),je)))}hasChild(e){let n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function SN(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?If(t._root,e):t._root}function If(t,e){return t=ft(t),ue(t._path)===null?j3("child","path",e,!1):_N("child","path",e,!1),new Mr(t._repo,Xe(t._path,e))}function AN(t,e){t=ft(t),B3("set",t._path),U3("set",e,t._path,!1);let n=new _n;return J3(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function RN(t){t=ft(t);let e=new vE(()=>{}),n=new EE(e);return Y3(t._repo,t,n).then(r=>new wf(r,new Mr(t._repo,t._path),t._queryParams.getIndex()))}var EE=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new gE("value",this,new wf(e.snapshotNode,new Mr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yE(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};d3(Mr);g3(Mr);var oq="FIREBASE_DATABASE_EMULATOR_HOST",wE={},aq=!1;function cq(t,e,n,r){t.repoInfo_=new tf(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function lq(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=mR(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[oq]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=mR(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let f=i&&l?new hl(hl.OWNER):new x_(t.name,t.options,e);$3("Invalid Firebase Database URL",o),ce(o.path)||Nr("Database URL must point to the root of a Firebase Database (not including a child path).");let p=dq(a,t,f,new P_(t,n));return new IE(p,t)}function uq(t,e){let n=wE[e];(!n||n[t.key]!==t)&&Nr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),X3(t),delete n[t.key]}function dq(t,e,n,r){let i=wE[e.name];i||(i={},wE[e.name]=i);let s=i[t.toURLString()];return s&&Nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mE(t,aq,n,r),i[t.toURLString()]=s,s}var IE=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(G3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mr(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nr("Cannot call "+e+" on a deleted database.")}};function NN(t=br(),e){let n=ii(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=bh("database");r&&MN(n,...r)}return n}function MN(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&ln(r,s.repoInfo_.emulatorOptions))return;Nr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new hl(hl.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:Dh(r.mockUserToken,t.app.options.projectId);o=new hl(a)}cq(s,i,r,o)}function hq(t){kH(Gn),en(new pt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lq(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ne(VA,UA,t),Ne(VA,UA,"esm2017")}DE.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};DE.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hq();var Pr=class{constructor(e){return e}},PN="database",HE=class{constructor(){return si(PN)}};var qE=new U("angularfire2.database-instances");function fq(t,e){let n=ts(PN,t,e);return n&&new Pr(n)}function pq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pr(r)}}var mq={provide:HE,deps:[[new et,qE]]},gq={provide:Pr,useFactory:fq,deps:[[new et,qE],wn]};function xN(t,...e){return Ne("angularfire",Kn.full,"rtdb"),Kt([gq,mq,{provide:qE,useFactory:pq(t),multi:!0,deps:[Ee,Je,Qn,Dr,[new et,as],[new et,ai],...e]}])}var Yo=Ut(RN,!0),kN=Ut(NN,!0);var ms=Ut(SN,!0,2);var Al=Ut(AN,!0,2);var Be=class t{currentUser=null;setUser(e){this.currentUser=e,localStorage.setItem("activeUser",JSON.stringify(e))}getUser(){let e=localStorage.getItem("activeUser");return this.currentUser=e?JSON.parse(e):null,this.currentUser}clearUser(){this.currentUser=null,localStorage.removeItem("activeUser")}getUserName(){return this.getUser()?.email}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function _q(t,e){if(t&1&&(b(0,"div")(1,"div",12),N(2),w()()),t&2){let n=ke(2);O(2),Te(" ",n.loginResult," ")}}function Eq(t,e){if(t&1){let n=Re();b(0,"div",7)(1,"p",8),N(2,"You are currently signed in as "),b(3,"strong"),N(4),w(),N(5,"."),w(),b(6,"div",9)(7,"button",10),de("click",function(){pe(n);let i=ke();return me(i.logout())}),N(8,"Logout"),w()(),Yt(9,_q,3,1,"div",11),w()}if(t&2){let n=ke();O(4),we(n.currentUser.firstName),O(5),Fe("ngIf",n.loginResult)}}function wq(t,e){if(t&1){let n=Re();b(0,"div")(1,"h2",16),N(2,"Sign Up"),w(),b(3,"form",17),de("ngSubmit",function(){pe(n);let i=ke(2);return me(i.signUp())}),b(4,"div",18)(5,"input",19),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.signupForm.firstName,i)||(s.signupForm.firstName=i),me(i)}),w()(),b(6,"div",18)(7,"input",20),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.signupForm.lastName,i)||(s.signupForm.lastName=i),me(i)}),w()(),b(8,"div",21)(9,"input",22),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.signupForm.email,i)||(s.signupForm.email=i),me(i)}),w()(),b(10,"div",21)(11,"input",23),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.signupForm.password,i)||(s.signupForm.password=i),me(i)}),w()(),b(12,"div",24)(13,"button",25),N(14,"Sign Up"),w()()()()}if(t&2){let n=ke(2);O(5),Ln("ngModel",n.signupForm.firstName),O(2),Ln("ngModel",n.signupForm.lastName),O(2),Ln("ngModel",n.signupForm.email),O(2),Ln("ngModel",n.signupForm.password)}}function Iq(t,e){if(t&1){let n=Re();b(0,"div")(1,"h2",16),N(2,"Login"),w(),b(3,"form",17),de("ngSubmit",function(){pe(n);let i=ke(2);return me(i.login())}),b(4,"div",21)(5,"input",26),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.loginForm.email,i)||(s.loginForm.email=i),me(i)}),w()(),b(6,"div",21)(7,"input",27),Vn("ngModelChange",function(i){pe(n);let s=ke(2);return Er(s.loginForm.password,i)||(s.loginForm.password=i),me(i)}),w()(),b(8,"div",24)(9,"button",28),N(10,"Login"),w()()()()}if(t&2){let n=ke(2);O(5),Ln("ngModel",n.loginForm.email),O(2),Ln("ngModel",n.loginForm.password)}}function Cq(t,e){if(t&1&&(b(0,"div",12),N(1),w()),t&2){let n=ke(2);O(),Te(" ",n.loginResult," ")}}function Tq(t,e){if(t&1){let n=Re();b(0,"div",7),Yt(1,wq,15,4,"div",11)(2,Iq,11,2,"div",11),b(3,"div",13)(4,"button",14),de("click",function(){pe(n);let i=ke();return me(i.toggleMode())}),N(5),w()(),Yt(6,Cq,2,1,"div",15),w()}if(t&2){let n=ke();O(),Fe("ngIf",!n.isLoginMode),O(),Fe("ngIf",n.isLoginMode),O(3),Te(" Switch to ",n.isLoginMode?"Sign Up":"Login"," "),O(),Fe("ngIf",n.loginResult)}}var Mf=class t{constructor(e,n,r,i){this.auth=e;this.db=n;this.session=r;this.router=i}title="Campus Community Forum";isLoginMode=!0;signupForm={firstName:"",lastName:"",email:"",password:""};loginForm={email:"",password:""};loginResult=null;toggleMode(){this.isLoginMode=!this.isLoginMode,this.loginResult=null}get currentUser(){return this.session.getUser()}logout(){this.session.clearUser(),this.loginResult="You have been logged out.",this.router.navigate(["/login"])}signUp(){let{firstName:e,lastName:n,email:r,password:i}=this.signupForm;OA(this.auth,r,i).then(s=>{let o=s.user.uid,a={firstName:e,lastName:n,email:r},l=ms(this.db,`users/${o}`);return Al(l,a).then(()=>{let u=V({id:o},a);this.session.setUser(u),this.loginResult=`User ${e} signed up successfully!`,this.signupForm={firstName:"",lastName:"",email:"",password:""}})}).catch(s=>{console.error("Signup error:",s),this.loginResult=s.message})}login(){let{email:e,password:n}=this.loginForm;LA(this.auth,e,n).then(r=>{let i=r.user.uid,s=ms(this.db,`users/${i}`);Yo(s).then(o=>{if(o.exists()){let a=o.val(),l=V({id:i},a);this.session.setUser(l),this.loginResult=`Welcome back, ${l.firstName}!`}else this.loginResult="User profile not found."}).catch(o=>{console.error("Profile fetch error:",o),this.loginResult="Failed to load user profile."})}).catch(r=>{console.error("Login error:",r),this.loginResult="Invalid credentials."})}static \u0275fac=function(n){return new(n||t)(K(os),K(Pr),K(Be),K(Qi))};static \u0275cmp=ne({type:t,selectors:[["app-login-signup"]],decls:9,vars:3,consts:[["authForm",""],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"text-center","mb-4"],[1,"display-5"],["class","card shadow-sm p-4",4,"ngIf","ngIfElse"],[1,"card","shadow-sm","p-4"],[1,"lead"],[1,"d-grid","mb-3"],[1,"btn","btn-danger",3,"click"],[4,"ngIf"],[1,"alert","alert-info","mt-3"],[1,"text-center","mt-3"],[1,"btn","btn-outline-secondary",3,"click"],["class","alert alert-info mt-3",4,"ngIf"],[1,"mb-3"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6"],["type","text","name","firstName","placeholder","First Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastName","placeholder","Last Name","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],["type","email","name","signupEmail","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","signupPassword","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-grid"],["type","submit",1,"btn","btn-primary"],["type","email","name","loginEmail","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","loginPassword","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"]],template:function(n,r){if(n&1&&(b(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),N(5),w()(),Yt(6,Eq,10,2,"div",6)(7,Tq,7,4,"ng-template",null,0,XT),w()()()),n&2){let i=Ue(8);O(5),Te("Welcome to ",r.title,"!"),O(),Fe("ngIf",r.currentUser)("ngIfElse",i)}},dependencies:[cn,Bi,Ao,Ch,So,Eh,wh,nv,Uc,Vc],encapsulation:2})};function bq(t,e){if(t&1&&(b(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),N(4),w(),H(5,"img",15),b(6,"p")(7,"strong"),N(8,"Condition:"),w(),N(9),w(),b(10,"p")(11,"strong"),N(12,"Wind:"),w(),N(13),w(),b(14,"p")(15,"strong"),N(16,"Feels Like:"),w(),N(17),w(),b(18,"p")(19,"strong"),N(20,"Average Temp:"),w(),N(21),w(),b(22,"p")(23,"strong"),N(24,"High:"),w(),N(25),w(),b(26,"p")(27,"strong"),N(28,"Low:"),w(),N(29),w(),b(30,"p")(31,"strong"),N(32,"Precipitation:"),w(),N(33),w(),b(34,"p")(35,"strong"),N(36,"UV Index:"),w(),N(37),w()()()()),t&2){let n=e.$implicit;O(4),we(n.date),O(),Fe("src",n.day.condition.icon,Xa)("alt",n.day.condition.text),O(4),Te(" ",n.day.condition.text,""),O(4),Te(" ",n.day.maxwind_mph," mph"),O(4),Te(" ",n.day.avgtemp_f," \xB0F"),O(4),Te(" ",n.day.avgtemp_f," \xB0F"),O(4),Te(" ",n.day.maxtemp_f," \xB0F"),O(4),Te(" ",n.day.mintemp_f," \xB0F"),O(4),Te(" ",n.day.totalprecip_in," in."),O(4),Te(" ",n.day.uv,"")}}function Dq(t,e){if(t&1&&(b(0,"div",9),Yt(1,bq,38,11,"div",10),w()),t&2){let n=ke();O(),Fe("ngForOf",n.weatherData.forecast.forecastday)}}var Pf=class t{constructor(e){this.http=e}city="Fargo";weatherData;apiKey="d1ae467f20fb42ad875155546250105";apiUrl="https://api.weatherapi.com/v1/forecast.json";ngOnInit(){this.getWeather()}getWeather(){let e=`${this.apiUrl}?key=${this.apiKey}&q=${this.city}&days=5&aqi=no&alerts=no`;this.http.get(e).subscribe({next:n=>{this.weatherData=n,console.log(n)},error:n=>{console.error("Error fetching weather data",n)}})}static \u0275fac=function(n){return new(n||t)(K(fo))};static \u0275cmp=ne({type:t,selectors:[["app-weather"]],decls:12,vars:3,consts:[[1,"container","my-4"],[1,"text-center","mb-4"],["class","row",4,"ngIf"],[1,"text-center"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","city","placeholder","Fargo",1,"form-control","shrink-input",3,"ngModelChange","ngModel"],[1,"text-center","shrink-input"],["type","submit",1,"btn","btn-success","btn-md"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","h-100","shadow-sm"],[1,"card-body"],[1,"card-title"],[3,"src","alt"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"h3",1),N(2),w(),Yt(3,Dq,2,1,"div",2),b(4,"h3",3),N(5,"Search City For Weather"),w(),b(6,"form",4),de("ngSubmit",function(){return r.getWeather()}),b(7,"div",5)(8,"input",6),Vn("ngModelChange",function(s){return Er(r.city,s)||(r.city=s),s}),w()(),b(9,"div",7)(10,"button",8),N(11,"Search"),w()()()()),n&2&&(O(2),Te("",r.city," 5-Day Weather Forecast"),O(),Fe("ngIf",r.weatherData==null||r.weatherData.forecast==null?null:r.weatherData.forecast.forecastday),O(5),Ln("ngModel",r.city))},dependencies:[cn,Ad,Bi,Ao,Ch,So,Eh,wh,Uc,Vc],encapsulation:2})};var $e=class t{constructor(){}newsletter=On("Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae, harum quia minima ex ipsum corporis totam sed id voluptate odio fuga nihil labore ad odit blanditiis temporibus impedit officia est. Minima consequatur quia, labore, a illum repellendus cumque minus non illo quos odit debitis sapiente exercitationem culpa reprehenderit eveniet nobis laborum doloribus dolorem laudantium vero ex. Placeat laboriosam, non a iusto distinctio ab quae, error numquam mollitia, quos esse eligendi consequuntur. Aut, pariatur in aliquam quibusdam libero facilis, inventore fugit quia tempora illo officiis rem dolorem at sapiente ducimus! Hic libero quo saepe quis eligendi iste non corrupti vel dolorem labore quos necessitatibus voluptate rerum, excepturi laborum? Ex magni nobis beatae ratione, odit mollitia temporibus. Sapiente tempora earum ipsum adipisci dolorum laborum. Odit nobis neque quia modi assumenda, tenetur dignissimos amet fugiat nesciunt recusandae earum cupiditate culpa blanditiis hic similique illo doloribus dolor dolorem dicta iste non sed repudiandae! Voluptas aperiam eveniet accusantium, beatae, eos corrupti enim iusto qui cumque cum quo alias? Sint harum incidunt suscipit officia similique repellendus, praesentium quas at placeat iusto fugiat, est voluptates, cumque consectetur obcaecati optio atque exercitationem deserunt? At, repudiandae consequuntur, ducimus est dolorem numquam voluptate veniam autem sunt magni recusandae rem facere magnam omnis quidem, eos eaque hic facilis deleniti tempore accusamus blanditiis? Assumenda hic, saepe magni perspiciatis ducimus alias minima? Qui saepe est ullam, harum obcaecati explicabo perspiciatis quo tempore, cupiditate impedit, debitis porro adipisci quaerat repellat fuga. Beatae officiis, ipsum adipisci, perferendis voluptatibus asperiores esse voluptatem ad dolore eius voluptate eos possimus quo a cumque eaque, porro quia rem iusto? Cumque rem quae voluptatem officia libero harum! Saepe eos qui perferendis illum impedit dignissimos consequuntur officiis vitae voluptate, nemo cupiditate? Hic dolorem nam aut pariatur nostrum doloremque illo sint fugit. Illum quo eveniet non, ut vero animi quis earum excepturi!");announcementPosts=[];classPosts=[];eventPosts=[];requestPosts=[];announcementPostComments=[];classPostComments=[];eventPostComments=[];requestPostComments=[];setNewsletter(e){this.newsletter.set(e)}getAnnPostById(e){return this.announcementPosts.filter(n=>n.id==e)[0]}getClassPostById(e){return this.classPosts.filter(n=>n.id==e)[0]}getEventPostById(e){return this.eventPosts.filter(n=>n.id==e)[0]}getRequestPostById(e){return this.requestPosts.filter(n=>n.id==e)[0]}addAnnPost(e){this.announcementPosts.push(e)}addClassPost(e){this.classPosts.push(e)}addEventPost(e){this.eventPosts.push(e)}addRequestPost(e){this.requestPosts.push(e)}getAnnPostCommById(e){return this.announcementPostComments.filter(n=>n.id==e)[0]}getClassPostCommById(e){return this.classPostComments.filter(n=>n.id==e)[0]}getEventPostCommById(e){return this.eventPostComments.filter(n=>n.id==e)[0]}getRequestPostCommById(e){return this.requestPostComments.filter(n=>n.id==e)[0]}addAnnPostComm(e){this.announcementPostComments.push(e)}addClassPostComm(e){this.classPostComments.push(e)}addEventPostComm(e){this.eventPostComments.push(e)}addRequestPostComm(e){this.requestPostComments.push(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jo=class t{constructor(e){this.http=e}city="Fargo";currentDay="";currentDate="";weatherData;apiKey="d1ae467f20fb42ad875155546250105";apiUrl="https://api.weatherapi.com/v1/current.json";ngOnInit(){this.getWeather()}getWeather(){let e=`${this.apiUrl}?key=${this.apiKey}&q=${this.city}&aqi=no`;this.http.get(e).subscribe({next:n=>{this.weatherData=n,console.log(n);let r=new Date(n.location.localtime);this.currentDate=r.toLocaleDateString(),this.currentDay=r.toLocaleDateString("en-US",{weekday:"long"})},error:n=>{console.error("Error fetching weather data",n)}})}static \u0275fac=function(n){return new(n||t)(K(fo))};static \u0275cmp=ne({type:t,selectors:[["app-weather-bar"]],decls:26,vars:9,consts:[[1,"weatherbar","bg-info"],[1,"date"],[1,"barinfo"],[3,"src","alt"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"span",1),N(2),w(),b(3,"span",2)(4,"span"),H(5,"img",3),w(),b(6,"span")(7,"strong"),N(8,"Condition: "),w(),N(9),w(),b(10,"span")(11,"strong"),N(12,"Temperature: "),w(),N(13),w(),b(14,"span")(15,"strong"),N(16,"Feels Like: "),w(),N(17),w(),b(18,"span")(19,"strong"),N(20,"Wind Speed: "),w(),N(21),w(),b(22,"span")(23,"strong"),N(24,"Precipitation: "),w(),N(25),w()()()),n&2&&(O(2),Ze("",r.currentDay," ",r.currentDate,""),O(3),Fe("src",r.weatherData.current.condition.icon,Xa)("alt",r.weatherData.current.condition.text),O(4),we(r.weatherData.current.condition.text),O(4),Te("",r.weatherData.current.temp_f," \xB0F"),O(4),Te("",r.weatherData.current.feelslike_f," \xB0F"),O(4),Te("",r.weatherData.current.wind_mph," mph"),O(4),Te("",r.weatherData.current.precip_in," in."))},dependencies:[cn,Ao],styles:[".weatherbar[_ngcontent-%COMP%]{height:32px;display:flex;align-items:center;justify-content:space-between;padding:0 10px}.date[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;text-decoration:none;flex:0 0 auto}.barinfo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;color:#fff;text-decoration:none;margin:0 auto}"]})};function Aq(t,e){if(t&1){let n=Re();b(0,"button",6),de("click",function(){pe(n);let i=ke();return me(i.subscribe())}),N(1," Subscribe! "),w()}}function Rq(t,e){if(t&1){let n=Re();b(0,"button",7),de("click",function(){pe(n);let i=ke();return me(i.unsubscribe())}),N(1," Unsubscribe "),w()}}var xf=class t{dataService=P($e);db=P(Pr);session=P(Be);newsletterContent=this.dataService.newsletter;userEmail=null;isSubscribed=!1;ngOnInit(){let e=this.session.getUser();e?(this.userEmail=e.email,this.checkSubscriptionStatus()):console.log("No user in session.")}checkSubscriptionStatus(){let e=ms(this.db,"newsletter/subscribers");Yo(e).then(n=>{let r=n.exists()?n.val():[];this.isSubscribed=r.includes(this.userEmail)}).catch(n=>{console.error("Error checking subscription status:",n)})}subscribe(){if(!this.userEmail)return;let e=ms(this.db,"newsletter/subscribers");Yo(e).then(n=>{let r=n.exists()?n.val():[];r.includes(this.userEmail)||(r.push(this.userEmail),Al(e,r).then(()=>{this.isSubscribed=!0}))})}unsubscribe(){if(!this.userEmail)return;let e=ms(this.db,"newsletter/subscribers");Yo(e).then(n=>{let r=n.exists()?n.val():[],i=r.indexOf(this.userEmail);i!==-1&&(r.splice(i,1),Al(e,r).then(()=>{this.isSubscribed=!1}))})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-newsletter"]],decls:11,vars:3,consts:[[1,"center"],[1,"card"],[1,"card-body"],[1,"card-text"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&(H(0,"app-weather-bar"),b(1,"div")(2,"h1",0),N(3,"Check out our weekly newsletter!"),w()(),b(4,"div",1)(5,"div",2)(6,"p",3),N(7),w()()(),b(8,"div",0),Yt(9,Aq,2,0,"button",4)(10,Rq,2,0,"button",5),w()),n&2&&(O(7),we(r.newsletterContent()),O(2),Fe("ngIf",!r.isSubscribed),O(),Fe("ngIf",r.isSubscribed))},dependencies:[cn,Bi,Jo],styles:[".card[_ngcontent-%COMP%]{margin:40px 10%}.center[_ngcontent-%COMP%]{text-align:center;padding-top:35px}"]})};var kf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-games-page"]],decls:32,vars:0,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center","g-4"],[1,"col-12","col-md-6","d-flex","justify-content-center"],[1,"card","shadow","w-100"],[1,"card-header","bg-success","text-white","text-center"],[1,"mb-0"],[1,"card-body","text-center"],["src",ec`https://scratch.mit.edu/projects/116794615/embed`,"width","100%","height","400","allowfullscreen",""],[1,"card-header","bg-danger","text-white","text-center"],["src",ec`https://scratch.mit.edu/projects/306906013/embed`,"width","100%","height","400","allowfullscreen",""],[1,"card-header","bg-primary","text-white","text-center"],["src",ec`https://scratch.mit.edu/projects/282807562/embed`,"width","100%","height","400","allowfullscreen",""],["src",ec`https://scratch.mit.edu/projects/309333100/embed`,"width","100%","height","400","allowfullscreen",""]],template:function(n,r){n&1&&(b(0,"div",0)(1,"h1",1),N(2,"Play the Local Hits!"),w(),b(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),N(8,"Hungry Hungry Crab"),w()(),b(9,"div",7),H(10,"iframe",8),w()()(),b(11,"div",3)(12,"div",4)(13,"div",9)(14,"h5",6),N(15,"Fall Down"),w()(),b(16,"div",7),H(17,"iframe",10),w()()(),b(18,"div",3)(19,"div",4)(20,"div",11)(21,"h5",6),N(22,"Donut Catcher"),w()(),b(23,"div",7),H(24,"iframe",12),w()()(),b(25,"div",3)(26,"div",4)(27,"div",5)(28,"h5",6),N(29,"Super Mario Run"),w()(),b(30,"div",7),H(31,"iframe",13),w()()()()())},encapsulation:2})};var Of=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-forums"]],decls:33,vars:0,consts:[[1,"row"],[1,"card",2,"width","25%"],["src","images/NDSUlogo.png","alt","The North Dakota State University logo",2,"margin-top","113px","margin-bottom","113px"],[1,"card-title","center"],[1,"card-body","center"],["routerLink","forum-events",1,"btn","btn-primary",2,"margin-bottom","10px"],["src","images/megaphone.jpg","alt","An image of a megaphone"],["routerLink","forum-announcements",1,"btn","btn-primary",2,"margin-bottom","10px"],["src","images/pencil.jpg","alt","An image of a pencil"],["routerLink","forum-classes",1,"btn","btn-primary",2,"margin-bottom","10px"],["src","images/question.png","alt","A question mark"],["routerLink","forum-requests",1,"btn","btn-primary",2,"margin-bottom","10px"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"div",1),H(2,"img",2),b(3,"h1",3),N(4,"Campus Events"),w(),b(5,"p",4),N(6,"This is a place to talk about the going-ons of campus, such as sporting events, club meetings or a fundraising booth"),w(),b(7,"button",5),N(8,"Take me there!"),w()(),b(9,"div",1),H(10,"img",6),b(11,"h1",3),N(12,"Class Announcements"),w(),b(13,"p",4),N(14,"This is a place to give Announcements about classes such as cancellations or large tests coming up"),w(),b(15,"button",7),N(16,"Take me there!"),w()(),b(17,"div",1),H(18,"img",8),b(19,"h1",3),N(20,"Class Help"),w(),b(21,"p",4),N(22,"This is a place to talk about class assignments and to get help from your peers, like meeting up to study"),w(),b(23,"button",9),N(24,"Take me there!"),w()(),b(25,"div",1),H(26,"img",10),b(27,"h1",3),N(28,"Forum Requests"),w(),b(29,"p",4),N(30,"Here is where you can request more forums or functionalities you would like to be added"),w(),b(31,"button",11),N(32,"Take me there!"),w()()())},dependencies:[Vt],styles:[".center[_ngcontent-%COMP%]{text-align:center}"]})};var Ff=class t{constructor(e){this.dataService=e}newsletterPreview(){let e=this.dataService.newsletter(),n=500;return e.length>n?e.slice(0,n)+"...":e}static \u0275fac=function(n){return new(n||t)(K($e))};static \u0275cmp=ne({type:t,selectors:[["app-home"]],decls:25,vars:1,consts:[[1,"center"],[1,"container","mt-4"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center"],[1,"btn","btn-primary","mb-3"],["href","newsletter",2,"color","white","text-decoration","none"],[1,"col-md-6","d-flex","justify-content-center","align-items-center"],["src","images/forum-image.jpg","alt","Community Forum Image",1,"card-img-top"],[1,"card-text","text-center"]],template:function(n,r){n&1&&(H(0,"app-weather-bar"),b(1,"div")(2,"h1",0),N(3,"Welcome to Campus Community Forum!"),w(),b(4,"h3"),N(5,"Play a game and interact with your community!"),w()(),b(6,"div",1)(7,"div",2)(8,"div",3)(9,"div",4)(10,"div",5)(11,"h5",6),N(12,"Newsletter Preview"),w(),b(13,"p",7),N(14),w(),b(15,"div",8)(16,"button",9)(17,"a",10),N(18,"Open full newsletter"),w()()()()()(),b(19,"div",11)(20,"div",4),H(21,"img",12),b(22,"div",5)(23,"p",13),N(24,"Join the discussion! Explore trending topics and connect with your peers."),w()()()()()()),n&2&&(O(14),we(r.newsletterPreview()))},dependencies:[Jo],styles:[".center[_ngcontent-%COMP%]{margin:auto;text-align:center;padding-top:35px;padding-right:35px;padding-left:35px}h3[_ngcontent-%COMP%]{margin:auto;text-align:center;color:gray}.card[_ngcontent-%COMP%]{margin:auto}"]})};var Nq=t=>["/forums/forum-requests",t],Mq=(t,e)=>e.id;function Pq(t,e){if(t&1&&(b(0,"div",12)(1,"div",13)(2,"h3",14),N(3),w(),b(4,"p"),N(5),w(),b(6,"a",15),N(7,"Open Post"),w()()()),t&2){let n=e.$implicit;O(3),Ze("",n.title,", by ",n.author,""),O(2),we(n.description),O(),Fe("routerLink",Yr(4,Nq,n.id))}}var Lf=class t{dataService=P($e);userSession=P(Be);posts=[];runningId=0;currentUser=this.userSession.getUserName();ngOnInit(){this.posts=this.dataService.requestPosts}createPost(e,n){let r={title:e,author:this.currentUser,description:n,id:this.runningId++};this.dataService.addRequestPost(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-forum-requests"]],decls:19,vars:0,consts:[["title",""],["description",""],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","firstName"],["type","text","id","title","placeholder","Title",1,"form-control"],["for","lastName"],["type","text","id","desc","placeholder","Description",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"mt-3"],[1,"row"],[1,"col-md-4","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[3,"routerLink"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",2)(1,"div",3)(2,"form")(3,"div",4)(4,"label",5),N(5,"Title"),w(),H(6,"input",6,0),w(),b(8,"div",4)(9,"label",7),N(10,"Description"),w(),H(11,"input",8,1),w()(),b(13,"button",9),de("click",function(){pe(i);let o=Ue(7),a=Ue(12);return me(r.createPost(o.value,a.value))}),N(14,"Create a Post"),w()()(),b(15,"div",10)(16,"div",11),It(17,Pq,8,6,"div",12,Mq),w()()}n&2&&(O(17),Ct(r.posts))},dependencies:[Vt],styles:[".formCSS[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}"]})};var xq=t=>["/forums/forum-events",t],kq=(t,e)=>e.id;function Oq(t,e){if(t&1&&(b(0,"div",12)(1,"div",13)(2,"h3",14),N(3),w(),b(4,"p"),N(5),w(),b(6,"a",15),N(7,"Open Post"),w()()()),t&2){let n=e.$implicit;O(3),Ze("",n.title,", by ",n.author,""),O(2),we(n.description),O(),Fe("routerLink",Yr(4,xq,n.id))}}var Vf=class t{dataService=P($e);userSession=P(Be);posts=[];runningId=0;currentUser=this.userSession.getUserName();ngOnInit(){this.posts=this.dataService.eventPosts}createPost(e,n){let r={title:e,author:this.currentUser,description:n,id:this.runningId++};this.dataService.addEventPost(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-forum-events"]],decls:19,vars:0,consts:[["title",""],["description",""],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","firstName"],["type","text","id","title","placeholder","Title",1,"form-control"],["for","lastName"],["type","text","id","desc","placeholder","Description",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"mt-3"],[1,"row"],[1,"col-md-4","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[3,"routerLink"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",2)(1,"div",3)(2,"form")(3,"div",4)(4,"label",5),N(5,"Title"),w(),H(6,"input",6,0),w(),b(8,"div",4)(9,"label",7),N(10,"Description"),w(),H(11,"input",8,1),w()(),b(13,"button",9),de("click",function(){pe(i);let o=Ue(7),a=Ue(12);return me(r.createPost(o.value,a.value))}),N(14,"Create a Post"),w()()(),b(15,"div",10)(16,"div",11),It(17,Oq,8,6,"div",12,kq),w()()}n&2&&(O(17),Ct(r.posts))},dependencies:[Vt],styles:[".formCSS[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}"]})};var Fq=t=>["/forums/forum-announcements",t],Lq=(t,e)=>e.id;function Vq(t,e){if(t&1&&(b(0,"div",12)(1,"div",13)(2,"h3",14),N(3),w(),b(4,"p"),N(5),w(),b(6,"a",15),N(7,"Open Post"),w()()()),t&2){let n=e.$implicit;O(3),Ze("",n.title,", by ",n.author,""),O(2),we(n.description),O(),Fe("routerLink",Yr(4,Fq,n.id))}}var Uf=class t{dataService=P($e);userSession=P(Be);posts=[];runningId=0;currentUser=this.userSession.getUserName();ngOnInit(){this.posts=this.dataService.announcementPosts}createPost(e,n){let r={title:e,author:this.currentUser,description:n,id:this.runningId++};this.dataService.addAnnPost(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-forum-announcements"]],decls:19,vars:0,consts:[["title",""],["description",""],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","firstName"],["type","text","id","title","placeholder","Title",1,"form-control"],["for","lastName"],["type","text","id","desc","placeholder","Description",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"mt-3"],[1,"row"],[1,"col-md-4","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[3,"routerLink"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",2)(1,"div",3)(2,"form")(3,"div",4)(4,"label",5),N(5,"Title"),w(),H(6,"input",6,0),w(),b(8,"div",4)(9,"label",7),N(10,"Description"),w(),H(11,"input",8,1),w()(),b(13,"button",9),de("click",function(){pe(i);let o=Ue(7),a=Ue(12);return me(r.createPost(o.value,a.value))}),N(14,"Create a Post"),w()()(),b(15,"div",10)(16,"div",11),It(17,Vq,8,6,"div",12,Lq),w()()}n&2&&(O(17),Ct(r.posts))},dependencies:[Vt],styles:[".formCSS[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}"]})};var Uq=t=>["/forums/forum-classes",t],jq=(t,e)=>e.id;function Bq(t,e){if(t&1&&(b(0,"div",12)(1,"div",13)(2,"h3",14),N(3),w(),b(4,"p"),N(5),w(),b(6,"a",15),N(7,"Open Post"),w()()()),t&2){let n=e.$implicit;O(3),Ze("",n.title,", by ",n.author,""),O(2),we(n.description),O(),Fe("routerLink",Yr(4,Uq,n.id))}}var jf=class t{dataService=P($e);userSession=P(Be);posts=[];runningId=0;currentUser=this.userSession.getUserName();ngOnInit(){this.posts=this.dataService.classPosts}createPost(e,n){let r={title:e,author:this.currentUser,description:n,id:this.runningId++};this.dataService.addClassPost(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-forum-classes"]],decls:19,vars:0,consts:[["title",""],["description",""],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","firstName"],["type","text","id","title","placeholder","Title",1,"form-control"],["for","lastName"],["type","text","id","desc","placeholder","Description",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"mt-3"],[1,"row"],[1,"col-md-4","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[3,"routerLink"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",2)(1,"div",3)(2,"form")(3,"div",4)(4,"label",5),N(5,"Title"),w(),H(6,"input",6,0),w(),b(8,"div",4)(9,"label",7),N(10,"Description"),w(),H(11,"input",8,1),w()(),b(13,"button",9),de("click",function(){pe(i);let o=Ue(7),a=Ue(12);return me(r.createPost(o.value,a.value))}),N(14,"Create a Post"),w()()(),b(15,"div",10)(16,"div",11),It(17,Bq,8,6,"div",12,jq),w()()}n&2&&(O(17),Ct(r.posts))},dependencies:[Vt],styles:[".formCSS[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}"]})};var $q=(t,e)=>e.id;function Hq(t,e){if(t&1&&(b(0,"div",6)(1,"div",13)(2,"h5",3),N(3),w(),b(4,"p"),N(5),w()()()),t&2){let n=e.$implicit;O(3),we(n.comment),O(2),Te("- ",n.author,"")}}var Bf=class t{dataService=P($e);pathSegments=window.location.pathname.split("/");id=Number(this.pathSegments[this.pathSegments.length-1]);comments=[];userSession=P(Be);runningId=0;currentUser=this.userSession.getUserName();post;ngOnInit(){this.post=this.dataService.getRequestPostById(this.id),this.comments=this.dataService.requestPostComments}createComment(e){let n={author:this.currentUser,comment:e,id:this.runningId++};this.dataService.addRequestPostComm(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-request-post"]],decls:20,vars:3,consts:[["comment",""],[1,"d-flex","justify-content-center","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[1,"mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-12","my-2","mx-0"],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","lastName"],["type","text","id","comment","placeholder","comment",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"card","p-5","comment",2,"background-color","rgb(255, 249, 242)"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",1)(1,"div",2)(2,"h3",3),N(3),w(),b(4,"p"),N(5),w()()(),b(6,"div",4)(7,"div",5),It(8,Hq,6,2,"div",6,$q),w()(),b(10,"div",7)(11,"div",8)(12,"form")(13,"div",9)(14,"label",10),N(15,"Comment"),w(),H(16,"input",11,0),w()(),b(18,"button",12),de("click",function(){pe(i);let o=Ue(17);return me(r.createComment(o.value))}),N(19,"Post A Comment"),w()()()}n&2&&(O(3),Ze("",r.post.title,", by ",r.post.author,""),O(2),we(r.post.description),O(3),Ct(r.comments))},styles:[".comment[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]})};var qq=(t,e)=>e.id;function zq(t,e){if(t&1&&(b(0,"div",6)(1,"div",13)(2,"h5",3),N(3),w(),b(4,"p"),N(5),w()()()),t&2){let n=e.$implicit;O(3),we(n.comment),O(2),Te("- ",n.author,"")}}var $f=class t{dataService=P($e);pathSegments=window.location.pathname.split("/");id=Number(this.pathSegments[this.pathSegments.length-1]);comments=[];userSession=P(Be);runningId=0;currentUser=this.userSession.getUserName();post;ngOnInit(){this.post=this.dataService.getEventPostById(this.id),this.comments=this.dataService.eventPostComments}createComment(e){let n={author:this.currentUser,comment:e,id:this.runningId++};this.dataService.addEventPostComm(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-event-post"]],decls:20,vars:3,consts:[["comment",""],[1,"d-flex","justify-content-center","my-2","mx-0"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[1,"mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-12","my-2","mx-0"],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","lastName"],["type","text","id","comment","placeholder","comment",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"card","p-5","comment",2,"background-color","rgb(255, 249, 242)"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",1)(1,"div",2)(2,"h3",3),N(3),w(),b(4,"p"),N(5),w()()(),b(6,"div",4)(7,"div",5),It(8,zq,6,2,"div",6,qq),w()(),b(10,"div",7)(11,"div",8)(12,"form")(13,"div",9)(14,"label",10),N(15,"Comment"),w(),H(16,"input",11,0),w()(),b(18,"button",12),de("click",function(){pe(i);let o=Ue(17);return me(r.createComment(o.value))}),N(19,"Post A Comment"),w()()()}n&2&&(O(3),Ze("",r.post.title,", by ",r.post.author,""),O(2),we(r.post.description),O(3),Ct(r.comments))},styles:[".comment[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]})};var Wq=(t,e)=>e.id;function Gq(t,e){if(t&1&&(b(0,"div",6)(1,"div",13)(2,"h5",3),N(3),w(),b(4,"p"),N(5),w()()()),t&2){let n=e.$implicit;O(3),we(n.comment),O(2),Te("- ",n.author,"")}}var Hf=class t{dataService=P($e);pathSegments=window.location.pathname.split("/");id=Number(this.pathSegments[this.pathSegments.length-1]);userSession=P(Be);runningId=0;currentUser=this.userSession.getUserName();comments=[];post;ngOnInit(){this.post=this.dataService.getAnnPostById(this.id),this.comments=this.dataService.announcementPostComments}createComment(e){let n={author:this.currentUser,comment:e,id:this.runningId++};this.dataService.addAnnPostComm(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-ann-post"]],decls:20,vars:3,consts:[["comment",""],[1,"my-2","mx-0","d-flex","justify-content-center"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[1,"mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-12","my-2","mx-0"],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","lastName"],["type","text","id","comment","placeholder","comment",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"card","p-5","comment",2,"background-color","rgb(255, 249, 242)"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",1)(1,"div",2)(2,"h3",3),N(3),w(),b(4,"p"),N(5),w()()(),b(6,"div",4)(7,"div",5),It(8,Gq,6,2,"div",6,Wq),w()(),b(10,"div",7)(11,"div",8)(12,"form")(13,"div",9)(14,"label",10),N(15,"Comment"),w(),H(16,"input",11,0),w()(),b(18,"button",12),de("click",function(){pe(i);let o=Ue(17);return me(r.createComment(o.value))}),N(19,"Post A Comment"),w()()()}n&2&&(O(3),Ze("",r.post.title,", by ",r.post.author,""),O(2),we(r.post.description),O(3),Ct(r.comments))},styles:[".comment[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]})};var Kq=(t,e)=>e.id;function Qq(t,e){if(t&1&&(b(0,"div",6)(1,"div",13)(2,"h5",3),N(3),w(),b(4,"p"),N(5),w()()()),t&2){let n=e.$implicit;O(3),we(n.comment),O(2),Te("- ",n.author,"")}}var qf=class t{dataService=P($e);pathSegments=window.location.pathname.split("/");id=Number(this.pathSegments[this.pathSegments.length-1]);comments=[];userSession=P(Be);runningId=0;currentUser=this.userSession.getUserName();post;ngOnInit(){this.post=this.dataService.getClassPostById(this.id),this.comments=this.dataService.classPostComments}createComment(e){let n={author:this.currentUser,comment:e,id:this.runningId++};this.dataService.addClassPostComm(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-class-post"]],decls:20,vars:3,consts:[["comment",""],[1,"my-2","mx-0","d-flex","justify-content-center"],[1,"card","p-5",2,"background-color","rgb(255, 249, 242)"],[1,"card-title"],[1,"mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-12","my-2","mx-0"],[1,"card"],[1,"card-body"],[1,"mb-3","formCSS"],["for","lastName"],["type","text","id","comment","placeholder","comment",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3","formCSS",3,"click"],[1,"card","p-5","comment",2,"background-color","rgb(255, 249, 242)"]],template:function(n,r){if(n&1){let i=Re();b(0,"div",1)(1,"div",2)(2,"h3",3),N(3),w(),b(4,"p"),N(5),w()()(),b(6,"div",4)(7,"div",5),It(8,Qq,6,2,"div",6,Kq),w()(),b(10,"div",7)(11,"div",8)(12,"form")(13,"div",9)(14,"label",10),N(15,"Comment"),w(),H(16,"input",11,0),w()(),b(18,"button",12),de("click",function(){pe(i);let o=Ue(17);return me(r.createComment(o.value))}),N(19,"Post A Comment"),w()()()}n&2&&(O(3),Ze("",r.post.title,", by ",r.post.author,""),O(2),we(r.post.description),O(3),Ct(r.comments))},styles:[".comment[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}"]})};var Zo=class t{darkModeSignal=On("");updateDarkMode(){this.darkModeSignal.update(e=>e==="dark"?"":"dark")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function Yq(t,e){if(t&1){let n=Re();b(0,"span",2),de("click",function(){pe(n);let i=ke();return me(i.toggleDarkMode())}),N(1,"Dark/Light: "),Qa(),b(2,"svg",3),H(3,"path",4)(4,"path",5),w()()}}function Jq(t,e){if(t&1){let n=Re();b(0,"span",2),de("click",function(){pe(n);let i=ke();return me(i.toggleDarkMode())}),N(1,"Dark/Light: "),Qa(),b(2,"svg",6),H(3,"path",7),w()()}}var zf=class t{darkModelService=P(Zo);toggleDarkMode(){this.darkModelService.updateDarkMode()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-settings"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"text-center","mb-4"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-moon-stars","text-secondary"],["d","M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"],["d","M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-brightness-high-fill"],["d","M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"h1",1),N(2,"Settings"),w(),Yt(3,Yq,5,0,"span")(4,Jq,4,0,"span"),w()),n&2&&(O(3),QT(r.darkModelService.darkModeSignal()?3:4))},encapsulation:2})};var ON=[{path:"",component:Ff,title:"Home Page"},{path:"userAuth",component:Mf,title:"Sign up/Login"},{path:"weather",component:Pf,title:"Weather"},{path:"newsletter",component:xf,title:"Newsletter"},{path:"games",component:kf,title:"Games"},{path:"forums",component:Of,title:"Forums"},{path:"forums/forum-requests",component:Lf,title:"Forum Requests"},{path:"forums/forum-events",component:Vf,title:"Event Forum"},{path:"forums/forum-announcements",component:Uf,title:"Announcement Forum"},{path:"forums/forum-classes",component:jf,title:"Class Forum"},{path:"forums/forum-requests/:id",component:Bf,title:"Request Post Detail"},{path:"forums/forum-events/:id",component:$f,title:"Event Post Detail"},{path:"forums/forum-announcements/:id",component:Hf,title:"Announcement Post Detail"},{path:"forums/forum-classes/:id",component:qf,title:"Class Post Detail"},{path:"settings",component:zf,title:"Settings Page"}];var FN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LN={};var Wf,VN;(function(){var t;function e(S,v){function E(){}E.prototype=v.prototype,S.D=v.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(C,T,R){for(var _=Array(arguments.length-2),ir=2;ir<arguments.length;ir++)_[ir-2]=arguments[ir];return v.prototype[T].apply(C,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,E){E||(E=0);var C=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)C[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)C[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=S.g[0],E=S.g[1],T=S.g[2];var R=S.g[3],_=v+(R^E&(T^R))+C[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=R+(T^v&(E^T))+C[1]+3905402710&4294967295,R=v+(_<<12&4294967295|_>>>20),_=T+(E^R&(v^E))+C[2]+606105819&4294967295,T=R+(_<<17&4294967295|_>>>15),_=E+(v^T&(R^v))+C[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(R^E&(T^R))+C[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(T^v&(E^T))+C[5]+1200080426&4294967295,R=v+(_<<12&4294967295|_>>>20),_=T+(E^R&(v^E))+C[6]+2821735955&4294967295,T=R+(_<<17&4294967295|_>>>15),_=E+(v^T&(R^v))+C[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(R^E&(T^R))+C[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(T^v&(E^T))+C[9]+2336552879&4294967295,R=v+(_<<12&4294967295|_>>>20),_=T+(E^R&(v^E))+C[10]+4294925233&4294967295,T=R+(_<<17&4294967295|_>>>15),_=E+(v^T&(R^v))+C[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(R^E&(T^R))+C[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(T^v&(E^T))+C[13]+4254626195&4294967295,R=v+(_<<12&4294967295|_>>>20),_=T+(E^R&(v^E))+C[14]+2792965006&4294967295,T=R+(_<<17&4294967295|_>>>15),_=E+(v^T&(R^v))+C[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^R&(E^T))+C[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^T&(v^E))+C[6]+3225465664&4294967295,R=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(R^v))+C[11]+643717713&4294967295,T=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(T^R))+C[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^R&(E^T))+C[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^T&(v^E))+C[10]+38016083&4294967295,R=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(R^v))+C[15]+3634488961&4294967295,T=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(T^R))+C[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^R&(E^T))+C[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^T&(v^E))+C[14]+3275163606&4294967295,R=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(R^v))+C[3]+4107603335&4294967295,T=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(T^R))+C[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^R&(E^T))+C[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^T&(v^E))+C[2]+4243563512&4294967295,R=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(R^v))+C[7]+1735328473&4294967295,T=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(T^R))+C[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^R)+C[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^T)+C[8]+2272392833&4294967295,R=v+(_<<11&4294967295|_>>>21),_=T+(R^v^E)+C[11]+1839030562&4294967295,T=R+(_<<16&4294967295|_>>>16),_=E+(T^R^v)+C[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^R)+C[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^T)+C[4]+1272893353&4294967295,R=v+(_<<11&4294967295|_>>>21),_=T+(R^v^E)+C[7]+4139469664&4294967295,T=R+(_<<16&4294967295|_>>>16),_=E+(T^R^v)+C[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^R)+C[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^T)+C[0]+3936430074&4294967295,R=v+(_<<11&4294967295|_>>>21),_=T+(R^v^E)+C[3]+3572445317&4294967295,T=R+(_<<16&4294967295|_>>>16),_=E+(T^R^v)+C[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^R)+C[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^T)+C[12]+3873151461&4294967295,R=v+(_<<11&4294967295|_>>>21),_=T+(R^v^E)+C[15]+530742520&4294967295,T=R+(_<<16&4294967295|_>>>16),_=E+(T^R^v)+C[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~R))+C[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~T))+C[7]+1126891415&4294967295,R=v+(_<<10&4294967295|_>>>22),_=T+(v^(R|~E))+C[14]+2878612391&4294967295,T=R+(_<<15&4294967295|_>>>17),_=E+(R^(T|~v))+C[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~R))+C[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~T))+C[3]+2399980690&4294967295,R=v+(_<<10&4294967295|_>>>22),_=T+(v^(R|~E))+C[10]+4293915773&4294967295,T=R+(_<<15&4294967295|_>>>17),_=E+(R^(T|~v))+C[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~R))+C[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~T))+C[15]+4264355552&4294967295,R=v+(_<<10&4294967295|_>>>22),_=T+(v^(R|~E))+C[6]+2734768916&4294967295,T=R+(_<<15&4294967295|_>>>17),_=E+(R^(T|~v))+C[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~R))+C[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~T))+C[11]+3174756917&4294967295,R=v+(_<<10&4294967295|_>>>22),_=T+(v^(R|~E))+C[2]+718787259&4294967295,T=R+(_<<15&4294967295|_>>>17),_=E+(R^(T|~v))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var E=v-this.blockSize,C=this.B,T=this.h,R=0;R<v;){if(T==0)for(;R<=E;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<v;)if(C[T++]=S.charCodeAt(R++),T==this.blockSize){i(this,C),T=0;break}}else for(;R<v;)if(C[T++]=S[R++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var E=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=E&255,E/=256;for(this.u(S),S=Array(16),v=E=0;4>v;++v)for(var C=0;32>C;C+=8)S[E++]=this.g[v]>>>C&255;return S};function s(S,v){var E=a;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=v(S)}function o(S,v){this.h=v;for(var E=[],C=!0,T=S.length-1;0<=T;T--){var R=S[T]|0;C&&R==v||(E[T]=R,C=!1)}this.g=E}var a={};function l(S){return-128<=S&&128>S?s(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return k(u(-S));for(var v=[],E=1,C=0;S>=E;C++)v[C]=S/E|0,E*=4294967296;return new o(v,0)}function f(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return k(f(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(v,8)),C=p,T=0;T<S.length;T+=8){var R=Math.min(8,S.length-T),_=parseInt(S.substring(T,T+R),v);8>R?(R=u(Math.pow(v,R)),C=C.j(R).add(u(_))):(C=C.j(E),C=C.add(u(_)))}return C}var p=l(0),g=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();for(var S=0,v=1,E=0;E<this.g.length;E++){var C=this.i(E);S+=(0<=C?C:4294967296+C)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(x(this))return"-"+k(this).toString(S);for(var v=u(Math.pow(S,6)),E=this,C="";;){var T=ot(E,v).g;E=$(E,T.j(v));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=T,I(E))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=$(this,S),x(S)?-1:I(S)?0:1};function k(S){for(var v=S.g.length,E=[],C=0;C<v;C++)E[C]=~S.g[C];return new o(E,~S.h).add(g)}t.abs=function(){return x(this)?k(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],C=0,T=0;T<=v;T++){var R=C+(this.i(T)&65535)+(S.i(T)&65535),_=(R>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);C=_>>>16,R&=65535,_&=65535,E[T]=_<<16|R}return new o(E,E[E.length-1]&-2147483648?-1:0)};function $(S,v){return S.add(k(v))}t.j=function(S){if(I(this)||I(S))return p;if(x(this))return x(S)?k(this).j(k(S)):k(k(this).j(S));if(x(S))return k(this.j(k(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var v=this.g.length+S.g.length,E=[],C=0;C<2*v;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var T=0;T<S.g.length;T++){var R=this.i(C)>>>16,_=this.i(C)&65535,ir=S.i(T)>>>16,ra=S.i(T)&65535;E[2*C+2*T]+=_*ra,be(E,2*C+2*T),E[2*C+2*T+1]+=R*ra,be(E,2*C+2*T+1),E[2*C+2*T+1]+=_*ir,be(E,2*C+2*T+1),E[2*C+2*T+2]+=R*ir,be(E,2*C+2*T+2)}for(C=0;C<v;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=v;C<2*v;C++)E[C]=0;return new o(E,0)};function be(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function Z(S,v){this.g=S,this.h=v}function ot(S,v){if(I(v))throw Error("division by zero");if(I(S))return new Z(p,p);if(x(S))return v=ot(k(S),v),new Z(k(v.g),k(v.h));if(x(v))return v=ot(S,k(v)),new Z(k(v.g),v.h);if(30<S.g.length){if(x(S)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,C=v;0>=C.l(S);)E=rr(E),C=rr(C);var T=yt(E,1),R=yt(C,1);for(C=yt(C,2),E=yt(E,2);!I(C);){var _=R.add(C);0>=_.l(S)&&(T=T.add(E),R=_),C=yt(C,1),E=yt(E,1)}return v=$(S,T.j(v)),new Z(T,v)}for(T=p;0<=S.l(v);){for(E=Math.max(1,Math.floor(S.m()/v.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(E),_=R.j(v);x(_)||0<_.l(S);)E-=C,R=u(E),_=R.j(v);I(R)&&(R=g),T=T.add(R),S=$(S,_)}return new Z(T,S)}t.A=function(S){return ot(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],C=0;C<v;C++)E[C]=this.i(C)&S.i(C);return new o(E,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],C=0;C<v;C++)E[C]=this.i(C)|S.i(C);return new o(E,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],C=0;C<v;C++)E[C]=this.i(C)^S.i(C);return new o(E,this.h^S.h)};function rr(S){for(var v=S.g.length+1,E=[],C=0;C<v;C++)E[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(E,S.h)}function yt(S,v){var E=v>>5;v%=32;for(var C=S.g.length-E,T=[],R=0;R<C;R++)T[R]=0<v?S.i(R+E)>>>v|S.i(R+E+1)<<32-v:S.i(R+E);return new o(T,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VN=LN.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Wf=LN.Integer=o}).apply(typeof FN<"u"?FN:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={};var UN,Zq,jN,BN,$N,HN,qN,zN,WN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in h))break e;h=h[D]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,m=!1,D={next:function(){if(!m&&h<c.length){var M=h++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,m),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function g(c,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function I(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,D,M){for(var L=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];return d.prototype[D].apply(m,L)}}function x(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function k(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let D=c.length||0,M=m.length||0;c.length=D+M;for(let L=0;L<M;L++)c[D+L]=m[L]}else c.push(m)}}class ${constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function be(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var rr=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function yt(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function S(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function v(c){let d={};for(let h in c)d[h]=c[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let h,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(h in m)c[h]=m[h];for(let M=0;M<E.length;M++)h=E[M],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function T(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function R(c){a.setTimeout(()=>{throw c},0)}function _(){var c=sp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ir{constructor(){this.h=this.g=null}add(d,h){let m=ra.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var ra=new $(()=>new RM,c=>c.reset());class RM{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ia,sa=!1,sp=new ir,lw=()=>{let c=a.Promise.resolve(void 0);ia=()=>{c.then(NM)}};var NM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){R(h)}var d=ra;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}sa=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var MM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function oa(c,d){if(vt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(rr){e:{try{ot(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:PM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oa.aa.h.call(this)}}I(oa,vt);var PM={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),xM=0;function kM(c,d,h,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=D,this.key=++xM,this.da=this.fa=!1}function Pl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xl(c){this.src=c,this.g={},this.h=0}xl.prototype.add=function(c,d,h,m,D){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var L=ap(c,d,m,D);return-1<L?(d=c[L],h||(d.fa=!1)):(d=new kM(d,this.src,M,!!m,D),d.fa=h,c.push(d)),d};function op(c,d){var h=d.type;if(h in c.g){var m=c.g[h],D=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(m,D,1),M&&(Pl(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function ap(c,d,h,m){for(var D=0;D<c.length;++D){var M=c[D];if(!M.da&&M.listener==d&&M.capture==!!h&&M.ha==m)return D}return-1}var cp="closure_lm_"+(1e6*Math.random()|0),lp={};function uw(c,d,h,m,D){if(m&&m.once)return hw(c,d,h,m,D);if(Array.isArray(d)){for(var M=0;M<d.length;M++)uw(c,d[M],h,m,D);return null}return h=fp(h),c&&c[aa]?c.K(d,h,u(m)?!!m.capture:!!m,D):dw(c,d,h,!1,m,D)}function dw(c,d,h,m,D,M){if(!d)throw Error("Invalid event type");var L=u(D)?!!D.capture:!!D,Se=dp(c);if(Se||(c[cp]=Se=new xl(c)),h=Se.add(d,h,m,L,M),h.proxy)return h;if(m=OM(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)MM||(D=L),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(pw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OM(){function c(h){return d.call(c.src,c.listener,h)}let d=FM;return c}function hw(c,d,h,m,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)hw(c,d[M],h,m,D);return null}return h=fp(h),c&&c[aa]?c.L(d,h,u(m)?!!m.capture:!!m,D):dw(c,d,h,!0,m,D)}function fw(c,d,h,m,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)fw(c,d[M],h,m,D);else m=u(m)?!!m.capture:!!m,h=fp(h),c&&c[aa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],h=ap(M,h,m,D),-1<h&&(Pl(M[h]),Array.prototype.splice.call(M,h,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=dp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ap(d,h,m,D)),(h=-1<c?d[c]:null)&&up(h))}function up(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[aa])op(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(pw(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=dp(d))?(op(h,c),h.h==0&&(h.src=null,d[cp]=null)):Pl(c)}}}function pw(c){return c in lp?lp[c]:lp[c]="on"+c}function FM(c,d){if(c.da)c=!0;else{d=new oa(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&up(c),c=h.call(m,d)}return c}function dp(c){return c=c[cp],c instanceof xl?c:null}var hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(c){return typeof c=="function"?c:(c[hp]||(c[hp]=function(d){return c.handleEvent(d)}),c[hp])}function _t(){kr.call(this),this.i=new xl(this),this.M=this,this.F=null}I(_t,kr),_t.prototype[aa]=!0,_t.prototype.removeEventListener=function(c,d,h,m){fw(this,c,d,h,m)};function Dt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new vt(d,c);else if(d instanceof vt)d.target=d.target||c;else{var D=d;d=new vt(m,c),C(d,D)}if(D=!0,h)for(var M=h.length-1;0<=M;M--){var L=d.g=h[M];D=kl(L,m,!0,d)&&D}if(L=d.g=c,D=kl(L,m,!0,d)&&D,D=kl(L,m,!1,d)&&D,h)for(M=0;M<h.length;M++)L=d.g=h[M],D=kl(L,m,!1,d)&&D}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)Pl(h[m]);delete c.g[d],c.h--}}this.F=null},_t.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},_t.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function kl(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var L=d[M];if(L&&!L.da&&L.capture==h){var Se=L.listener,at=L.ha||L.src;L.fa&&op(c.i,L),D=Se.call(at,m)!==!1&&D}}return D&&!m.defaultPrevented}function mw(c,d,h){if(typeof c=="function")h&&(c=g(c,h));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function gw(c){c.g=mw(()=>{c.g=null,c.i&&(c.i=!1,gw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class LM extends kr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(c){kr.call(this),this.h=c,this.g={}}I(ca,kr);var yw=[];function vw(c){yt(c.g,function(d,h){this.g.hasOwnProperty(h)&&up(d)},c),c.g={}}ca.prototype.N=function(){ca.aa.N.call(this),vw(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pp=a.JSON.stringify,VM=a.JSON.parse,UM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function mp(){}mp.prototype.h=null;function _w(c){return c.h||(c.h=c.i())}function Ew(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gp(){vt.call(this,"d")}I(gp,vt);function yp(){vt.call(this,"c")}I(yp,vt);var _i={},ww=null;function Ol(){return ww=ww||new _t}_i.La="serverreachability";function Iw(c){vt.call(this,_i.La,c)}I(Iw,vt);function ua(c){let d=Ol();Dt(d,new Iw(d))}_i.STAT_EVENT="statevent";function Cw(c,d){vt.call(this,_i.STAT_EVENT,c),this.stat=d}I(Cw,vt);function St(c){let d=Ol();Dt(d,new Cw(d,c))}_i.Ma="timingevent";function Tw(c,d){vt.call(this,_i.Ma,c),this.size=d}I(Tw,vt);function da(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function jM(c,d,h,m,D,M){c.info(function(){if(c.g)if(M)for(var L="",Se=M.split("&"),at=0;at<Se.length;at++){var ye=Se[at].split("=");if(1<ye.length){var Et=ye[0];ye=ye[1];var wt=Et.split("_");L=2<=wt.length&&wt[1]=="type"?L+(Et+"="+ye+"&"):L+(Et+"=redacted&")}}else L=null;else L=M;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+h+`
`+L})}function BM(c,d,h,m,D,M,L){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+h+`
`+M+" "+L})}function _s(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+HM(c,h)+(m?" "+m:"")})}function $M(c,d){c.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function HM(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var D=m[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var L=1;L<D.length;L++)D[L]=""}}}}return pp(h)}catch{return d}}var Fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vp;function Ll(){}I(Ll,mp),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},vp=new Ll;function Or(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dw}function Dw(){this.i=null,this.g="",this.h=!1}var Sw={},_p={};function Ep(c,d,h){c.L=1,c.v=Bl(sr(d)),c.m=h,c.P=!0,Aw(c,null)}function Aw(c,d){c.F=Date.now(),Vl(c),c.A=sr(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),$w(h.i,"t",m),c.C=0,h=c.j.J,c.h=new Dw,c.g=oI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new LM(g(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(yw[0]=D.toString()),D=yw);for(var M=0;M<D.length;M++){var L=uw(h,D[M],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ua(),jM(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&or(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let wt=or(this.g);var d=this.g.Ba();let Is=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Qw(this.g)))){this.J||wt!=4||d==7||(d==8||0>=Is?ua(3):ua(2)),wp(this);var h=this.g.Z();this.X=h;t:if(Rw(this)){var m=Qw(this.g);c="";var D=m.length,M=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),fa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==D-1)});m.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,BM(this.i,this.u,this.A,this.l,this.R,wt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(Se)){var ye=Se;break t}}ye=null}if(h=ye)_s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ip(this,h);else{this.o=!1,this.s=3,St(12),Ei(this),fa(this);break e}}if(this.P){h=!0;let hn;for(;!this.J&&this.C<L.length;)if(hn=qM(this,L),hn==_p){wt==4&&(this.s=4,St(14),h=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Sw){this.s=4,St(15),_s(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else _s(this.i,this.l,hn,null),Ip(this,hn);if(Rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||L.length!=0||this.h.h||(this.s=1,St(16),h=!1),this.o=this.o&&h,!h)_s(this.i,this.l,L,"[Invalid Chunked Response]"),Ei(this),fa(this);else if(0<L.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Ap(Et),Et.M=!0,St(11))}}else _s(this.i,this.l,L,null),Ip(this,L);wt==4&&Ei(this),this.o&&!this.J&&(wt==4?nI(this.j,this):(this.o=!1,Vl(this)))}else aP(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Ei(this),fa(this)}}}catch{}finally{}};function Rw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qM(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?_p:(h=Number(d.substring(h,m)),isNaN(h)?Sw:(m+=1,m+h>d.length?_p:(d=d.slice(m,m+h),c.C=m+h,d)))}Or.prototype.cancel=function(){this.J=!0,Ei(this)};function Vl(c){c.S=Date.now()+c.I,Nw(c,c.I)}function Nw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=da(g(c.ba,c),d)}function wp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?($M(this.i,this.A),this.L!=2&&(ua(),St(17)),Ei(this),this.s=2,fa(this)):Nw(this,this.S-c)};function fa(c){c.j.G==0||c.J||nI(c.j,c)}function Ei(c){wp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,vw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ip(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Cp(h.h,c))){if(!c.K&&Cp(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Wl(h),ql(h);else break e;Sp(h),St(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=da(g(h.Za,h),6e3));if(1>=xw(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ii(h,11)}else if((c.K||h.g==c)&&Wl(h),!be(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let ye=D[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let Et=ye[3];Et!=null&&(h.la=Et,h.j.info("VER="+h.la));let wt=ye[4];wt!=null&&(h.Aa=wt,h.j.info("SVER="+h.Aa));let Is=ye[5];Is!=null&&typeof Is=="number"&&0<Is&&(m=1.5*Is,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let hn=c.g;if(hn){let Kl=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var M=m.h;M.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Tp(M,M.h),M.h=null))}if(m.D){let Rp=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rp&&(m.ya=Rp,xe(m.I,m.D,Rp))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var L=c;if(m.qa=sI(m,m.J?m.ia:null,m.W),L.K){kw(m.h,L);var Se=L,at=m.L;at&&(Se.I=at),Se.B&&(wp(Se),Vl(Se)),m.g=L}else eI(m);0<h.i.length&&zl(h)}else ye[0]!="stop"&&ye[0]!="close"||Ii(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ii(h,7):Dp(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}ua(4)}catch{}}var zM=class{constructor(c,d){this.g=c,this.map=d}};function Mw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xw(c){return c.h?1:c.g?c.g.size:0}function Cp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Tp(c,d){c.g?c.g.add(d):c.h=d}function kw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Mw.prototype.cancel=function(){if(this.i=Ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Ow(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return x(c.i)}function WM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function GM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function Fw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=GM(c),m=WM(c),D=m.length,M=0;M<D;M++)d.call(void 0,m[M],h&&h[M],c)}var Lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KM(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),D=null;if(0<=m){var M=c[h].substring(0,m);D=c[h].substring(m+1)}else M=c[h];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,Ul(this,c.j),this.o=c.o,this.g=c.g,jl(this,c.s),this.l=c.l;var d=c.i,h=new ga;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Vw(this,h),this.m=c.m}else c&&(d=String(c).match(Lw))?(this.h=!1,Ul(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),jl(this,d[4]),this.l=pa(d[5]||"",!0),Vw(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ma(d,Uw,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ma(d,Uw,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(ma(h,h.charAt(0)=="/"?JM:YM,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",ma(h,XM)),c.join("")};function sr(c){return new wi(c)}function Ul(c,d,h){c.j=h?pa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function jl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Vw(c,d,h){d instanceof ga?(c.i=d,eP(c.i,c.h)):(h||(d=ma(d,ZM)),c.i=new ga(d,c.h))}function xe(c,d,h){c.i.set(d,h)}function Bl(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function pa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,QM),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uw=/[#\/\?@]/g,YM=/[#\?:]/g,JM=/[#\?]/g,ZM=/[#\?@]/g,XM=/#/g;function ga(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&KM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ga.prototype,t.add=function(c,d){Fr(this),this.i=null,c=Es(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function jw(c,d){Fr(c),d=Es(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Bw(c,d){return Fr(c),d=Es(c,d),c.g.has(d)}t.forEach=function(c,d){Fr(this),this.g.forEach(function(h,m){h.forEach(function(D){c.call(d,D,m,this)},this)},this)},t.na=function(){Fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let D=c[m];for(let M=0;M<D.length;M++)h.push(d[m])}return h},t.V=function(c){Fr(this);let d=[];if(typeof c=="string")Bw(this,c)&&(d=d.concat(this.g.get(Es(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Fr(this),this.i=null,c=Es(this,c),Bw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function $w(c,d,h){jw(c,d),0<h.length&&(c.i=null,c.g.set(Es(c,d),x(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let M=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var D=M;L[m]!==""&&(D+="="+encodeURIComponent(String(L[m]))),c.push(D)}}return this.i=c.join("&")};function Es(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function eP(c,d){d&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(h,m){var D=m.toLowerCase();m!=D&&(jw(this,m),$w(this,D,h))},c)),c.j=d}function tP(c,d){let h=new ha;if(a.Image){let m=new Image;m.onload=y(Lr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,h,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function nP(c,d){let h=new ha,m=new AbortController,D=setTimeout(()=>{m.abort(),Lr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(D),M.ok?Lr(h,"TestPingServer: ok",!0,d):Lr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Lr(h,"TestPingServer: error",!1,d)})}function Lr(c,d,h,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(h)}catch{}}function rP(){this.g=new UM}function iP(c,d,h){let m=h||"";try{Fw(c,function(D,M){let L=D;u(D)&&(L=pp(D)),d.push(m+M+"="+encodeURIComponent(L))})}catch(D){throw d.push(m+"type="+encodeURIComponent("_badmap")),D}}function ya(c){this.l=c.Ub||null,this.j=c.eb||!1}I(ya,mp),ya.prototype.g=function(){return new $l(this.l,this.j)},ya.prototype.i=function(c){return function(){return c}}({});function $l(c,d){_t.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I($l,_t),t=$l.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,_a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?va(this):_a(this),this.readyState==3&&Hw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,va(this))},t.Qa=function(c){this.g&&(this.response=c,va(this))},t.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_a(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function _a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qw(c){let d="";return yt(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function bp(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=qw(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):xe(c,d,h))}function Le(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Le,_t);var sP=/^https?$/i,oP=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vp.g(),this.v=this.o?_w(this.o):_w(vp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){zw(this,M);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)h.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())h.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oP,d,void 0))||m||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,L]of h)this.g.setRequestHeader(M,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kw(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){zw(this,M)}};function zw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Ww(c),Hl(c)}function Ww(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hl(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gw(this):this.bb())},t.bb=function(){Gw(this)};function Gw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||or(c)!=4||c.Z()!=2)){if(c.u&&or(c)==4)mw(c.Ea,0,c);else if(Dt(c,"readystatechange"),or(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=L===0){var D=String(c.D).match(Lw)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),m=!sP.test(D?D.toLowerCase():"")}h=m}if(h)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var M=2<or(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Ww(c)}}finally{Hl(c)}}}}function Hl(c,d){if(c.g){Kw(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Dt(c,"ready");try{h.onreadystatechange=m}catch{}}}function Kw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),VM(d)}};function Qw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function aP(c){let d={};c=(c.g&&2<=or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(be(c[m]))continue;var h=T(c[m]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let M=d[D]||[];d[D]=M,M.push(h)}S(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function Yw(c){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mw(c&&c.concurrentRequestLimit),this.Da=new rP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yw.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,m){St(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=sI(this,null,this.W),zl(this)};function Dp(c){if(Jw(c),c.G==3){var d=c.U++,h=sr(c.I);if(xe(h,"SID",c.K),xe(h,"RID",d),xe(h,"TYPE","terminate"),wa(c,h),d=new Or(c,c.j,d),d.L=2,d.v=Bl(sr(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=oI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Vl(d)}iI(c)}function ql(c){c.g&&(Ap(c),c.g.cancel(),c.g=null)}function Jw(c){ql(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zl(c){if(!Pw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ia||lw(),sa||(ia(),sa=!0),sp.add(d,c),c.B=0}}function cP(c,d){return xw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=da(g(c.Ga,c,d),rI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Or(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),C(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Xw(this,D,d),h=sr(this.I),xe(h,"RID",c),xe(h,"CVER",22),this.D&&xe(h,"X-HTTP-Session-Id",this.D),wa(this,h),M&&(this.O?d="headers="+encodeURIComponent(String(qw(M)))+"&"+d:this.m&&bp(h,this.m,M)),Tp(this.h,D),this.Ua&&xe(h,"TYPE","init"),this.P?(xe(h,"$req",d),xe(h,"SID","null"),D.T=!0,Ep(D,h,null)):Ep(D,h,d),this.G=2}}else this.G==3&&(c?Zw(this,c):this.i.length==0||Pw(this.h)||Zw(this))};function Zw(c,d){var h;d?h=d.l:h=c.U++;let m=sr(c.I);xe(m,"SID",c.K),xe(m,"RID",h),xe(m,"AID",c.T),wa(c,m),c.m&&c.o&&bp(m,c.m,c.o),h=new Or(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Xw(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tp(c.h,h),Ep(h,m,d)}function wa(c,d){c.H&&yt(c.H,function(h,m){xe(d,m,h)}),c.l&&Fw({},function(h,m){xe(d,m,h)})}function Xw(c,d,h){h=Math.min(c.i.length,h);var m=c.l?g(c.l.Na,c.l,c):null;e:{var D=c.i;let M=-1;for(;;){let L=["count="+h];M==-1?0<h?(M=D[0].g,L.push("ofs="+M)):M=0:L.push("ofs="+M);let Se=!0;for(let at=0;at<h;at++){let ye=D[at].g,Et=D[at].map;if(ye-=M,0>ye)M=Math.max(0,D[at].g-100),Se=!1;else try{iP(Et,L,"req"+ye+"_")}catch{m&&m(Et)}}if(Se){m=L.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function eI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ia||lw(),sa||(ia(),sa=!0),sp.add(d,c),c.v=0}}function Sp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=da(g(c.Fa,c),rI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,tI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=da(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ql(this),tI(this))};function Ap(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function tI(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=sr(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),wa(c,d),c.m&&c.o&&bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Bl(sr(d)),h.m=null,h.P=!0,Aw(h,c)}t.Za=function(){this.C!=null&&(this.C=null,ql(this),Sp(this),St(19))};function Wl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function nI(c,d){var h=null;if(c.g==d){Wl(c),Ap(c),c.g=null;var m=2}else if(Cp(c.h,d))h=d.D,kw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;m=Ol(),Dt(m,new Tw(m,h)),zl(c)}else eI(c);else if(D=d.s,D==3||D==0&&0<d.X||!(m==1&&cP(c,d)||m==2&&Sp(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function rI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Ii(c,d){if(c.j.info("Error code "+d),d==2){var h=g(c.fb,c),m=c.Xa;let D=!m;m=new wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ul(m,"https"),Bl(m),D?tP(m.toString(),h):nP(m.toString(),h)}else St(2);c.G=0,c.l&&c.l.sa(d),iI(c),Jw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function iI(c){if(c.G=0,c.ka=[],c.l){let d=Ow(c.h);(d.length!=0||c.i.length!=0)&&(k(c.ka,d),k(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function sI(c,d,h){var m=h instanceof wi?sr(h):new wi(h);if(m.g!="")d&&(m.g=d+"."+m.g),jl(m,m.s);else{var D=a.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new wi(null);m&&Ul(M,m),d&&(M.g=d),D&&jl(M,D),h&&(M.l=h),m=M}return h=c.D,d=c.ya,h&&d&&xe(m,h,d),xe(m,"VER",c.la),wa(c,m),m}function oI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new ya({eb:h})):new Le(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aI(){}t=aI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gl(){}Gl.prototype.g=function(c,d){return new Ht(c,d)};function Ht(c,d){_t.call(this),this.g=new Yw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!be(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!be(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ws(this)}I(Ht,_t),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Dp(this.g)},Ht.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=pp(c),c=h);d.i.push(new zM(d.Ya++,c)),d.G==3&&zl(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Dp(this.g),delete this.g,Ht.aa.N.call(this)};function cI(c){gp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(cI,gp);function lI(){yp.call(this),this.status=1}I(lI,yp);function ws(c){this.g=c}I(ws,aI),ws.prototype.ua=function(){Dt(this.g,"a")},ws.prototype.ta=function(c){Dt(this.g,new cI(c))},ws.prototype.sa=function(c){Dt(this.g,new lI)},ws.prototype.ra=function(){Dt(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,WN=xr.createWebChannelTransport=function(){return new Gl},zN=xr.getStatEventTarget=function(){return Ol()},qN=xr.Event=_i,HN=xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,$N=xr.ErrorCode=Fl,bw.COMPLETE="complete",BN=xr.EventType=bw,Ew.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",_t.prototype.listen=_t.prototype.K,jN=xr.WebChannel=Ew,Zq=xr.FetchXmlHttpFactory=ya,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,UN=xr.XhrIo=Le}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});var GN="@firebase/firestore",KN="4.7.11";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var Nl="11.6.1";var ea=new un("@firebase/firestore");function Dn(t,...e){if(ea.logLevel<=ge.DEBUG){let n=e.map(ow);ea.debug(`Firestore (${Nl}): ${t}`,...n)}}function rM(t,...e){if(ea.logLevel<=ge.ERROR){let n=e.map(ow);ea.error(`Firestore (${Nl}): ${t}`,...n)}}function Xq(t,...e){if(ea.logLevel<=ge.WARN){let n=e.map(ow);ea.warn(`Firestore (${Nl}): ${t}`,...n)}}function ow(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function tn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iM(t,r,n)}function iM(t,e,n){let r=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rM(r),new Error(r)}function gs(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iM(e,i,r)}var Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gt=class extends Xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ys=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},WE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},GE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},KE=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gs(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ys,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>A(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Dn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Dn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ys)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Dn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gs(typeof r.accessToken=="string",31837,{l:r}),new Kf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return gs(e===null||typeof e=="string",2055,{h:e}),new mt(e)}},QE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},YE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},JE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gs(this.o===void 0,3512);let r=s=>{s.error!=null&&Dn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Dn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Dn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Dn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gs(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ez(){return new TextEncoder}function vi(t,e){return t<e?-1:t>e?1:0}function tz(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vi(r,i);{let s=ez(),o=nz(s.encode(QN(t,n)),s.encode(QN(e,n)));return o!==0?o:vi(r,i)}}n+=r>65535?2:1}return vi(t.length,e.length)}function QN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vi(t[n],e[n]);return vi(t.length,e.length)}var ZE=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&tn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return vi(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):tz(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wf.fromString(e.substring(4,e.length-2))}},yi=class t extends ZE{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new gt(Pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var vs=class t{constructor(e){this.path=e}static fromPath(e){return new t(yi.fromString(e))}static fromName(e){return new t(yi.fromString(e).popFirst(5))}static empty(){return new t(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new yi(e.slice()))}};var XE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};XE.UNKNOWN_ID=-1;function rz(t){return t.name==="IndexedDbTransactionError"}function iz(t){return t===0&&1/t==-1/0}var sz="remoteDocuments",sM="owner";var oM="mutationQueues";var aM="mutations";var cM="documentMutations",oz="remoteDocumentsV14";var lM="remoteDocumentGlobal";var uM="targets";var dM="targetDocuments";var hM="targetGlobal",fM="collectionParents";var pM="clientMetadata";var mM="bundles";var gM="namedQueries";var az="indexConfiguration";var cz="indexState";var lz="indexEntries";var yM="documentOverlays";var uz="globals";var dz=[oM,aM,cM,sz,uM,sM,hM,dM,pM,lM,fM,mM,gM],Gne=[...dz,yM],hz=[oM,aM,cM,oz,uM,sM,hM,dM,pM,lM,fM,mM,gM,yM],fz=hz,pz=[...fz,az,cz,lz];var Kne=[...pz,uz];var ta=class t{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}},Xo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},nr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}};nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Yf=class t{constructor(e){this.comparator=e,this.data=new ta(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jf(this.data.getIterator())}getIteratorFrom(e){return new Jf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Jf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ew=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var na=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ew("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};na.EMPTY_BYTE_STRING=new na("");var mz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gz(t){if(gs(!!t,39018),typeof t=="string"){let e=0,n=mz.exec(t);if(gs(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rl(t.seconds),nanos:Rl(t.nanos)}}function Rl(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yz(t){return typeof t=="string"?na.fromBase64String(t):na.fromUint8Array(t)}var tw="(default)",nw=class t{constructor(e,n){this.projectId=e,this.database=n||tw}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===tw}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vM="__type__",vz="__max__";var _M="__vector__",EM="value";function _z(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vM])===null||n===void 0?void 0:n.stringValue)===_M}function Ez(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vz}var Yne={mapValue:{fields:{[vM]:{stringValue:_M},[EM]:{arrayValue:{}}}}};var Jne=new ta(vs.comparator);var Zne=new ta(vs.comparator);var Xne=new ta(vs.comparator),ere=new Yf(vs.comparator);var tre=new Yf(vi);var YN,fe;(fe=YN||(YN={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var nre=new Wf([4294967295,4294967295],0);var Zf=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Rl(e.integerValue));else if("doubleValue"in e){let r=Rl(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),iz(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=gz(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(yz(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?Ez(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):_z(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):tn(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let s=e.fields||{};this.Mt(n,53);let o=EM,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Rl(a)),this.Nt(o,n),this.Ct(s[o],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),vs.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Zf.Wt=new Zf;var rre=new Uint8Array(0);var wM=41943040,tr=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(wM,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);var wz=1048576;function zE(){return typeof document<"u"?document:null}var rw=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Dn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var iw=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var JN,ZN;(ZN=JN||(JN={})).ya="default",ZN.Cache="cache";function Iz(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var XN=new Map;function Cz(t,e,n,r){if(e===!0&&r===!0)throw new gt(Pt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tz(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tn(12329,{type:typeof t})}function bz(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new gt(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Tz(t);throw new gt(Pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var IM="firestore.googleapis.com",eM=!0,Xf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IM,this.ssl=eM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:eM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wz)throw new gt(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iz((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ep=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WE;switch(r.type){case"firstParty":return new YE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=XN.get(n);r&&(Dn("ComponentProvider","Removing Datastore"),XN.delete(n),r.terminate())}(this),Promise.resolve()}};function CM(t,e,n,r={}){var i;let s=(t=bz(t,ep))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==IM&&s.host!==a&&Xq("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!ln(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=mt.MOCK_USER;else{u=Dh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new gt(Pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mt(p)}t._authCredentials=new GE(new Kf(u,f))}}var tM="AsyncQueue",tp=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new rw(this,"async_queue_retry"),this.ju=()=>{let r=zE();r&&Dn(tM,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=zE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=zE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new ys;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return A(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!rz(e))throw e;Dn(tM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,rM("INTERNAL UNHANDLED ERROR: ",nM(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=iw.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&tn(47125,{ec:nM(this.Ku)})}verifyOperationInProgress(){}tc(){return A(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function nM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var sw=class extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new tp(e),this._firestoreClient=void 0,yield e}})}};function TM(t,e){let n=typeof t=="object"?t:br(),r=typeof t=="string"?t:e||tw,i=ii(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=bh("firestore");s&&CM(i,...s)}return i}var ire=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Nl=i})(Gn),en(new pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new sw(new KE(r.getProvider("auth-internal")),new JE(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new gt(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nw(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ne(GN,KN,e),Ne(GN,KN,"esm2017")})();var Ml=class{constructor(e){return e}},bM="firestore",aw=class{constructor(){return si(bM)}};var cw=new U("angularfire2.firestore-instances");function Dz(t,e){let n=ts(bM,t,e);return n&&new Ml(n)}function Sz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ml(r)}}var Az={provide:aw,deps:[[new et,cw]]},Rz={provide:Ml,useFactory:Dz,deps:[[new et,cw],wn]};function DM(t,...e){return Ne("angularfire",Kn.full,"fst"),Kt([Rz,Az,{provide:cw,useFactory:Sz(t),multi:!0,deps:[Ee,Je,Qn,Dr,[new et,as],[new et,ai],...e]}])}var SM=Ut(TM,!0);var Nz={apiKey:"AIzaSyDZadSXXPftWCJP7-BhqXWuYyVBP-LN3Jo",authDomain:"ccfdatabase-1b564.firebaseapp.com",databaseURL:"https://ccfdatabase-1b564-default-rtdb.firebaseio.com",projectId:"ccfdatabase-1b564",storageBucket:"ccfdatabase-1b564.firebasestorage.app",messagingSenderId:"456819205686",appId:"1:456819205686:web:943b4e1f2671ccb979da97"},AM={providers:[rb({eventCoalescing:!0}),Gy(ON),Iy(Cy()),AS(()=>RS(Nz)),DM(()=>SM()),xN(()=>kN()),kA(()=>FA())]};var np=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-navbar"]],decls:16,vars:0,consts:[[1,"navbar","bg-dark"],["src","images/C.jpg","routerLink","",1,"navbar-logo"],["routerLink","newsletter",1,"navbarLinks"],["routerLink","forums",1,"navbarLinks"],["routerLink","games",1,"navbarLinks"],["routerLink","weather",1,"navbarLinks"],["routerLink","userAuth",1,"navbarLinks"],["routerLink","settings",1,"navbarLinks"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"]],template:function(n,r){n&1&&(b(0,"nav",0),H(1,"img",1),b(2,"a",2),N(3,"Newsletter"),w(),b(4,"a",3),N(5,"Forums"),w(),b(6,"a",4),N(7,"Games"),w(),b(8,"a",5),N(9,"Weather"),w(),b(10,"a",6),N(11,"Login/Sign up"),w(),b(12,"a",7),Qa(),b(13,"svg",8),H(14,"path",9)(15,"path",10),w()()())},dependencies:[Vt],styles:[".offBorder[_ngcontent-%COMP%]{margin-left:30px}.navbarLinks[_ngcontent-%COMP%]{margin-right:20px;color:#fff;text-decoration:none}.navbar-logo[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;border-radius:10px;height:40px}"]})};var rp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"bg-dark","text-white","text-center","py-3","mt-auto"]],template:function(n,r){n&1&&(b(0,"footer",0)(1,"p"),N(2,"\xA9 2025 Campus Community Forum. All rights reserved."),w()())},dependencies:[cn],encapsulation:2})};var ip=class t{title="Campus Community Forum";darkModeService=P(Zo);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"footer-spacing"]],template:function(n,r){n&1&&(b(0,"div",0),H(1,"app-navbar")(2,"router-outlet")(3,"app-footer",1),w()),n&2&&Ui("data-bs-theme",r.darkModeService.darkModeSignal())},dependencies:[Ac,np,rp],styles:[".footer-spacing[_ngcontent-%COMP%]{padding-top:50px}"]})};gy(ip,AM).catch(t=>console.error(t));
